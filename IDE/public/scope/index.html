<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Bela Oscilloscope</title>
		<link rel="stylesheet" type="text/css" href="/css/style.css" />
	</head>
	<body>
		
		<div class="scopeWrapper">
			<div class="buttonWrapper">
				<button id="controlsButton">Launch controls</button>
				<span class="mode-selector">Plot mode: 
					<select class="scopeControls" data-key="plotMode">
							<option value="0" selected>Time-Domain</option>
							<option value="1">FFT</option>
						</select>
				</span>
				<span id="ide-cpu">ide:</span>
				<span id="bela-cpu">Bela CPU:</span>
				<span id="scopeMouseX">Mouse X position:</span>
				<span id="scopeMouseY">Mouse Y position:</span>
				<span id="scopeStatus" class="scope-status-waiting">waiting</span>
			</div>
			<div class="inactive-overlay"></div>
			<canvas id="scopeBG"></canvas>
			<div id="control-panel" class="hidden scopeControls-parent channelView-parent">
				<div class="control-panel-row">
				<div class="control-section axis-controls">
					<h1>X-Axis</h1>
					<div class="block-section">
						<button class="scopeControls" data-key="upSampling" id="zoomUp">Zoom in</button>
						<button class="scopeControls" data-key="downSampling" id="zoomDown">Zoom out</button>
						<span class="xAxisUnits"><p>ms</p></span><p>/div:</p>
						<span class="xUnit-display"></span><span class="xAxisUnits">ms</span>
					</div>
					<div class="block-section">
						<p>Offset (px):</p>
						<input class="scopeControls range-slider" data-key="xOffset" type="range" min="-1280" max="1280" value="0" step="1"></input>
						<input class="scopeControls number-box" data-key="xOffset" type="number" value="0"></input>
					</div>
					<div class="block-section">
						<p>Hold off (ms):</p>
						<input  class="scopeControls range-slider" data-key="holdOff" type="range" min="0" max="1000" value="0" step="1"></input>
						<input class="scopeControls number-box" data-key="holdOff" type="number" value="0" step="1" min="0"></input>
					</div>
				</div>
				
					
				<div class="control-section trigger-controls">
					<h1>Trigger</h1>
					<div class="block-section">
						<div class="scope-label">
							<p>Mode:</p>
						</div>
						<div class="scope-input">
							<select  class="scopeControls" data-key="triggerMode">
								<option value="0" selected>Auto</option>
								<option value="1">Normal</option>
								<option value="2">Custom</option>
							</select>
						</div>
					</div>
					<div class="block-section">
						<div class="scope-label">
							<p>Channel:</p>
						</div>
						<div class="scope-input">
							<select  class="scopeControls" data-key="triggerChannel">
								<option value="0" selected>1</option>
							</select>
						</div>
					</div>
					<div class="block-section">
						<div class="scope-label">
							<p>Direction:</p>
						</div>
						<div class="scope-input">
							<select class="scopeControls" data-key="triggerDir">
								<option value="0" selected>Positive</option>
								<option value="1">Negative</option>
								<option value="2">Bi-Directional</option>
							</select>
						</div>
					</div>

					<div class="block-section">
						<p>Level:</p>
						<br />
						<input class="scopeControls range-slider" data-key="triggerLevel" type="range" min="-1" max="1" value="0" step="0.01"></input>
						<input class="scopeControls number-box" data-key="triggerLevel" type="number" value="0" step="0.01"></input>
					</div>
						
					<div class="block-section">	
						<div class="scope-label">	
							<p>Interpolation:</p>
						</div>
						<div class="scope-input">
							<select class="scopeControls" data-key="interpolation">
								<option value="0" selected>Linear</option>
								<option value="1">None</option>
							</select>
						</div>
					</div>

					<div class="block-section">
						<button id="oneshotButton" class="scopeControls" data-key="scopeOneShot">Trigger one-shot</button>
					</div>
				</div>
			</div> <!-- end control panel row 1 -->

			<div class="control-panel-row">
				<div class="control-section misc-controls">
					<h1>Misc</h1>
					<div class="block-section">
						<button id="pauseButton" class="scopeControls" data-key="scopePause">Pause plotting</button>
					</div>
					<div class="block-section">
						<a href="" download="scope" id="saveCanvas"><button>Export scope image</button></a>
					</div>
					<div class="block-section">
						<a href="" download="scopeData.csv" id="saveCanvasData"><button>Export CSV data</button></a>
					</div>
				</div>

				<div class="control-section FFTControls">
					<h1>FFT</h1>
					<div class="block-section">
						<div class="scope-label">
							<p>Length (samples):</p>
						</div>
						<div class="scope-input">
							<select class="scopeControls" data-key="FFTLength">
								<option value="128">128</option>
								<option value="256">256</option>
								<option value="512">512</option>
								<option value="1024" selected>1024</option>
								<option value="2048">2048</option>
								<option value="4096">4096</option>
								<option value="8192">8192</option>
								<option value="16384">16384</option>
								<option value="32768">32768</option>
							</select>
						</div>
					</div>
					<div class="block-section">
						<div class="scope-label">
							<p>X-Axis:</p>
						</div>
						<div class="scope-input">
							<select class="scopeControls" data-key="FFTXAxis">
								<option value="0" selected>Linear</option>
								<option value="1">Logarithmic</option>
							</select>
						</div>
					</div>
					<div class="block-section">
						<div class="scope-label">
							<p>Y-Axis:</p>
						</div>
						<div class="scope-input">
							<select class="scopeControls" data-key="FFTYAxis">
								<option value="0" selected>Normalised</option>
								<option value="1">Decibels</option>
							</select>
						</div>
					</div>
				</div>
</div>

			</div> <!-- end contol panel -->
					
					
					
					
						
					
				
				<div id="channelColumn" class="cpColumn">
					<div id="channelViewChannel0" class="channelView">
						<h1>Channel 1</h1>
						<table>
							<tbody>
								<tr>
									<td>Attenuation:</td>
									<td>
										<input class="channelView" data-key="yAmplitude" data-channel="0" type="range" min="0" max="100" value="1" step="0.01">
										<input class="channelView" data-key="yAmplitude" data-channel="0" type="number" value="1" step="0.01"></input>
									</td>
								</tr>
								<tr>
									<td>Offset:</td>
									<td>
										<input class="channelView" data-key="yOffset" data-channel="0" type="range" min="-1" max="1" value="0" step="0.01"></input>
										<input class="channelView" data-key="yOffset" data-channel="0" type="number" value="0" step="0.01"></input>
									</td>
								</tr>
								<tr>
									<td>Weight:</td>
									<td>
										<input class="channelView" data-key="lineWeight" data-channel="0" type="range" value="1.5" min="1" max="10" step="0.1"></input>
										<input class="channelView" data-key="lineWeight" data-channel="0" type="number" value="1.5" min="1" max="10" step="0.1"></input>
									</td>
								</tr>
								<tr>
									<td>Colour:</td>
									<td>
										<input class="channelView" data-key="color" data-channel="0" type="color" value="#ff0000"></input>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<div id="sliderColumn" class="cpColumn">
					<div id="scopeSlider0" class="sliderView">
						<h1>Slider</h1>
						<table>
							<tbody>
								<tr>
									<td>Min:</td>
									<td>
										<input class="sliderView" data-key="min" data-slider="0" type="number" value="0" step="0.01"></input>
									</td>
								</tr>
								<tr>
									<td>Max:</td>
									<td>
										<input class="sliderView" data-key="max" data-slider="0" type="number" value="1" step="0.01"></input>
									</td>
								</tr>
								<tr>
									<td>Step:</td>
									<td>
										<input class="sliderView" data-key="step" data-slider="0" type="number" value="0.01" step="0.001"></input>
									</td>
								</tr>
							</tbody>
						</table>
						<input class="sliderView" data-key="value" data-slider="0" type="range" value="0" min="0" max="1" step="0.01"></input>
						<input class="sliderView" data-key="value" data-slider="0" type="number" value="0" step="0.01"></input>
					</div>
				</div>
				
			</div>
		</div>

		<script src="js/jquery.js"></script>
		<script src="../socket.io/socket.io.js"></script>
		<script src="js/polyfill.js"></script>
		<script src="js/pixi.js"></script>
		<script src="js/bundle.js"></script>
		
	</body>
</html>
