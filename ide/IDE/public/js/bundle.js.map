{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/events/events.js","src/IDE-browser.js","src/Models/Model.js","src/Views/ConsoleView.js","src/Views/DebugView.js","src/Views/DocumentationView.js","src/Views/EditorView.js","src/Views/FileView.js","src/Views/GitView.js","src/Views/ProjectView.js","src/Views/SettingsView.js","src/Views/TabView.js","src/Views/ToolbarView.js","src/Views/View.js","src/console.js","src/main.js","src/popup.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC7SA,OAAO,OAAP,GAAiB,EAAjB;;AAEA,IAAI,QAAQ,QAAQ,gBAAR,CAAZ;AACA,IAAI,QAAQ,QAAQ,SAAR,CAAZ;;;AAGA,IAAI,SAAS,EAAb;AACA,OAAO,OAAP,GAAiB,IAAI,KAAJ,EAAjB;AACA,OAAO,QAAP,GAAkB,IAAI,KAAJ,EAAlB;AACA,OAAO,MAAP,GAAgB,IAAI,KAAJ,EAAhB;AACA,OAAO,KAAP,GAAe,IAAI,KAAJ,EAAf;AACA,OAAO,KAAP,GAAe,IAAI,KAAJ,EAAf;AACA,OAAO,GAAP,GAAa,IAAI,KAAJ,EAAb;;;AAGA,OAAO,MAAP,CAAc,OAAd,CAAsB,EAAC,SAAS,KAAV,EAAiB,UAAU,KAA3B,EAAtB;;;;AAIA,IAAI,UAAU,QAAQ,iBAAR,CAAd;AACA,QAAQ,EAAR,CAAW,QAAX,EAAqB;AAAA,QAAM,WAAW,IAAX,CAAgB,QAAhB,CAAN;AAAA,CAArB;;;AAGA,IAAI,eAAe,KAAK,QAAQ,sBAAR,CAAL,EAAsC,iBAAtC,EAAyD,CAAC,OAAO,OAAR,EAAiB,OAAO,QAAxB,CAAzD,EAA4F,OAAO,QAAnG,CAAnB;AACA,aAAa,EAAb,CAAgB,kBAAhB,EAAoC,UAAC,IAAD,EAAU;AAC7C,MAAK,cAAL,GAAsB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAtB;;AAEA,QAAO,IAAP,CAAY,kBAAZ,EAAgC,IAAhC;AACA,CAJD;AAKA,aAAa,EAAb,CAAgB,cAAhB,EAAgC,UAAC,IAAD,EAAU;AACzC,MAAK,cAAL,GAAsB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAtB;;AAEA,QAAO,IAAP,CAAY,cAAZ,EAA4B,IAA5B;AACA,CAJD;AAKA,aAAa,EAAb,CAAgB,aAAhB,EAA+B;AAAA,QAAW,OAAO,IAAP,CAAY,aAAZ,EAA2B,OAA3B,CAAX;AAAA,CAA/B;AACA,aAAa,EAAb,CAAgB,MAAhB,EAAwB,YAAM;AAC7B,QAAO,IAAP,CAAY,YAAZ,EAA0B,MAA1B;AACA,aAAY,IAAZ,CAAiB,MAAjB,EAAyB,kBAAzB;AACA,CAHD;AAIA,aAAa,EAAb,CAAgB,SAAhB,EAA2B;AAAA,QAAQ,YAAY,IAAZ,CAAiB,MAAjB,EAAyB,IAAzB,CAAR;AAAA,CAA3B;AACA,aAAa,EAAb,CAAgB,eAAhB,EAAiC;AAAA,QAAQ,OAAO,IAAP,CAAY,eAAZ,EAA6B,IAA7B,CAAR;AAAA,CAAjC;;;AAGA,IAAI,cAAc,KAAK,QAAQ,qBAAR,CAAL,EAAqC,gBAArC,EAAuD,CAAC,OAAO,OAAR,CAAvD,CAAlB;AACA,YAAY,EAAZ,CAAe,SAAf,EAA0B,UAAC,KAAD,EAAQ,IAAR,EAAiB;AAC1C,KAAI,CAAC,KAAK,cAAN,IAAwB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAA5B,EAAoE;AACnE,OAAK,cAAL,GAAsB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAtB;AACA;AACD,MAAK,SAAL,GAAiB,YAAY,GAAZ,EAAjB;AACA,aAAY,IAAZ,CAAiB,kBAAjB,EAAqC,IAArC;AACA,QAAO,IAAP,CAAY,KAAZ,EAAmB,IAAnB;AACA,CAPD;;;AAUA,IAAI,WAAW,KAAK,QAAQ,kBAAR,CAAL,EAAkC,aAAlC,EAAiD,CAAC,OAAO,OAAR,CAAjD,CAAf;AACA,SAAS,EAAT,CAAY,SAAZ,EAAuB,UAAC,KAAD,EAAQ,IAAR,EAAiB;AACvC,KAAI,CAAC,KAAK,cAAN,IAAwB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAA5B,EAAoE;AACnE,OAAK,cAAL,GAAsB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAtB;AACA;AACD,KAAI,CAAC,KAAK,QAAN,IAAkB,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,CAAtB,EAAwD;AACvD,OAAK,QAAL,GAAgB,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,CAAhB;AACA;AACD,MAAK,SAAL,GAAiB,YAAY,GAAZ,EAAjB;AACA,aAAY,IAAZ,CAAiB,kBAAjB,EAAqC,IAArC;AACA,QAAO,IAAP,CAAY,KAAZ,EAAmB,IAAnB;AACA,CAVD;;;AAaA,IAAI,aAAa,KAAK,QAAQ,oBAAR,CAAL,EAAoC,QAApC,EAA8C,CAAC,OAAO,OAAR,EAAiB,OAAO,KAAxB,EAA+B,OAAO,QAAtC,EAAgD,OAAO,KAAvD,CAA9C,EAA6G,OAAO,QAApH,CAAjB;AACA,WAAW,EAAX,CAAc,QAAd,EAAwB,oBAAY;AACnC,QAAO,IAAP,CAAY,eAAZ,EAA6B;AAC5B,SAAU,QADkB;AAE5B,kBAAiB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAFW;AAG5B,WAAY,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,CAHgB;AAI5B,oBAJ4B;AAK5B,eAAe,SAAS,OAAO,QAAP,CAAgB,MAAhB,CAAuB,oBAAvB,CAAT;AALa,EAA7B;AAOA,CARD;AASA,WAAW,EAAX,CAAc,YAAd,EAA4B,gBAAQ;AACnC,KAAI,cAAc,OAAO,OAAP,CAAe,MAAf,CAAsB,aAAtB,CAAlB;AACA,MAAK,IAAI,IAAE,CAAX,EAAc,IAAE,YAAY,MAA5B,EAAoC,GAApC,EAAwC;AACvC,MAAI,YAAY,CAAZ,EAAe,IAAf,KAAwB,IAAxB,IAAgC,YAAY,CAAZ,EAAe,IAAf,KAAwB,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,CAA5D,EAA8F;AAC7F,UAAO,IAAP,CAAY,gBAAZ,EAA8B,kBAA9B,EAAkD,YAAY,CAAZ,CAAlD;AACA,UAAO,OAAP,CAAe,aAAf,CAA6B,aAA7B,EAA4C,CAA5C;AACA;AACA;AACD;AACD,KAAI,gBAAgB;AACnB,YADmB;AAEnB,QAAM,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB;AAFa,EAApB;AAIA,QAAO,IAAP,CAAY,gBAAZ,EAA8B,eAA9B,EAA+C,aAA/C;AACA,QAAO,OAAP,CAAe,WAAf,CAA2B,aAA3B,EAA0C,aAA1C;;;AAGA,CAjBD;AAkBA,WAAW,EAAX,CAAc,mBAAd,EAAmC;AAAA,QAAQ,YAAY,IAAZ,CAAiB,kBAAjB,EAAqC,IAArC,CAAR;AAAA,CAAnC;AACA,WAAW,EAAX,CAAc,oBAAd,EAAoC;AAAA,QAAQ,YAAY,IAAZ,CAAiB,mBAAjB,EAAsC,IAAtC,CAAR;AAAA,CAApC;AACA,WAAW,EAAX,CAAc,gBAAd,EAAgC,YAAM;AACrC,KAAI,OAAO,OAAP,CAAe,MAAf,CAAsB,aAAtB,CAAJ,EAA0C,YAAY,IAAZ,CAAiB,iBAAjB;AAC1C,CAFD;;;AAKA,IAAI,cAAc,KAAK,QAAQ,qBAAR,CAAL,EAAqC,SAArC,EAAgD,CAAC,OAAO,OAAR,EAAiB,OAAO,KAAxB,EAA+B,OAAO,MAAtC,EAA8C,OAAO,QAArD,EAA+D,OAAO,KAAtE,CAAhD,CAAlB;AACA,YAAY,EAAZ,CAAe,eAAf,EAAgC,UAAC,KAAD,EAAW;AAC1C,KAAI,WAAJ;AACA,KAAI,OAAO,KAAP,CAAa,MAAb,CAAoB,WAApB,CAAJ,EAAsC,cAAc,OAAO,OAAP,CAAe,MAAf,CAAsB,aAAtB,CAAd;AACtC,KAAI,OAAO;AACV,cADU;AAEV,kBAAiB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAFP;AAGV,SAAU,OAAO,KAAP,CAAa,MAAb,CAAoB,WAApB,CAHA;AAIV;AAJU,EAAX;;AAOA,KAAI,UAAU,MAAd,EAAsB,YAAY,IAAZ,CAAiB,yBAAjB,EAA4C,kBAA5C;AACtB,QAAO,IAAP,CAAY,eAAZ,EAA6B,IAA7B;AACA,CAZD;AAaA,YAAY,EAAZ,CAAe,eAAf,EAAgC;AAAA,QAAM,YAAY,IAAZ,CAAiB,OAAjB,CAAN;AAAA,CAAhC;;;AAGA,IAAI,cAAc,KAAK,QAAQ,qBAAR,CAAL,EAAqC,YAArC,EAAmD,CAAC,OAAO,MAAR,EAAgB,OAAO,OAAvB,EAAgC,OAAO,KAAvC,EAA8C,OAAO,QAArD,EAA+D,OAAO,KAAtE,CAAnD,EAAiI,OAAO,QAAxI,CAAlB;AACA,YAAY,EAAZ,CAAe,OAAf,EAAwB,UAAC,KAAD;AAAA,QAAY,OAAO,OAAP,CAAe,MAAf,CAAsB,OAAtB,EAA+B,KAA/B,CAAZ;AAAA,CAAxB;AACA,YAAY,EAAZ,CAAe,WAAf,EAA4B,UAAC,QAAD,EAAW,KAAX,EAAqB;AAChD,KAAI,OAAO;AACV,QAAM,UADI;AAEV,oBAFU;AAGV,cAHU;AAIV,kBAAgB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB;AAJN,EAAX;AAMA,QAAO,IAAP,CAAY,eAAZ,EAA6B,IAA7B;AACA,CARD;AASA,YAAY,EAAZ,CAAe,OAAf,EAAwB;AAAA,QAAS,OAAO,IAAP,CAAY,YAAZ,EAA0B,KAA1B,CAAT;AAAA,CAAxB;AACA,YAAY,EAAZ,CAAe,KAAf,EAAsB;AAAA,QAAO,OAAO,IAAP,CAAY,QAAZ,EAAsB,GAAtB,CAAP;AAAA,CAAtB;;;AAGA,IAAI,YAAY,KAAK,QAAQ,mBAAR,CAAL,EAAmC,UAAnC,EAA+C,CAAC,OAAO,KAAR,EAAe,OAAO,QAAtB,EAAgC,OAAO,OAAvC,CAA/C,CAAhB;AACA,UAAU,EAAV,CAAa,gBAAb,EAA+B,UAAC,IAAD;AAAA,QAAU,OAAO,IAAP,CAAY,gBAAZ,EAA8B,IAA9B,CAAV;AAAA,CAA/B;AACA,UAAU,EAAV,CAAa,YAAb,EAA2B,UAAC,MAAD;AAAA,QAAY,OAAO,KAAP,CAAa,MAAb,CAAoB,WAApB,EAAiC,MAAjC,CAAZ;AAAA,CAA3B;;;AAGA,IAAI,oBAAoB,KAAK,QAAQ,2BAAR,CAAL,GAAxB;AACA,kBAAkB,EAAlB,CAAqB,cAArB,EAAqC,UAAC,OAAD,EAAa;AACjD,KAAI,YAAY,cAAhB,EAA+B;AAC9B,cAAY,cAAZ,GAA6B,KAA7B;AACA,QAAM,cAAN,CAAsB,YAAM;AAC3B,eAAY,IAAZ,CAAiB,SAAjB,EAA4B,eAA5B,EAA6C;AAC5C,UAAM,aADsC;AAE5C,oBAAgB;AAF4B,IAA7C;AAIA,KAAE,kBAAF,EAAsB,WAAtB,CAAkC,iBAAlC;AACA,GAND,EAMG,SANH,EAMc,CANd,EAMiB;AAAA,UAAM,YAAY,cAAZ,GAA6B,IAAnC;AAAA,GANjB;AAOA;AACA;;AAED,aAAY,IAAZ,CAAiB,SAAjB,EAA4B,eAA5B,EAA6C;AAC5C,QAAM,aADsC;AAE5C,kBAAgB;AAF4B,EAA7C;AAIA,GAAE,kBAAF,EAAsB,WAAtB,CAAkC,iBAAlC;AACA,CAlBD;;;AAqBA,IAAI,UAAU,KAAK,QAAQ,iBAAR,CAAL,EAAiC,YAAjC,EAA+C,CAAC,OAAO,GAAR,CAA/C,CAAd;AACA,QAAQ,EAAR,CAAW,WAAX,EAAwB,gBAAQ;AAC/B,MAAK,cAAL,GAAsB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAtB;AACA,MAAK,SAAL,GAAiB,YAAY,GAAZ,EAAjB;AACA,aAAY,IAAZ,CAAiB,kBAAjB,EAAqC,IAArC;AACA,QAAO,IAAP,CAAY,WAAZ,EAAyB,IAAzB;AACA,CALD;AAMA,QAAQ,EAAR,CAAW,SAAX,EAAsB;AAAA,QAAQ,YAAY,IAAZ,CAAiB,KAAjB,EAAwB,IAAxB,EAA8B,KAA9B,CAAR;AAAA,CAAtB;AACA,QAAQ,EAAR,CAAW,cAAX,EAA2B;AAAA,QAAQ,YAAY,IAAZ,CAAiB,MAAjB,EAAyB,IAAzB,CAAR;AAAA,CAA3B;;;AAGA,YAAa;AAAA,QAAM,OAAO,IAAP,CAAY,YAAZ,EAA0B,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAA1B,CAAN;AAAA,CAAb,EAAuF,IAAvF;;;AAGA,IAAI,SAAS,GAAG,MAAH,CAAb;;;AAGA,OAAO,EAAP,CAAU,cAAV,EAA0B,UAAC,KAAD;AAAA,QAAW,YAAY,IAAZ,CAAiB,MAAjB,EAAyB,MAAM,OAAN,IAAiB,KAA1C,CAAX;AAAA,CAA1B;;AAEA,OAAO,EAAP,CAAU,MAAV,EAAkB,UAAC,IAAD,EAAU;;AAE3B,aAAY,OAAZ;;AAEA,KAAI,YAAY,YAAY,GAAZ,EAAhB;AACA,QAAO,IAAP,CAAY,eAAZ,EAA6B,EAAC,MAAM,aAAP,EAAsB,gBAAgB,KAAK,CAAL,EAAQ,OAA9C,EAAuD,oBAAvD,EAA7B;AACA,aAAY,IAAZ,CAAiB,kBAAjB,EAAqC,EAAC,MAAM,MAAP,EAAe,oBAAf,EAArC;;AAEA,QAAO,OAAP,CAAe,OAAf,CAAuB,EAAC,aAAa,KAAK,CAAL,CAAd,EAAuB,aAAa,KAAK,CAAL,CAApC,EAA6C,gBAAgB,KAAK,CAAL,EAAQ,OAArE,EAAvB;AACA,QAAO,QAAP,CAAgB,OAAhB,CAAwB,KAAK,CAAL,CAAxB;;AAEA,GAAE,YAAF,EAAgB,GAAhB,CAAoB,KAAK,CAAL,CAApB;;AAEA,QAAO,MAAP,CAAc,OAAd,CAAsB,KAAK,CAAL,CAAtB;;;;;AAKA,QAAO,IAAP,CAAY,UAAZ,EAAwB,IAAI,IAAJ,GAAW,QAAX,EAAxB;;AAEA,mBAAkB,IAAlB,CAAuB,MAAvB;;;AAGA,KAAI,KAAK,CAAL,EAAQ,OAAR,KAAoB,oBAAxB,EAA8C,OAAO,OAAP,CAAe,IAAf,CAAoB,KAApB,EAA2B;AAAA,SAAM,YAAY,IAAZ,CAAiB,iBAAjB,CAAN;AAAA,EAA3B;AAE9C,CAzBD;;;AA4BA,OAAO,EAAP,CAAU,cAAV,EAA0B,UAAC,IAAD,EAAU;AACnC,KAAI,KAAJ;AACA,KAAI,KAAK,KAAT,EAAe;AACd,UAAQ,KAAK,KAAb;AACA,OAAK,KAAL,GAAa,SAAb;AACA;AACD,aAAY,IAAZ,CAAiB,mBAAjB,EAAsC,IAAtC;AACA,QAAO,OAAP,CAAe,OAAf,CAAuB,IAAvB;AACA,KAAI,KAAJ,EAAU;AACT,SAAO,KAAP,CAAa,OAAb,CAAqB,KAArB;AACA;AACD,KAAI,KAAK,OAAT,EAAkB,OAAO,GAAP,CAAW,OAAX,CAAmB,KAAK,OAAxB;;;;AAIlB,CAfD;AAgBA,OAAO,EAAP,CAAU,YAAV,EAAwB,UAAC,IAAD,EAAU;AACjC,aAAY,IAAZ,CAAiB,mBAAjB,EAAsC,IAAtC;AACA,CAFD;AAGA,OAAO,EAAP,CAAU,cAAV,EAA0B,UAAC,OAAD,EAAU,IAAV,EAAoB;;AAE7C,KAAI,WAAW,KAAK,OAAL,CAAa,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAb,MAA0D,CAAC,CAA1E,EAA4E;;AAE3E,UAAQ,GAAR,CAAY,cAAZ,EAA4B,aAA5B;AACA,SAAO,IAAP,CAAY,eAAZ,EAA6B,EAAC,MAAM,aAAP,EAAsB,gBAAgB,OAAtC,EAA7B;AACA;AACD,QAAO,OAAP,CAAe,MAAf,CAAsB,aAAtB,EAAqC,IAArC;AACA,CARD;AASA,OAAO,EAAP,CAAU,WAAV,EAAuB,UAAC,OAAD,EAAU,IAAV,EAAmB;AACzC,KAAI,WAAW,YAAY,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAA3B,EAAmE;AAClE,MAAI,uBAAuB,KAA3B;AADkE;AAAA;AAAA;;AAAA;AAElE,wBAAiB,IAAjB,8HAAsB;AAAA,QAAb,IAAa;;AACrB,QAAI,KAAK,IAAL,KAAc,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,CAAlB,EAAoD;AACnD,4BAAuB,IAAvB;AACA;AACD;AANiE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOlE,MAAI,CAAC,oBAAL,EAA0B;;AAEzB,UAAO,IAAP,CAAY,eAAZ,EAA6B,EAAC,MAAM,aAAP,EAAsB,gBAAgB,OAAtC,EAA7B;AACA;AACD,SAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,EAAkC,IAAlC;AACA;AACD,CAdD;AAeA,OAAO,EAAP,CAAU,cAAV,EAA0B,UAAC,OAAD,EAAU,QAAV,EAAuB;AAChD,KAAI,YAAY,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAZ,IAAuD,aAAa,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,CAAxE,EAA0G;AACzG,UAAQ,GAAR,CAAY,eAAZ;AACA,SAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,EAAkC,IAAlC;AACA,SAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,EAAkC,0EAAlC;;AAEA;AACD,CAPD;;AASA,OAAO,EAAP,CAAU,QAAV,EAAoB,UAAC,MAAD,EAAS,OAAT,EAAqB;AACxC,KAAI,YAAY,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAZ,IAAuD,YAAY,SAAvE,EAAiF;AAChF,SAAO,MAAP,CAAc,OAAd,CAAsB,MAAtB;;AAEA;AACD,CALD;;AAOA,OAAO,EAAP,CAAU,uBAAV,EAAmC,UAAC,OAAD,EAAU,QAAV,EAAuB;;AAEzD,KAAI,YAAY,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAhB,EACC,OAAO,OAAP,CAAe,OAAf,CAAuB,QAAvB;AACD,CAJD;AAKA,OAAO,EAAP,CAAU,mBAAV,EAA+B,UAAC,QAAD;AAAA,QAAc,OAAO,QAAP,CAAgB,OAAhB,CAAwB,QAAxB,CAAd;AAAA,CAA/B;;AAEA,OAAO,EAAP,CAAU,WAAV,EAAuB,UAAC,IAAD;AAAA,QAAU,OAAO,MAAP,CAAc,MAAd,CAAqB,KAArB,EAA4B,IAA5B,CAAV;AAAA,CAAvB;;AAEA,OAAO,EAAP,CAAU,YAAV,EAAwB,YAAM;AAC7B,aAAY,UAAZ;AACA,aAAY,IAAZ,CAAiB,cAAjB;AACA,QAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,EAAkC,IAAlC;AACA,CAJD;;AAMA,OAAO,EAAP,CAAU,eAAV,EAA2B,UAAC,IAAD,EAAU;;AAEpC,KAAI,KAAK,YAAL,KAAsB,SAAtB,IAAmC,KAAK,YAAL,KAAsB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAA7D,EAAqG;;AAEpG,MAAI,YAAY,KAAK,SAArB;AACA,MAAI,aAAa,cAAc,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,CAA/B,EAAiE;;AAEhE,OAAI,UAAU;AACb,UAAS,UADI;AAEb,oBAAiB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAFJ;AAGb,cAAY,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,CAHC;AAIb,aAAY,SAJC;AAKb,eAAa,YAAY,GAAZ,EALA;AAMb,WAAU,EAAC,WAAW,KAAK,SAAjB,EAA4B,oBAA5B;AANG,IAAd;AAQA,eAAY,IAAZ,CAAiB,kBAAjB,EAAqC,OAArC;AACA,UAAO,IAAP,CAAY,eAAZ,EAA6B,OAA7B;AACA,GAZD,MAYO;;AAEN,UAAO,KAAP,CAAa,OAAb,CAAqB,IAArB;AACA;AACD;AACD,CAtBD;AAuBA,OAAO,EAAP,CAAU,oBAAV,EAAgC,UAAC,OAAD,EAAU,SAAV,EAAwB;AACvD,KAAI,YAAY,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAAhB,EAAwD;AACvD,SAAO,KAAP,CAAa,MAAb,CAAoB,WAApB,EAAiC,SAAjC;AACA;AACD,CAJD;;;AAOA,OAAO,EAAP,CAAU,iBAAV,EAA6B;AAAA,QAAQ,YAAY,IAAZ,CAAiB,KAAjB,EAAwB,IAAxB,CAAR;AAAA,CAA7B;;;;AAIA,OAAO,EAAP,CAAU,aAAV,EAAyB,UAAC,GAAD,EAAM,IAAN;AAAA,QAAe,YAAY,IAAZ,CAAiB,WAAS,GAA1B,EAA+B,IAA/B,CAAf;AAAA,CAAzB;;;AAGA,OAAO,EAAP,CAAU,SAAV,EAAqB;AAAA,QAAQ,YAAY,IAAZ,CAAiB,KAAjB,EAAwB,IAAxB,CAAR;AAAA,CAArB;AACA,OAAO,EAAP,CAAU,UAAV,EAAsB;AAAA,QAAQ,YAAY,IAAZ,CAAiB,MAAjB,EAAyB,IAAzB,CAAR;AAAA,CAAtB;;;;AAIA,OAAO,MAAP,CAAc,EAAd,CAAiB,KAAjB,EAAwB,UAAC,IAAD,EAAO,WAAP,EAAuB;AAC9C,KAAI,YAAY,OAAZ,CAAoB,aAApB,MAAuC,CAAC,CAA5C,EAA8C;AAC7C,cAAY,KAAK,WAAjB;AACA;AACD,CAJD;;AAMA,OAAO,KAAP,CAAa,EAAb,CAAgB,QAAhB,EAA0B,UAAC,IAAD,EAAO,WAAP,EAAuB;AAChD,KAAI,YAAY,OAAZ,CAAoB,WAApB,MAAqC,CAAC,CAA1C,EAA4C;;AAE3C,MAAI,CAAC,KAAK,SAAN,IAAmB,OAAO,KAAP,CAAa,MAAb,CAAoB,cAApB,CAAvB,EAA4D,OAAO,IAAP,CAAY,gBAAZ,EAA8B,MAA9B;AAC5D,MAAI,OAAO;AACV,SAAS,cADC;AAEV,mBAAiB,OAAO,OAAP,CAAe,MAAf,CAAsB,gBAAtB,CAFP;AAGV,cAAa,YAAY,GAAZ;AAHH,GAAX;AAKA,cAAY,IAAZ,CAAiB,kBAAjB,EAAqC,IAArC;AACA,SAAO,IAAP,CAAY,eAAZ,EAA6B,IAA7B;AACA;AACD,CAZD;;;AAeA,OAAO,OAAP,CAAe,EAAf,CAAkB,QAAlB,EAA4B,UAAC,IAAD,EAAO,WAAP,EAAuB;;AAElD,KAAI,cAAc,KAAK,WAAL,GAAmB,KAAK,WAAL,GAAiB,YAApC,GAAmD,KAAK,cAA1E;;;AAGA,GAAE,OAAF,EAAW,IAAX,CAAgB,CAAC,KAAK,QAAL,GAAgB,KAAK,QAAL,GAAc,IAA9B,GAAqC,EAAtC,IAA0C,WAA1D;;;AAGA,GAAE,mBAAF,EAAuB,IAAvB,CAA4B,cAAc,cAAY,WAA1B,GAAwC,EAApE;AACA,GAAE,gBAAF,EAAoB,IAApB,CAAyB,KAAK,QAAL,GAAgB,WAAS,KAAK,QAA9B,GAAyC,EAAlE;;AAEA,KAAI,KAAK,WAAT,EAAqB;AACpB,IAAE,mBAAF,EAAuB,GAAvB,CAA2B,YAA3B,EAAyC,SAAzC;AACA,IAAE,wBAAF,EAA4B,IAA5B,CAAiC,MAAjC,EAAyC,mBAAiB,KAAK,WAAtB,GAAkC,4BAA3E;AACA,EAHD,MAGO;AACN,IAAE,mBAAF,EAAuB,GAAvB,CAA2B,YAA3B,EAAyC,QAAzC;AACA;AAED,CAlBD;AAmBA,OAAO,MAAP,CAAc,EAAd,CAAiB,QAAjB,EAA2B,UAAC,IAAD,EAAO,WAAP,EAAuB;AACjD,KAAI,YAAY,OAAZ,CAAoB,SAApB,MAAmC,CAAC,CAApC,IAAyC,YAAY,OAAZ,CAAoB,UAApB,MAAoC,CAAC,CAAlF,EAAoF;AACnF,MAAI,KAAK,OAAT,EACC,EAAE,kBAAF,EAAsB,IAAtB,CAA2B,cAAY,KAAK,UAA5C,EADD,KAEK,IAAI,KAAK,QAAT,EACJ,EAAE,kBAAF,EAAsB,IAAtB,CAA2B,eAAa,KAAK,YAA7C,EADI,KAGJ,EAAE,kBAAF,EAAsB,IAAtB,CAA2B,EAA3B;AACD;AACD,CATD;;;AAaA;AAAA;AACC,MAAI,YAAY,EAAhB;AAAA,MAAoB,eAAe,IAAnC;;;AAGA,SAAO,OAAP,CAAe,EAAf,CAAkB,QAAlB,EAA4B,UAAC,IAAD,EAAO,WAAP,EAAuB;AAClD,OAAI,YAAY,OAAZ,CAAoB,gBAApB,MAA0C,CAAC,CAA3C,IAAgD,YAAY,OAAZ,CAAoB,UAApB,MAAoC,CAAC,CAAzF,EAA2F;AAC1F,QAAI,QAAQ,EAAC,MAAM,KAAK,QAAZ,EAAsB,SAAS,KAAK,cAApC,EAAZ;AACA,QAAI,MAAM,OAAN,KAAkB,UAAU,OAA5B,IAAuC,MAAM,IAAN,KAAe,UAAU,IAApE,EAAyE;;AAExE,SAAI,CAAC,YAAL,EAAkB;;AAEjB,cAAQ,SAAR,CAAkB,KAAlB,EAAyB,IAAzB,EAA+B,IAA/B;AACA;AACD,oBAAe,KAAf;AACA,iBAAY,KAAZ;AACA;AACD;AACD,GAbD;;;AAgBA,SAAO,gBAAP,CAAwB,UAAxB,EAAoC,UAAS,CAAT,EAAY;AAC/C,OAAI,EAAE,KAAN,EAAY;AACX,YAAQ,GAAR,CAAY,qBAAmB,EAAE,KAAF,CAAQ,OAA3B,GAAmC,QAAnC,GAA4C,EAAE,KAAF,CAAQ,IAAhE;AACA,QAAI,OAAO;AACV,qBAAiB,EAAE,KAAF,CAAQ,OADf;AAEV,eAAY,EAAE,KAAF,CAAQ,IAFV;AAGV,WAAS,UAHC;AAIV,gBAAc,YAAY,GAAZ;AAJJ,KAAX;AAMA,gBAAY,IAAZ,CAAiB,kBAAjB,EAAqC,IAArC;AACA,WAAO,IAAP,CAAY,eAAZ,EAA6B,IAA7B;AACA,mBAAe,IAAf;AACA;AACD,GAbD;AApBD;AAkCC;;;;AAID,SAAS,WAAT,CAAqB,IAArB,EAA0B;;AAEzB,QAAO,KAAK,KAAL,CAAW,IAAX,CAAP;;AAEA,KAAI,SAAS,EAAb;AACA,MAAK,IAAI,IAAE,CAAX,EAAc,IAAE,KAAK,MAArB,EAA6B,GAA7B,EAAiC;;;AAGhC,MAAI,KAAK,CAAL,EAAQ,MAAR,GAAiB,CAAjB,IAAsB,KAAK,CAAL,EAAQ,KAAR,CAAc,CAAd,EAAgB,CAAhB,MAAuB,MAAjD,EAAwD;;AAEvD,OAAI,MAAM,KAAK,CAAL,EAAQ,KAAR,CAAc,IAAd,CAAV;;AAEA,QAAK,IAAI,IAAE,CAAX,EAAc,IAAE,IAAI,MAApB,EAA4B,GAA5B,EAAgC;;AAE/B,QAAI,MAAM,IAAI,CAAJ,EAAO,KAAP,CAAa,GAAb,CAAV;;;;;;;;AAQA,QAAI,IAAI,CAAJ,MAAW,QAAf,EAAwB;AACvB,YAAO,IAAP,CAAY;AACX,YAAM,IAAI,CAAJ,EAAO,KAAP,CAAa,GAAb,EAAkB,GAAlB,EADK;AAEX,WAAK,IAAI,CAAJ,IAAO,CAFD;AAGX,cAAQ,IAAI,CAAJ,CAHG;AAIX,YAAM,IAAI,KAAJ,CAAU,CAAV,EAAa,IAAb,CAAkB,GAAlB,EAAuB,KAAvB,CAA6B,CAA7B,IAAkC,YAAlC,GAA+C,IAAI,CAAJ,CAJ1C;AAKX,YAAM;AALK,MAAZ;AAOA,KARD,MAQO,IAAI,IAAI,CAAJ,KAAU,cAAd,EAA6B;AACnC,YAAO,IAAP,CAAY;AACX,YAAM,IAAI,CAAJ,EAAO,KAAP,CAAa,GAAb,EAAkB,GAAlB,EADK;AAEX,WAAK,IAAI,CAAJ,IAAO,CAFD;AAGX,cAAQ,IAAI,CAAJ,CAHG;AAIX,YAAM,IAAI,KAAJ,CAAU,CAAV,EAAa,IAAb,CAAkB,GAAlB,EAAuB,KAAvB,CAA6B,CAA7B,IAAkC,YAAlC,GAA+C,IAAI,CAAJ,CAJ1C;AAKX,YAAM;AALK,MAAZ;AAOA,KARM,MAQA,IAAI,IAAI,CAAJ,KAAU,UAAd,EAAyB;AAC/B,YAAO,IAAP,CAAY;AACX,YAAM,IAAI,CAAJ,EAAO,KAAP,CAAa,GAAb,EAAkB,GAAlB,EADK;AAEX,WAAK,IAAI,CAAJ,IAAO,CAFD;AAGX,cAAQ,IAAI,CAAJ,CAHG;AAIX,YAAM,IAAI,KAAJ,CAAU,CAAV,EAAa,IAAb,CAAkB,GAAlB,EAAuB,KAAvB,CAA6B,CAA7B,IAAkC,YAAlC,GAA+C,IAAI,CAAJ,CAJ1C;AAKX,YAAM;AALK,MAAZ;AAOA,KARM,MAQA;;AAEN,SAAI,IAAI,CAAJ,KAAU,IAAI,CAAJ,EAAO,OAAP,CAAe,QAAf,MAA6B,CAAC,CAA5C,EAA8C;AAC7C,cAAQ,GAAR,CAAY,cAAZ;AACA,kBAAY,IAAZ,CAAiB,MAAjB,EAAyB,yEAAzB;AACA;AACD;AACD;AACD;AACD;;;;AAID,KAAI,CAAC,OAAO,MAAR,IAAmB,KAAK,OAAL,CAAa,YAAb,MAA+B,CAAC,CAAnD,IAA0D,KAAK,OAAL,CAAa,SAAb,MAA4B,CAAC,CAA3F,EAA8F;AAC7F,SAAO,IAAP,CAAY;AACX,SAAM,IADK;AAEX,SAAM;AAFK,GAAZ;AAIA;;AAED,KAAI,oBAAoB,EAAxB;AAAA,KAA4B,kBAAkB,EAA9C;AAlEyB;AAAA;AAAA;;AAAA;AAmEzB,wBAAgB,MAAhB,mIAAuB;AAAA,OAAd,GAAc;;AACtB,OAAI,CAAC,IAAI,IAAL,IAAa,IAAI,IAAJ,KAAa,OAAO,OAAP,CAAe,MAAf,CAAsB,UAAtB,CAA9B,EAAgE;AAC/D,QAAI,WAAJ,GAAkB,IAAlB;AACA,sBAAkB,IAAlB,CAAuB,GAAvB;AACA,IAHD,MAGO;AACN,QAAI,WAAJ,GAAkB,KAAlB;AACA,QAAI,IAAJ,GAAW,aAAW,IAAI,IAAf,GAAoB,IAApB,GAAyB,IAAI,IAAxC;AACA,oBAAgB,IAAhB,CAAqB,GAArB;AACA;AACD;AA5EwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA8EzB,QAAO,KAAP,CAAa,MAAb,CAAoB,WAApB,EAAiC,MAAjC;AACA,QAAO,KAAP,CAAa,MAAb,CAAoB,mBAApB,EAAyC,iBAAzC;AACA,QAAO,KAAP,CAAa,MAAb,CAAoB,iBAApB,EAAuC,eAAvC;;AAEA,QAAO,KAAP,CAAa,MAAb,CAAoB,oBAApB,EAA0C,IAA1C;AAEA;;;;;;;;;;;;;ACrfD,IAAI,eAAe,QAAQ,QAAR,EAAkB,YAArC;;IAEM,K;;;AAEL,gBAAY,IAAZ,EAAiB;AAAA;;AAAA;;AAEhB,MAAI,QAAQ,QAAQ,EAApB;AACA,QAAK,QAAL,GAAgB;AAAA,UAAM,KAAN;AAAA,GAAhB;AAHgB;AAIhB;;;;yBAEM,G,EAAI;AACV,UAAO,KAAK,QAAL,GAAgB,GAAhB,CAAP;AACA;;;0BAEO,O,EAAQ;AACf,OAAI,CAAC,OAAL,EAAc;AACd,OAAI,UAAU,EAAd;AACA,QAAK,IAAI,GAAT,IAAgB,OAAhB,EAAwB;AACvB,QAAI,CAAC,QAAQ,QAAQ,GAAR,CAAR,EAAsB,KAAK,QAAL,GAAgB,GAAhB,CAAtB,EAA4C,KAA5C,CAAL,EAAwD;AACvD,aAAQ,IAAR,CAAa,GAAb;AACA,UAAK,QAAL,GAAgB,GAAhB,IAAuB,QAAQ,GAAR,CAAvB;AACA;AACD;AACD,OAAI,QAAQ,MAAZ,EAAoB;;AAEnB,SAAK,IAAL,CAAU,QAAV,EAAoB,KAAK,QAAL,EAApB,EAAqC,OAArC;AACA;AACD,QAAK,IAAL,CAAU,KAAV,EAAiB,KAAK,QAAL,EAAjB,EAAkC,OAAO,IAAP,CAAY,OAAZ,CAAlC;AACA;;;yBAEM,G,EAAK,K,EAAM;AACjB,OAAI,CAAC,QAAQ,KAAR,EAAe,KAAK,QAAL,GAAgB,GAAhB,CAAf,EAAqC,KAArC,CAAL,EAAiD;AAChD,SAAK,QAAL,GAAgB,GAAhB,IAAuB,KAAvB;;AAEA,SAAK,IAAL,CAAU,QAAV,EAAoB,KAAK,QAAL,EAApB,EAAqC,CAAC,GAAD,CAArC;AACA;AACD,QAAK,IAAL,CAAU,KAAV,EAAiB,KAAK,QAAL,EAAjB,EAAkC,CAAC,GAAD,CAAlC;AACA;;;8BAEW,G,EAAK,K,EAAM;AACtB,QAAK,QAAL,GAAgB,GAAhB,EAAqB,IAArB,CAA0B,KAA1B;AACA,QAAK,IAAL,CAAU,QAAV,EAAoB,KAAK,QAAL,EAApB,EAAqC,CAAC,GAAD,CAArC;AACA,QAAK,IAAL,CAAU,KAAV,EAAiB,KAAK,QAAL,EAAjB,EAAkC,CAAC,GAAD,CAAlC;AACA;;;gCAEa,G,EAAK,K,EAAM;AACxB,QAAK,QAAL,GAAgB,GAAhB,EAAqB,MAArB,CAA4B,KAA5B,EAAmC,CAAnC;AACA,QAAK,IAAL,CAAU,QAAV,EAAoB,KAAK,QAAL,EAApB,EAAqC,CAAC,GAAD,CAArC;AACA,QAAK,IAAL,CAAU,KAAV,EAAiB,KAAK,QAAL,EAAjB,EAAkC,CAAC,GAAD,CAAlC;AACA;;;0BAEM;AACN,WAAQ,GAAR,CAAY,KAAK,QAAL,EAAZ;AACA;;;;EAnDkB,Y;;AAuDpB,OAAO,OAAP,GAAiB,KAAjB;;AAEA,SAAS,OAAT,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,GAAvB,EAA2B;AAC1B,KAAI,GAAJ,EAAS,QAAQ,GAAR,CAAY,IAAZ,EAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B;AACT,KAAI,aAAa,KAAb,IAAsB,aAAa,KAAvC,EAA6C;AAC5C,MAAI,GAAJ,EAAS,QAAQ,GAAR,CAAY,QAAZ,EAAsB,IAAtB,EAA4B,CAA5B,EAA+B,IAA/B,EAAqC,CAArC,EAAyC,EAAE,MAAF,KAAa,EAAE,MAAxD,EAAiE,EAAE,KAAF,CAAS,UAAS,OAAT,EAAkB,KAAlB,EAAwB;AAAE,UAAO,QAAQ,OAAR,EAAiB,EAAE,KAAF,CAAjB,EAA2B,GAA3B,CAAP;AAAwC,GAA3E,CAAjE;AACT,SAAU,EAAE,MAAF,KAAa,EAAE,MAAhB,IAA2B,EAAE,KAAF,CAAS,UAAS,OAAT,EAAkB,KAAlB,EAAwB;AAAE,UAAO,QAAQ,OAAR,EAAiB,EAAE,KAAF,CAAjB,EAA2B,GAA3B,CAAP;AAAwC,GAA3E,CAApC;AACA,EAHD,MAGO,IAAI,aAAa,MAAb,IAAuB,aAAa,MAAxC,EAA+C;AACrD,MAAI,GAAJ,EAAS,QAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB,EAA6B,CAA7B,EAAgC,IAAhC,EAAsC,CAAtC;AACT,OAAK,IAAI,CAAT,IAAc,CAAd,EAAgB;AACf,OAAI,GAAJ,EAAS,QAAQ,GAAR,CAAY,OAAZ,EAAqB,EAAE,CAAF,CAArB,EAA2B,OAA3B,EAAoC,EAAE,CAAF,CAApC,EAA0C,IAA1C,EAAgD,CAAhD;AACT,OAAI,CAAC,QAAQ,EAAE,CAAF,CAAR,EAAc,EAAE,CAAF,CAAd,EAAoB,GAApB,CAAL,EAA+B,OAAO,KAAP;AAC/B;AACD,SAAO,IAAP;AACA,EAPM,MAOA;AACN,MAAI,GAAJ,EAAS,QAAQ,GAAR,CAAY,IAAZ,EAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B,EAA8B,OAAO,EAAP,CAAU,CAAV,EAAa,CAAb,CAA9B,EAAgD,MAAM,CAAtD;AACT,SAAO,OAAO,EAAP,CAAU,CAAV,EAAa,CAAb,CAAP;AACA;AACD;;;AC3ED;;;;;;;;;;AACA,IAAI,OAAO,QAAQ,QAAR,CAAX;AACA,IAAI,WAAW,QAAQ,YAAR,CAAf;;AAEA,IAAI,qBAAqB,KAAzB;;AAEA,IAAI,WAAW,GAAf;;IAEM,W;;;AAEL,sBAAY,SAAZ,EAAuB,MAAvB,EAA+B,QAA/B,EAAwC;AAAA;;AAAA,6FACjC,SADiC,EACtB,MADsB,EACd,QADc;;AAGvC,QAAK,EAAL,CAAQ,OAAR,EAAiB;AAAA,UAAM,SAAS,KAAT,EAAN;AAAA,GAAjB;AACA,WAAS,EAAT,CAAY,OAAZ,EAAqB,UAAC,KAAD;AAAA,UAAW,MAAK,IAAL,CAAU,OAAV,EAAmB,KAAnB,CAAX;AAAA,GAArB;AACA,WAAS,EAAT,CAAY,WAAZ,EAAyB,UAAC,QAAD,EAAW,KAAX;AAAA,UAAqB,MAAK,IAAL,CAAU,WAAV,EAAuB,QAAvB,EAAiC,KAAjC,CAArB;AAAA,GAAzB;;AAEA,QAAK,EAAL,CAAQ,kBAAR,EAA4B,MAAK,gBAAjC;AACA,QAAK,EAAL,CAAQ,mBAAR,EAA6B,MAAK,iBAAlC;AACA,QAAK,EAAL,CAAQ,yBAAR,EAAmC,MAAK,uBAAxC;;AAEA,QAAK,EAAL,CAAQ,KAAR,EAAe,UAAC,IAAD,EAAO,GAAP;AAAA,UAAe,SAAS,GAAT,CAAa,IAAb,EAAmB,GAAnB,CAAf;AAAA,GAAf;AACA,QAAK,EAAL,CAAQ,MAAR,EAAgB,UAAS,OAAT,EAAkB,EAAlB,EAAqB;AACpC,WAAQ,GAAR,CAAY,OAAZ;AACA,YAAS,IAAT,CAAc,OAAd,EAAuB,EAAvB;AACA,GAHD;;AAKA,QAAK,IAAL,GAAY,SAAS,cAAT,CAAwB,sBAAxB,CAAZ;AACA,QAAK,KAAL,GAAa,SAAS,cAAT,CAAwB,uBAAxB,CAAb;;;AAGA,QAAK,OAAL,GAAe,EAAf;AACA,QAAK,YAAL,GAAoB,CAApB;AACA,QAAK,YAAL,GAAoB,KAApB;;AAEA,QAAK,IAAL,CAAU,gBAAV,CAA2B,QAA3B,EAAqC,UAAC,CAAD,EAAO;AAC3C,KAAE,cAAF;;AAEA,SAAK,OAAL,CAAa,IAAb,CAAkB,MAAK,KAAL,CAAW,KAA7B;AACA,SAAK,YAAL,GAAoB,CAApB;;AAEA,SAAK,IAAL,CAAU,OAAV,EAAmB,MAAK,KAAL,CAAW,KAA9B;AACA,YAAS,GAAT,CAAa,WAAS,GAAT,GAAa,MAAK,KAAL,CAAW,KAArC,EAA4C,QAA5C;AACA,SAAK,KAAL,CAAW,KAAX,GAAmB,EAAnB;AACA,GATD;;AAWA,IAAE,4BAAF,EACE,EADF,CACK,OADL,EACc;AAAA,UAAM,EAAE,MAAK,KAAP,EAAc,OAAd,CAAsB,OAAtB,CAAN;AAAA,GADd;;AAGA,IAAE,oDAAF,EACE,EADF,CACK,WADL,EACkB,YAAU;AAAE,KAAE,4BAAF,EAAgC,GAAhC,CAAoC,SAApC,EAA+C,CAA/C;AAAmD,GADjF,EAEE,EAFF,CAEK,UAFL,EAEiB,YAAM;AAAE,OAAI,CAAC,MAAK,YAAV,EAAwB,EAAE,4BAAF,EAAgC,GAAhC,CAAoC,SAApC,EAA+C,GAA/C;AAAqD,GAFtG;;AAIA,QAAK,KAAL,CAAW,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AAC1C,SAAK,YAAL,GAAoB,IAApB;AACA,KAAE,4BAAF,EAAgC,GAAhC,CAAoC,SAApC,EAA+C,CAA/C,E;AACA,GAHD;AAIA,QAAK,KAAL,CAAW,gBAAX,CAA4B,MAA5B,EAAoC,YAAM;AACzC,SAAK,YAAL,GAAoB,KAApB;AACA,KAAE,4BAAF,EAAgC,GAAhC,CAAoC,SAApC,EAA+C,GAA/C,E;AACA,GAHD;AAIA,SAAO,gBAAP,CAAwB,SAAxB,EAAmC,UAAC,CAAD,EAAO;AACzC,OAAI,MAAK,YAAT,EAAsB;AACrB,QAAI,EAAE,KAAF,KAAY,EAAhB,EAAmB;;;AAElB,SAAI,MAAK,OAAL,CAAa,MAAK,OAAL,CAAa,MAAb,GAAsB,EAAE,MAAK,YAA1C,CAAJ,EAA4D;AAC3D,YAAK,KAAL,CAAW,KAAX,GAAmB,MAAK,OAAL,CAAa,MAAK,OAAL,CAAa,MAAb,GAAsB,MAAK,YAAxC,CAAnB;AACA,MAFD,MAEO;AACN,YAAK,YAAL,IAAqB,CAArB;AACA;;;AAGD,gBAAY,YAAM;AACjB,UAAG,MAAK,KAAL,CAAW,iBAAX,KAAiC,SAApC,EAA+C;AAC9C,aAAK,KAAL,CAAW,iBAAX,CAA6B,MAAK,KAAL,CAAW,KAAX,CAAiB,MAA9C,EAAsD,MAAK,KAAL,CAAW,KAAX,CAAiB,MAAvE;AACA,OAFD,MAEO;AACN,SAAE,MAAK,KAAP,EAAc,GAAd,CAAkB,MAAK,KAAL,CAAW,KAA7B;AACA;AACD,MAND,EAMG,CANH;AAQA,KAjBD,MAiBO,IAAI,EAAE,KAAF,KAAY,EAAhB,EAAmB;;AACzB,SAAI,EAAE,MAAK,YAAP,KAAwB,CAA5B,EAA8B;AAC7B,YAAK,KAAL,CAAW,KAAX,GAAmB,EAAnB;AACA,MAFD,MAEO,IAAI,MAAK,OAAL,CAAa,MAAK,OAAL,CAAa,MAAb,GAAsB,MAAK,YAAxC,CAAJ,EAA0D;AAChE,YAAK,KAAL,CAAW,KAAX,GAAmB,MAAK,OAAL,CAAa,MAAK,OAAL,CAAa,MAAb,GAAsB,MAAK,YAAxC,CAAnB;AACA,MAFM,MAEA;AACN,YAAK,YAAL,IAAqB,CAArB;AACA;AACD,KARM,MAQA,IAAI,EAAE,KAAF,KAAY,CAAhB,EAAkB;;AACxB,OAAE,cAAF;AACA,WAAK,IAAL,CAAU,KAAV,EAAiB,MAAK,KAAL,CAAW,KAA5B;AACA;AACD;AACD,GAhCD;;AAkCA,IAAE,mBAAF,EAAuB,EAAvB,CAA0B,OAA1B,EAAmC;AAAA,UAAM,EAAE,MAAK,KAAP,EAAc,OAAd,CAAsB,OAAtB,CAAN;AAAA,GAAnC;AACA,IAAE,0BAAF,EAA8B,EAA9B,CAAiC,OAAjC,EAA0C,UAAC,CAAD;AAAA,UAAO,EAAE,eAAF,EAAP;AAAA,GAA1C;;AAEA,QAAK,EAAL,CAAQ,cAAR,EAAwB;AAAA,UAAQ,MAAK,IAAL,CAAU,KAAV,EAAiB,IAAjB,EAAuB,OAAvB,CAAR;AAAA,GAAxB;AACA,QAAK,EAAL,CAAQ,cAAR,EAAwB;AAAA,UAAQ,MAAK,IAAL,CAAU,MAAV,EAAkB,IAAlB,CAAR;AAAA,GAAxB;AACA,QAAK,EAAL,CAAQ,WAAR,EAAqB,eAAO;;AAE3B,cAAW,eAAe,IAAI,OAAJ,CAAY,OAAZ,EAAqB,GAArB,CAAf,GAA2C,GAAtD;AACA,KAAE,4BAAF,EAAgC,IAAhC,CAAqC,QAArC;AACA,GAJD;AAKA,QAAK,EAAL,CAAQ,mBAAR,EAA6B;AAAA,UAAQ,EAAE,wBAAF,EAA4B,GAA5B,CAAgC,IAAhC,CAAR;AAAA,GAA7B;AA/FuC;AAgGvC;;;;mCAEgB,I,EAAK;;AAErB,OAAI,KAAK,IAAL,KAAc,SAAlB,EAA4B;AAC3B,QAAI,SAAS,oBAAoB,KAAK,OAAL,IAAgB,EAApC,CAAb;AACA,IAFD,MAEO,IAAI,KAAK,IAAL,KAAc,QAAlB,EAA2B;AACjC,QAAI,SAAS,KAAK,IAAlB;AACA,IAFM,MAEA;AACN,QAAI,SAAS,QAAQ,KAAK,IAAb,CAAb;AACA,QAAI,KAAK,UAAL,IAAmB,KAAK,cAA5B,EAA4C,UAAU,OAAK,KAAK,UAAL,IAAmB,KAAK,cAA7B,CAAV;AAC5C,QAAI,KAAK,OAAL,IAAgB,KAAK,QAAzB,EAAmC,UAAU,OAAK,KAAK,OAAL,IAAgB,KAAK,QAA1B,CAAV;AACnC;AACD,YAAS,MAAT,CAAgB,SAAO,KAAvB,EAA8B,KAAK,SAAnC;AACA;;;oCACiB,I,EAAK;AACtB,OAAI,KAAK,KAAT,EAAe;AACd,aAAS,MAAT,CAAgB,MAAI,KAAK,KAAzB,EAAgC,KAAK,SAArC;AACA,IAFD,MAEO;AACN,aAAS,OAAT,CAAiB,OAAjB,EAA0B,KAAK,SAA/B;AACA;AACD;;;0CAEuB,I,EAAK;AAC5B,OAAI,YAAY,YAAY,GAAZ,EAAhB;AACA,YAAS,MAAT,CAAgB,IAAhB,EAAsB,SAAtB;AACA,YAAS,OAAT,CAAiB,EAAjB,EAAqB,SAArB,EAAgC,KAAhC;AACA;;;4BAEQ;AACR,KAAE,qBAAF,EAAyB,MAAzB;AACA,YAAS,OAAT;AACA;;;+BACW;AACX,WAAQ,GAAR,CAAY,cAAZ;AACA,YAAS,IAAT,CAAc,2JAAd,EAA2K,oBAA3K;AACA,YAAS,KAAT;AACA;;;;;;;6BAIU,G,EAAK,I,EAAK;AACpB,OAAI,KAAK,QAAL,CAAc,qBAAlB,EAAwC;AACvC,aAAS,GAAT,CAAa,GAAb;AACA;AACD;;;uCACoB,G,EAAK,I,EAAK;AAC9B,OAAI,SAAS,KAAK,QAAL,CAAc,MAAd,CAAqB,eAArB,CAAT,CAAJ,EAAoD;AAAA;AAAA;AAAA;;AAAA;AACnD,0BAAiB,GAAjB,8HAAqB;AAAA,UAAZ,IAAY;;AACpB,eAAS,GAAT,CAAa,KAAK,KAAL,CAAW,GAAX,EAAgB,IAAhB,CAAqB,QAArB,CAAb,EAA6C,MAA7C;AACA;AAHkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAInD;AACD;;;8BACW,M,EAAQ,I,EAAK;;AAExB,YAAS,SAAT,CAAmB,MAAnB;AACA;;;;;;4BAGS,G,EAAK,I,EAAK;;;AAGlB,YAAS,GAAT,CAAa,GAAb,EAAkB,MAAlB;;AAED;;;;;;4BAGS,G,EAAK,I,EAAK;AACnB,YAAS,GAAT,CAAa,GAAb,EAAkB,MAAlB;AACA;;;+BACY,G,EAAK,I,EAAK;;;AAGtB;;;+BACY,I,EAAK;AACjB,OAAI,KAAK,MAAL,IAAe,KAAK,MAAL,CAAY,KAA/B,EAAsC,SAAS,IAAT,CAAc,KAAK,MAAL,CAAY,KAAZ,CAAkB,GAAlB,EAAuB,IAAvB,CAA4B,QAA5B,CAAd;AACtC,OAAI,KAAK,MAAT,EAAiB,SAAS,IAAT,CAAc,KAAK,MAAnB;;AAEjB;;;4BAES,M,EAAQ,I,EAAK;AACtB,OAAI,YAAY,YAAY,GAAZ,EAAhB;AACA,OAAI,MAAJ,EAAW;AACV,aAAS,MAAT,CAAgB,qBAAhB,EAAuC,SAAvC,EAAkD,IAAlD;AACA,aAAS,OAAT,CAAiB,EAAjB,EAAqB,SAArB,EAAgC,IAAhC;AACA,IAHD,MAGO;AACN,aAAS,MAAT,CAAgB,gBAAhB,EAAkC,SAAlC,EAA6C,IAA7C;AACA,aAAS,OAAT,CAAiB,EAAjB,EAAqB,SAArB,EAAgC,IAAhC;AACA;AACD;;;2BACQ,M,EAAQ,I,EAAK;AACrB,OAAI,YAAY,YAAY,GAAZ,EAAhB;AACA,OAAI,MAAJ,EAAW;AACV,aAAS,MAAT,CAAgB,oBAAhB,EAAsC,SAAtC,EAAiD,IAAjD;AACA,aAAS,OAAT,CAAiB,EAAjB,EAAqB,SAArB,EAAgC,IAAhC;AACA,IAHD,MAGO;AACN,aAAS,MAAT,CAAgB,cAAhB,EAAgC,SAAhC,EAA2C,IAA3C;AACA,QAAI,QAAQ,KAAK,UAAb,IAA2B,KAAK,UAAL,CAAgB,MAA3C,IAAqD,KAAK,UAAL,CAAgB,MAAhB,KAA2B,WAApF,EAAgG;AAC/F,cAAS,MAAT,CAAgB,kBAAgB,KAAK,UAAL,CAAgB,MAAhD,EAAwD,SAAxD,EAAmE,IAAnE;AACA,KAFD,MAEO;AACN,cAAS,OAAT,CAAiB,EAAjB,EAAqB,SAArB,EAAgC,IAAhC;AACA;AACD;AACD;;;uBAEI,I,EAAK;AACT,OAAI,SAAS,KAAK,QAAL,CAAc,MAAd,CAAqB,sBAArB,CAAT,KAA0D,KAAK,IAAL,IAAa,CAA3E,EAA6E;AAC5E,aAAS,GAAT,CAAa,KAAK,IAAL,CAAU,KAAV,CAAgB,GAAhB,EAAqB,IAArB,CAA0B,QAA1B,CAAb;AACA;AACD;;;iCAEc,K,EAAM;AACpB,YAAS,gBAAT,CAA0B,SAAS,KAAT,CAA1B;AACA;;;gCACa,K,EAAM;AACnB,wBAAqB,SAAS,KAAT,CAArB;AACA;;;gCAEa,M,EAAO;AACpB,WAAQ,GAAR,CAAY,QAAZ,EAAsB,MAAtB;AACA,OAAI,YAAY,YAAY,GAAZ,EAAhB;AACA,YAAS,MAAT,CAAgB,MAAhB,EAAwB,SAAxB,EAAmC,IAAnC;AACA,OAAI,WAAW,QAAX,IAAuB,WAAW,kBAAtC,EACC,SAAS,MAAT,CAAgB,EAAhB,EAAoB,SAApB,EAA+B,IAA/B,EADD,KAGC,SAAS,OAAT,CAAiB,EAAjB,EAAqB,SAArB,EAAgC,KAAhC;AACD;;;+BACY,M,EAAO;AACnB,WAAQ,GAAR,CAAY,QAAZ,EAAsB,MAAtB;AACA,OAAI,YAAY,YAAY,GAAZ,EAAhB;AACA,YAAS,MAAT,CAAgB,MAAhB,EAAwB,SAAxB,EAAmC,IAAnC;AACA,YAAS,MAAT,CAAgB,EAAhB,EAAoB,SAApB,EAA+B,IAA/B;AACA;;;0BACO,I,EAAK;AACZ,OAAI,kBAAJ,EAAwB,SAAS,GAAT,CAAa,IAAb,EAAxB,KACK,QAAQ,GAAR,CAAY,IAAZ;AACL;;;iCACc,I,EAAK;AACnB,YAAS,GAAT,CAAa,IAAb;AACA;;;;EA7OwB,I;;AAkP1B,OAAO,OAAP,GAAiB,WAAjB;;AAEA,IAAI,UAAU;AACb,gBAAgB,iBADH;AAEb,gBAAgB,iBAFH;AAGb,eAAe,kBAHF;AAIb,WAAY,gBAJC;AAKb,kBAAkB,kBALL;AAMb,iBAAiB,kBANJ;AAOb,aAAc,cAPD;AAQb,YAAa,eARA;AASb,eAAe,gBATF;AAUb,eAAe,eAVF;AAWb,eAAe,eAXF;AAYb,SAAW,cAZE;AAab,SAAW;AAbE,CAAd;;;;;;;;;;;;;AC5PA,IAAI,OAAO,QAAQ,QAAR,CAAX;;IAEM,S;;;AAEL,oBAAY,SAAZ,EAAuB,MAAvB,EAA8B;AAAA;;AAAA,2FACvB,SADuB,EACZ,MADY;;AAE7B,QAAK,UAAL,CAAgB,KAAhB;AAF6B;AAG7B;;;;;;;gCAGa,Q,EAAU,C,EAAE;AACzB,OAAI,OAAO,SAAS,IAAT,EAAX;AACA,OAAI,OAAO,KAAK,IAAhB;AACA,OAAI,QAAQ,KAAK,IAAL,CAAZ,EAAuB;AACtB,SAAK,IAAL,EAAW,SAAS,GAAT,EAAX;AACA;AACD;;;gCACa,Q,EAAU,C,EAAE;AACzB,QAAK,WAAL,CAAiB,EAAjB;AACA,QAAK,IAAL,CAAU,gBAAV,EAA4B,SAAS,IAAT,GAAgB,IAA5C;AACA;;;4BACS,M,EAAO;AAChB,QAAK,IAAL,CAAU,YAAV,EAAyB,UAAQ,IAAjC;AACA;;;;;;6BAGU,M,EAAO;AACjB,OAAI,CAAC,MAAL,EAAY;AACX,SAAK,QAAL,CAAc,IAAd,CAAmB,QAAnB,EAA6B,IAA7B,CAAkC,UAAlC,EAA8C,UAA9C;AACA;AACD;;;;;gCAEa,M,EAAO;AACpB,QAAK,iBAAL;AACA,QAAK,cAAL;AACA,QAAK,QAAL,CAAc,IAAd,CAAmB,QAAnB,EAA6B,IAA7B,CAAkC,UAAlC,EAA8C,UAA9C;AACA,OAAI,CAAC,MAAL,EAAa,KAAK,WAAL,CAAiB,KAAjB;AACb;;;;;oCAEiB,M,EAAO;AACxB,OAAI,CAAC,MAAL,EAAY;AACX,SAAK,QAAL,CAAc,IAAd,CAAmB,6BAAnB,EAAkD,IAAlD,CAAuD,UAAvD,EAAmE,EAAnE;AACA,MAAE,0BAAF,EAA8B,WAA9B,CAA0C,oBAA1C;AACA,IAHD,MAGO;AACN,SAAK,QAAL,CAAc,IAAd,CAAmB,6BAAnB,EAAkD,IAAlD,CAAuD,UAAvD,EAAmE,UAAnE;AACA,MAAE,0BAAF,EAA8B,QAA9B,CAAuC,oBAAvC;AACA;AACD;;;sCACmB,M,EAAO;AAC1B,OAAI,MAAJ,EAAY,EAAE,iBAAF,EAAqB,IAArB,CAA0B,UAA1B,EAAsC,EAAtC,EAAZ,KACK,EAAE,iBAAF,EAAqB,IAArB,CAA0B,UAA1B,EAAsC,UAAtC;AACL;;;+BACY,K,EAAO,I,EAAK;AACxB,OAAI,KAAJ,EAAW,KAAK,SAAL,CAAe,KAAf;AACX;;;+BACY,K,EAAM;AAClB,QAAK,SAAL,CAAe,EAAE,iBAAF,EAAqB,IAArB,KAA4B,IAA5B,GAAiC,KAAhD;AACA;;;6BACU,I,EAAM,I,EAAK;AACrB,OAAI,WAAW,EAAf;AACA,OAAI,KAAK,SAAT,EACC,YAAY,KAAK,SAAL,GAAe,SAA3B;;AAED,OAAI,KAAK,SAAT,EACC,YAAY,KAAK,SAAjB;;AAED,QAAK,WAAL,CAAiB,QAAjB;AACA;;;6BACU,S,EAAU;AACpB,WAAQ,GAAR,CAAY,SAAZ;AACA,QAAK,iBAAL;AAFoB;AAAA;AAAA;;AAAA;AAGpB,yBAAqB,SAArB,8HAA+B;AAAA,SAAtB,QAAsB;;AAC9B,UAAK,WAAL,CAAiB,EAAE,UAAF,CAAjB,EAAgC,QAAhC;AACA;AALmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMpB;AACA;;;6BACU,K,EAAM;AAChB,QAAK,cAAL;AADgB;AAAA;AAAA;;AAAA;AAEhB,0BAAiB,KAAjB,mIAAuB;AAAA,SAAd,IAAc;;AACtB,OAAE,WAAF,EAAe,IAAf,CAAoB,IAApB,EAA0B,QAA1B,CAAmC,EAAE,gBAAF,CAAnC;AACA;AAJe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKhB;;;;;;4BAGS,K,EAAM;AACf,KAAE,iBAAF,EAAqB,IAArB,CAA0B,KAA1B;AACA;;;8BACW,K,EAAM;AACjB,KAAE,mBAAF,EAAuB,IAAvB,CAA4B,KAA5B;AACA;;;sCACkB;AAClB,KAAE,UAAF,EAAc,KAAd;AACA;;;mCACe;AACf,KAAE,gBAAF,EAAoB,KAApB;AACA;;;8BACW,M,EAAQ,Q,EAAS;AAC5B,OAAI,IAAJ;AACA,OAAI,SAAS,GAAb,EACC,OAAO,SAAS,GAAhB,CADD,KAEK;AACJ,WAAO,SAAS,IAAT,CAAc,KAAd,CAAoB,GAApB,CAAP;AACA,QAAI,KAAK,MAAT,EAAiB,OAAO,KAAK,KAAK,MAAL,GAAY,CAAjB,CAAP;AACjB;;AAED,OAAI,KAAK,EAAE,WAAF,CAAT;AACA,OAAI,QAAQ,EAAE,iBAAF,EAAqB,QAArB,CAA8B,EAA9B,CAAZ;AACA,KAAE,WAAF,EAAe,IAAf,CAAoB,SAAS,IAA7B,EAAmC,QAAnC,CAA4C,cAA5C,EAA4D,QAA5D,CAAqE,KAArE;AACA,KAAE,WAAF,EAAe,IAAf,CAAoB,IAApB,EAA0B,QAA1B,CAAmC,cAAnC,EAAmD,QAAnD,CAA4D,KAA5D;AACA,OAAI,QAAQ,EAAE,WAAF,EAAe,IAAf,CAAoB,SAAS,KAA7B,EAAoC,QAApC,CAA6C,eAA7C,EAA8D,QAA9D,CAAuE,KAAvE,CAAZ;AACA,MAAG,IAAH,CAAQ,IAAR,EAAc,SAAS,IAAvB,EAA6B,QAA7B,CAAsC,MAAtC;AACA,OAAI,SAAS,QAAT,IAAqB,SAAS,QAA9B,IAA0C,SAAS,QAAT,CAAkB,MAAhE,EAAuE;AACtE,QAAI,KAAK,EAAE,WAAF,EAAe,QAAf,CAAwB,EAAxB,CAAT;AADsE;AAAA;AAAA;;AAAA;AAEtE,2BAAkB,SAAS,QAA3B,mIAAoC;AAAA,UAA3B,KAA2B;;AACnC,WAAK,WAAL,CAAiB,EAAjB,EAAqB,KAArB;AACA;AAJqE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKtE;AACD,OAAI,SAAS,KAAT,IAAkB,SAAtB,EAAgC;AAC/B,OAAG,QAAH,CAAY,oBAAZ;AACA,UAAM,IAAN,CAAW,cAAX;AACA;AACD;;;;EAvHsB,I;;AA0HxB,OAAO,OAAP,GAAiB,SAAjB;;AAEA,SAAS,WAAT,GAAuB;AACnB,GAAE,UAAF,EAAc,IAAd,CAAmB,YAAnB,EAAiC,IAAjC,CAAsC,YAAU;AAC/C,MAAI,QAAQ,EAAE,IAAF,CAAZ;AACA,MAAI,CAAC,MAAM,QAAN,CAAe,WAAf,CAAL,EAAiC;AAChC,SAAM,KAAN,CAAa,UAAS,KAAT,EAAgB;AAC/B,MAAE,IAAF,EAAQ,WAAR,CAAoB,UAApB;AACA,MAAE,IAAF,EAAQ,QAAR,CAAiB,IAAjB,EAAuB,MAAvB,CAA8B,MAA9B;AACA,WAAO,KAAP;AACA,IAJE,EAKF,QALE,CAKO,WALP,EAMF,QANE,CAMO,IANP,EAMa,IANb;AAOA;AACD,EAXD;AAaH;;;;;;;;;;;;;AC5ID,IAAI,OAAO,QAAQ,QAAR,CAAX;;AAEA,IAAI,WAAW,CAAC,OAAD,EAAU,QAAV,EAAoB,SAApB,EAA+B,0BAA/B,EAA2D,4BAA3D,CAAf;;AAEA,IAAI,UAAU,CACb,OADa,EAEb,WAFa,EAGb,WAHa,EAIb,mBAJa,EAKb,WALa,EAMb,WANa,EAOb,MAPa,EAQb,YARa,EASb,WATa,CAAd;;IAYM,iB;;;AAEL,4BAAY,SAAZ,EAAuB,MAAvB,EAA8B;AAAA;;AAAA,mGACvB,SADuB,EACZ,MADY;;AAG7B,QAAK,EAAL,CAAQ,MAAR,EAAgB,MAAK,IAArB;AAH6B;AAI7B;;;;yBAEK;;;AAGL,KAAE,IAAF,CAAO;AACN,UAAM,KADA;AAEN,SAAK,gCAFC;AAGN,cAAU,KAHJ;AAIN,aAAS,iBAAS,GAAT,EAAa;;AAErB,SAAI,UAAU,CAAd;AAFqB;AAAA;AAAA;;AAAA;AAGrB,2BAAiB,QAAjB,8HAA0B;AAAA,WAAjB,IAAiB;;AACzB,WAAI,KAAK,sBAAsB,EAAE,GAAF,EAAO,IAAP,CAAY,iCAA+B,IAA/B,GAAoC,IAAhD,CAAtB,EAA6E,YAAU,OAAvF,CAAT;AACA,UAAG,QAAH,CAAY,EAAE,UAAF,CAAZ;AACA,kBAAW,CAAX;AACA;AAPoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQrB;AAZK,IAAP;;;AAgBA,KAAE,IAAF,CAAO;AACN,UAAM,KADA;AAEN,SAAK,0CAFC;AAGN,cAAU,KAHJ;AAIN,aAAS,iBAAS,GAAT,EAAa;;AAErB,SAAI,UAAU,CAAd;AACA,qBAAgB,EAAE,GAAF,CAAhB,EAAwB,gBAAc,OAAtC,EAA+C,mBAA/C,EAAoE,QAApE,CAA6E,EAAE,cAAF,CAA7E;AACA,gBAAW,CAAX;AACA,OAAE,GAAF,EAAO,IAAP,CAAY,WAAZ,EAAyB,IAAzB,CAA8B,YAAU;AACvC,UAAI,KAAK,sBAAsB,EAAE,IAAF,CAAtB,EAA+B,gBAAc,OAA7C,CAAT;AACA,SAAG,QAAH,CAAY,EAAE,cAAF,CAAZ;AACA,iBAAW,CAAX;AACA,MAJD;AAKA;AAdK,IAAP;;;AAkBA,KAAE,IAAF,CAAO;AACN,UAAM,KADA;AAEN,SAAK,qCAFC;AAGN,cAAU,KAHJ;AAIN,aAAS,iBAAS,GAAT,EAAa;;AAErB,SAAI,UAAU,CAAd;AACA,qBAAgB,EAAE,GAAF,CAAhB,EAAwB,gBAAc,OAAtC,EAA+C,cAA/C,EAA+D,QAA/D,CAAwE,EAAE,cAAF,CAAxE;AACA,gBAAW,CAAX;AACA,OAAE,GAAF,EAAO,IAAP,CAAY,WAAZ,EAAyB,IAAzB,CAA8B,YAAU;AACvC,UAAI,KAAK,sBAAsB,EAAE,IAAF,CAAtB,EAA+B,gBAAc,OAA7C,CAAT;AACA,SAAG,QAAH,CAAY,EAAE,cAAF,CAAZ;AACA,iBAAW,CAAX;AACA,MAJD;AAKA;AAdK,IAAP;;;AArCK;AAAA;AAAA;;AAAA;AAuDL,0BAAiB,OAAjB,mIAAyB;AAAA,SAAhB,IAAgB;;AACxB,kBAAa,IAAb,EAAmB,IAAnB;AACA;AAzDI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2DL;;;;EAnE8B,I;;AAuEhC,OAAO,OAAP,GAAiB,iBAAjB;;AAEA,SAAS,qBAAT,CAA+B,IAA/B,EAAqC,EAArC,EAAwC;AACvC,KAAI,KAAK,EAAE,WAAF,CAAT;AACA,IAAG,MAAH,CAAU,EAAE,iBAAF,EAAqB,IAArB,CAA0B,MAA1B,EAAkC,UAAlC,EAA8C,QAA9C,CAAuD,MAAvD,EAA+D,IAA/D,CAAoE,IAApE,EAA0E,EAA1E,CAAV;AACA,IAAG,MAAH,CAAU,EAAE,iBAAF,EAAqB,IAArB,CAA0B,KAA1B,EAAiC,EAAjC,EAAqC,QAArC,CAA8C,kBAA9C,EAAkE,QAAlE,CAA2E,KAA3E,EAAkF,IAAlF,CAAuF,KAAK,IAAL,CAAU,MAAV,EAAkB,IAAlB,EAAvF,CAAV;;AAEA,KAAI,UAAU,EAAE,aAAF,CAAd;;;AAGA,SAAQ,MAAR,CAAe,EAAE,WAAF,EAAe,IAAf,CAAqB,KAAK,IAAL,CAAU,YAAV,EAAwB,IAAxB,KAAiC,KAAK,IAAL,CAAU,YAAV,EAAwB,IAAxB,EAAtD,CAAf;;;AAGA,SAAQ,MAAR,CAAe,EAAE,WAAF,EAAe,IAAf,CAAqB,KAAK,IAAL,CAAU,yBAAV,EAAqC,IAArC,MAA+C,EAApE,CAAf;;;AAGA,MAAK,IAAL,CAAU,4BAAV,EAAwC,IAAxC,CAA6C,YAAU;AACtD,MAAI,EAAE,IAAF,EAAQ,IAAR,CAAa,eAAb,EAA8B,MAAlC,EAAyC;AACxC,WAAQ,MAAR,CAAe,2BAAf;AACA,OAAI,KAAK,EAAE,WAAF,CAAT;AACA,KAAE,IAAF,EAAQ,IAAR,CAAa,eAAb,EAA8B,IAA9B,CAAmC,YAAU;AAC5C,QAAI,KAAK,EAAE,WAAF,CAAT;AACA,OAAG,MAAH,CAAU,EAAE,mBAAF,EAAuB,IAAvB,CAA6B,EAAE,IAAF,EAAQ,IAAR,CAAa,eAAb,EAA8B,IAA9B,KAAqC,IAAlE,CAAV;AACA,MAAE,IAAF,EAAQ,IAAR,CAAa,2BAAb,EAA0C,IAA1C,CAA+C,YAAU;AACxD,QAAG,MAAH,CAAU,EAAE,eAAF,EAAmB,IAAnB,CAAyB,EAAE,IAAF,EAAQ,IAAR,MAAkB,EAA3C,CAAV;AACA,KAFD;AAGA,OAAG,MAAH,CAAU,EAAV;AACA,IAPD;AAQA,WAAQ,MAAR,CAAe,EAAf;AACA,GAZD,MAYO;AACN,WAAQ,MAAR,CAAe,EAAE,SAAF,EAAa,IAAb,CAAmB,EAAE,IAAF,EAAQ,IAAR,MAAkB,EAArC,CAAf;AACA;AACD,EAhBD;;AAkBA,IAAG,MAAH,CAAU,OAAV;AACA,QAAO,EAAP;AACA;;AAED,SAAS,eAAT,CAAyB,IAAzB,EAA+B,EAA/B,EAAmC,QAAnC,EAA4C;AAC3C,KAAI,KAAK,EAAE,WAAF,CAAT;AACA,IAAG,MAAH,CAAU,EAAE,iBAAF,EAAqB,IAArB,CAA0B,MAA1B,EAAkC,UAAlC,EAA8C,QAA9C,CAAuD,MAAvD,EAA+D,IAA/D,CAAoE,IAApE,EAA0E,EAA1E,CAAV;AACA,IAAG,MAAH,CAAU,EAAE,iBAAF,EAAqB,IAArB,CAA0B,KAA1B,EAAiC,EAAjC,EAAqC,QAArC,CAA8C,kBAA9C,EAAkE,QAAlE,CAA2E,KAA3E,EAAkF,IAAlF,CAAuF,KAAK,IAAL,CAAU,cAAV,EAA0B,IAA1B,EAAvF,CAAV;;AAEA,KAAI,UAAU,EAAE,aAAF,CAAd;;;;;;AAMA,SAAQ,MAAR,CAAe,EAAE,WAAF,EAAe,IAAf,CAAqB,KAAK,IAAL,CAAU,uCAAV,EAAmD,IAAnD,MAA6D,EAAlF,CAAf;;;AAGA,MAAK,IAAL,CAAU,0CAAV,EAAsD,IAAtD,CAA2D,YAAU;AACpE,MAAI,EAAE,IAAF,EAAQ,IAAR,CAAa,eAAb,EAA8B,MAAlC,EAAyC;AACxC,WAAQ,MAAR,CAAe,2BAAf;AACA,OAAI,KAAK,EAAE,WAAF,CAAT;AACA,KAAE,IAAF,EAAQ,IAAR,CAAa,eAAb,EAA8B,IAA9B,CAAmC,YAAU;AAC5C,QAAI,KAAK,EAAE,WAAF,CAAT;AACA,OAAG,MAAH,CAAU,EAAE,mBAAF,EAAuB,IAAvB,CAA6B,EAAE,IAAF,EAAQ,IAAR,CAAa,eAAb,EAA8B,IAA9B,KAAqC,IAAlE,CAAV;AACA,MAAE,IAAF,EAAQ,IAAR,CAAa,2BAAb,EAA0C,IAA1C,CAA+C,YAAU;AACxD,QAAG,MAAH,CAAU,EAAE,eAAF,EAAmB,IAAnB,CAAyB,EAAE,IAAF,EAAQ,IAAR,MAAkB,EAA3C,CAAV;AACA,KAFD;AAGA,OAAG,MAAH,CAAU,EAAV;AACA,IAPD;AAQA,WAAQ,MAAR,CAAe,EAAf;AACA,GAZD,MAYO;AACN,WAAQ,MAAR,CAAe,EAAE,SAAF,EAAa,IAAb,CAAmB,EAAE,IAAF,EAAQ,IAAR,MAAkB,EAArC,CAAf;AACA;AACD,EAhBD;;AAkBA,SAAQ,MAAR,CAAe,oDAAkD,QAAlD,GAA2D,+CAA1E;;AAEA,IAAG,MAAH,CAAU,OAAV;AACA,QAAO,EAAP;AACA;;AAED,SAAS,YAAT,CAAsB,SAAtB,EAAiC,OAAjC,EAAyC;AACxC,KAAI,WAAW,UAAU,SAAzB;AACA,KAAI,SAAS,EAAE,MAAI,SAAJ,GAAc,MAAhB,CAAb;AACA,GAAE,IAAF,CAAO;AACN,QAAM,KADA;AAEN,OAAK,4BAA0B,QAFzB;AAGN,YAAU,KAHJ;AAIN,WAAS,iBAAS,GAAT,EAAa;;AAErB,OAAI,UAAU,CAAd;AACA,mBAAgB,EAAE,GAAF,CAAhB,EAAwB,YAAU,OAAlC,EAA2C,QAA3C,EAAqD,QAArD,CAA8D,MAA9D;AACA,cAAW,CAAX;AACA,KAAE,GAAF,EAAO,IAAP,CAAY,2DAAyD,SAAzD,GAAmE,KAA/E,EAAsF,IAAtF,CAA2F,YAAU;;AAEpG,QAAI,KAAK,sBAAsB,EAAE,IAAF,CAAtB,EAA+B,YAAU,OAAzC,CAAT;AACA,OAAG,QAAH,CAAY,MAAZ;AACA,eAAW,CAAX;AACA,IALD;;;AAQA,UAAO,QAAP,CAAgB,OAAhB,EAAyB,EAAzB,CAA4B,QAA5B,EAAsC,YAAU;AAC/C,YAAQ,GAAR,CAAY,SAAZ;AACA,IAFD;;AAIA,KAAE,IAAF,CAAO;AACN,UAAM,KADA;AAEN,SAAK,4BAA0B,SAA1B,GAAoC,KAFnC;AAGN,cAAU,KAHJ;AAIN,aAAS,iBAAS,GAAT,EAAa;;AAErB,SAAI,WAAW,EAAE,GAAF,EAAO,IAAP,CAAY,YAAZ,CAAf;AACA,SAAI,SAAS,MAAb,EAAoB;AACnB,UAAI,UAAU,EAAE,MAAI,SAAJ,GAAc,GAAhB,EAAqB,QAArB,CAA8B,KAA9B,CAAd;AACA,cAAQ,MAAR,CAAe,EAAE,SAAF,EAAa,IAAb,CAAkB,gCAAlB,CAAf;AACA,eAAS,IAAT,CAAc,YAAU;AACvB,WAAI,UAAU,EAAE,IAAF,EAAQ,IAAR,EAAd;AACA,WAAI,WAAW,QAAQ,KAAnB,IAA4B,QAAQ,KAAR,CAAc,GAAd,EAAmB,CAAnB,MAA0B,UAA1D,EAAqE;AACpE,YAAI,OAAO,EAAE,SAAF,EAAa,IAAb,CAAkB,QAAQ,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAlB,CAAX;AACA,aAAK,EAAL,CAAQ,OAAR,EAAiB;AAAA,gBAAM,QAAQ,IAAR,CAAa,cAAb,EAA6B,CAAC,QAAQ,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAD,EAAwB,QAAQ,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAxB,EAA+C,IAA/C,CAAoD,GAApD,CAA7B,CAAN;AAAA,SAAjB;AACA,gBAAQ,MAAR,CAAe,IAAf,EAAqB,MAArB,CAA4B,OAA5B;AACA;AACD,OAPD;AAQA;AACD;AAnBK,IAAP;AAqBA;AA1CK,EAAP;AA4CA;;;;;;;;;;;;;AClND,IAAI,OAAO,QAAQ,QAAR,CAAX;AACA,IAAI,QAAQ,IAAI,OAAJ,CAAY,WAAZ,EAAyB,KAArC;;AAEA,IAAM,cAAc,EAApB;;AAEA,IAAI,gBAAgB,KAApB;AACA,IAAI,WAAJ;AACA,IAAI,QAAJ;;IAEM,U;;;AAEL,qBAAY,SAAZ,EAAuB,MAAvB,EAA8B;AAAA;;AAAA,4FACvB,SADuB,EACZ,MADY;;AAG7B,QAAK,MAAL,GAAc,IAAI,IAAJ,CAAS,QAAT,CAAd;AACA,MAAI,OAAJ,CAAY,wBAAZ;;;AAGA,QAAK,MAAL,CAAY,OAAZ,CAAoB,OAApB,CAA4B,gBAA5B;AACA,QAAK,MAAL,CAAY,eAAZ,GAA8B,QAA9B;;;AAGA,QAAK,MAAL,CAAY,QAAZ,CAAqB,kBAArB;AACA,QAAK,MAAL,CAAY,kBAAZ,CAA+B,KAA/B;;;AAGA,QAAK,MAAL,CAAY,UAAZ,CAAuB;AACtB,8BAA2B,IADL;AAEtB,6BAA0B,KAFJ;AAGtB,mBAAgB;AAHM,GAAvB;;;AAOA,QAAK,MAAL,CAAY,OAAZ,CAAoB,EAApB,CAAuB,QAAvB,EAAiC,UAAC,CAAD,EAAO;;AAEvC,OAAI,CAAC,aAAL,EAAoB,MAAK,aAAL;AACpB,GAHD;;;AAMA,QAAK,MAAL,CAAY,EAAZ,CAAe,iBAAf,EAAkC,UAAC,CAAD,EAAO;AACxC,OAAI,SAAS,EAAE,QAAF,CAAW,MAAxB;AACA,OAAI,OAAO,SAAP,CAAiB,OAAjB,CAAyB,iBAAzB,KAA+C,CAAC,CAApD,EACC;AACD,OAAI,CAAC,MAAK,MAAL,CAAY,SAAZ,EAAL,EACC;AACD,OAAI,EAAE,OAAF,GAAY,KAAK,OAAO,qBAAP,GAA+B,IAApD,EACC;;AAED,OAAI,MAAM,EAAE,mBAAF,GAAwB,GAAlC;;AAEA,SAAK,IAAL,CAAU,YAAV,EAAwB,GAAxB;;AAEA,KAAE,IAAF;AAEA,GAfD;;AAiBA,IAAE,eAAF,EAAmB,IAAnB,CAAwB,QAAxB,EAAkC,EAAlC,CAAqC,OAArC,EAA8C;AAAA,UAAM,YAAY,KAAZ,CAAkB,CAAlB,CAAN;AAAA,GAA9C;;AAEA,QAAK,EAAL,CAAQ,QAAR,EAAkB;AAAA,UAAM,MAAK,MAAL,CAAY,MAAZ,EAAN;AAAA,GAAlB;;AA/C6B;AAiD7B;;;;kCAEc;AAAA;;AACd,QAAK,IAAL,CAAU,gBAAV;AACA,gBAAa,KAAK,aAAlB;AACA,QAAK,aAAL,GAAqB,WAAY;AAAA,WAAM,OAAK,IAAL,CAAU,QAAV,EAAoB,OAAK,MAAL,CAAY,QAAZ,EAApB,CAAN;AAAA,IAAZ,EAA+D,WAA/D,CAArB;AACA;;;;;;;6BAIU,I,EAAM,I,EAAK;;;AAGrB,KAAE,6DAAF,EAAiE,GAAjE,CAAqE,SAArE,EAAgF,MAAhF;;AAEA,OAAI,CAAC,KAAK,QAAV,EAAoB,KAAK,QAAL,GAAgB,GAAhB;;AAEpB,OAAI,KAAK,QAAL,CAAc,OAAd,CAAsB,OAAtB,MAAmC,CAAC,CAAxC,EAA0C;;;AAGzC,MAAE,mCAAF,EAAuC,GAAvC,CAA2C;AAC1C,kBAAc,EAAE,SAAF,EAAa,KAAb,KAAqB,IADO;AAE1C,mBAAc,EAAE,SAAF,EAAa,MAAb,KAAsB;AAFM,KAA3C;AAIA,MAAE,qBAAF,EAAyB,GAAzB,CAA6B,SAA7B,EAAwC,OAAxC;;AAEA,MAAE,cAAF,EAAkB,IAAlB,CAAuB,KAAvB,EAA8B,WAAS,KAAK,QAA5C;AAEA,IAXD,MAWO,IAAI,KAAK,QAAL,CAAc,OAAd,CAAsB,OAAtB,MAAmC,CAAC,CAAxC,EAA0C;;;;AAIhD,MAAE,eAAF,EAAmB,GAAnB,CAAuB;AACtB,gBAAY,OADU;AAEtB,kBAAc,EAAE,SAAF,EAAa,KAAb,KAAqB,IAFb;AAGtB,mBAAc,EAAE,SAAF,EAAa,MAAb,KAAsB;AAHd,KAAvB;;AAMA,MAAE,QAAF,EAAY,IAAZ,CAAiB,KAAjB,EAAwB,WAAS,KAAK,QAAtC;AAEA,IAZM,MAYA;;AAEN,QAAI,KAAK,QAAL,KAAkB,IAAtB,EAA2B;;;AAG1B,SAAI,YAAY,YAAY,GAAZ,EAAhB;AACA,UAAK,IAAL,CAAU,mBAAV,EAA+B;AAC9B,YAAM,QADwB;AAE9B,0BAF8B;AAG9B,YAAM;AAHwB,MAA/B;;;AAOA,SAAG;;AAEF,QAAE,SAAF,EAAa,IAAb,CAAkB,KAAK,SAAL,CAAe,KAAK,KAAL,CAAW,IAAX,CAAf,EAAiC,EAAC,SAAS,KAAV,EAAjC,CAAlB,EAAsE,GAAtE,CAA0E;AACzE,oBAAc,EAAE,SAAF,EAAa,KAAb,KAAqB,IADsC;AAEzE,qBAAc,EAAE,SAAF,EAAa,MAAb,KAAsB;AAFqC,OAA1E;;AAKA,QAAE,gBAAF,EAAoB,GAApB,CAAwB;AACvB,kBAAY,OADW;AAEvB,oBAAc,EAAE,SAAF,EAAa,KAAb,KAAqB,IAFZ;AAGvB,qBAAc,EAAE,SAAF,EAAa,MAAb,KAAsB;AAHb,OAAxB;;AAMA,WAAK,IAAL,CAAU,oBAAV,EAAgC,EAAC,oBAAD,EAAhC;AAEA,MAfD,CAgBA,OAAM,CAAN,EAAQ;AACP,WAAK,IAAL,CAAU,oBAAV,EAAgC;AAC/B,2BAD+B;AAE/B,aAAM;AAFyB,OAAhC;AAIA,YAAM,CAAN;AACA;;;AAGD,YAAO,EAAP;AAEA,KAtCD,MAsCO;;;AAGN,OAAE,SAAF,EAAa,GAAb,CAAiB,SAAjB,EAA4B,OAA5B;AAEA;;;AAGD,oBAAgB,IAAhB;;;AAGA,SAAK,MAAL,CAAY,OAAZ,CAAoB,QAApB,CAA6B,IAA7B,EAAmC,CAAC,CAApC;;;AAGA,oBAAgB,KAAhB;;;AAGA,SAAK,IAAL,CAAU,QAAV;;;AAGA,SAAK,MAAL,CAAY,KAAK,KAAjB;AAEA;AAED;;;;;yBAEM,I,EAAK;;AAEX,OAAI,QAAQ,KAAK,IAAL,KAAc,SAAtB,IAAmC,KAAK,MAAL,KAAgB,SAAvD,EACC,KAAK,MAAL,CAAY,QAAZ,CAAqB,KAAK,IAA1B,EAAgC,KAAK,MAArC;;AAED,QAAK,MAAL,CAAY,KAAZ;AACA;;;;;qCAEkB,M,EAAO;;;AAGzB,QAAK,MAAL,CAAY,OAAZ,CAAoB,gBAApB;;AAEA,OAAI,OAAO,MAAP,IAAiB,CAArB,EAAuB;;;AAGtB,SAAK,MAAL,CAAY,OAAZ,CAAoB,cAApB,CAAmC,MAAnC;AAEA;AACD;;;;;sCAEmB,M,EAAO;;AAE1B,QAAK,MAAL,CAAY,UAAZ,CAAuB;AACtB,8BAA2B,SAAS,MAAT,MAAqB;AAD1B,IAAvB;AAGA;;;;;4BAES,M,EAAO;AAChB,OAAI,MAAJ,EAAW;AACV,SAAK,MAAL,CAAY,WAAZ,CAAwB,IAAxB;AACA,IAFD,MAEO;AACN,SAAK,MAAL,CAAY,WAAZ,CAAwB,KAAxB;AACA;AACD;;;;;4BAES,I,EAAM,I,EAAK;AACpB,iBAAc,IAAd;AACA,QAAK,aAAL,CAAmB,KAAK,WAAxB,EAAqC,IAArC;AACA;;;;;gCAEa,W,EAAa,I,EAAK;;AAE/B,QAAK,MAAL,CAAY,OAAZ,CAAoB,gBAApB;AAF+B;AAAA;AAAA;;AAAA;AAG/B,yBAAuB,WAAvB,8HAAmC;AAAA,SAA1B,UAA0B;;AAClC,SAAI,WAAW,IAAX,KAAoB,KAAK,QAA7B,EAAsC;AACrC,WAAK,MAAL,CAAY,OAAZ,CAAoB,aAApB,CAAkC,WAAW,IAA7C;AACA;AACD;AAP8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQ/B;;;;;8BAEW,I,EAAM,I,EAAK;AACvB,WAAQ,GAAR,CAAY,IAAZ,EAAkB,KAAK,SAAvB,EAAkC,WAAlC;AACC,QAAK,oBAAL;;;AAGA,OAAI,QAAQ,KAAK,SAAL,KAAmB,WAA/B,EAA2C;AAC1C,SAAK,MAAL,CAAY,OAAZ,CAAoB,SAApB,CAA8B,IAAI,KAAJ,CAAU,OAAK,CAAf,EAAkB,CAAlB,EAAqB,OAAK,CAA1B,EAA6B,CAA7B,CAA9B,EAA+D,kBAA/D,EAAmF,UAAnF;AACA,SAAK,MAAL,CAAY,QAAZ,CAAqB,IAArB,EAA2B,CAA3B;AACA;AACD;;;;;gCAEa,M,EAAO;AACpB,OAAI,CAAC,MAAL,EAAY;AACX,SAAK,oBAAL;AACA;AACD;;;oCACiB,M,EAAO;AACxB,OAAI,MAAJ,EAAW;AACV,SAAK,oBAAL;AACA;AACD;;;yCAEqB;AAAA;;AACrB,OAAI,UAAU,KAAK,MAAL,CAAY,OAAZ,CAAoB,UAApB,EAAd;;;AAGA,UAAO,IAAP,CAAY,OAAZ,EAAqB,OAArB,CAA8B,UAAC,GAAD,EAAK,KAAL,EAAe;AAC5C,QAAI,QAAQ,GAAR,EAAa,KAAb,KAAuB,kBAA3B,EAA8C;AAC7C,YAAK,MAAL,CAAY,OAAZ,CAAoB,YAApB,CAAiC,QAAQ,GAAR,EAAa,EAA9C;AACA;AACD,IAJD;AAKA;;;;EA/OuB,I;;AAkPzB,OAAO,OAAP,GAAiB,UAAjB;;;;;;;;;;;;;AC3PA,IAAI,OAAO,QAAQ,QAAR,CAAX;AACA,IAAI,QAAQ,QAAQ,UAAR,CAAZ;;AAEA,IAAI,gBAAgB,CAAC,KAAD,EAAQ,GAAR,EAAa,GAAb,CAApB;AACA,IAAI,gBAAgB,CAAC,GAAD,EAAM,IAAN,EAAY,KAAZ,CAApB;;AAEA,IAAI,kBAAkB,IAAtB;AACA,IAAI,gBAAgB,KAApB;AACA,IAAI,YAAY,EAAhB;;IAEM,Q;;;AAEL,mBAAY,SAAZ,EAAuB,MAAvB,EAA8B;AAAA;;AAAA,0FACvB,SADuB,EACZ,MADY;;AAG7B,QAAK,WAAL,GAAmB,EAAnB;;;AAGA,IAAE,kBAAF,EAAsB,EAAtB,CAAyB,QAAzB,EAAmC,UAAC,CAAD,EAAO;AACzC,QAAK,IAAI,IAAE,CAAX,EAAc,IAAE,EAAE,MAAF,CAAS,KAAT,CAAe,MAA/B,EAAuC,GAAvC,EAA2C;AAC1C,UAAK,YAAL,CAAkB,EAAE,MAAF,CAAS,KAAT,CAAe,CAAf,CAAlB;AACA;AACD,GAJD;;;AAOA,IAAE,MAAF,EAAU,EAAV,CAAa,yBAAb,EAAwC,UAAC,CAAD,EAAO;AAC9C,KAAE,eAAF;AACA,KAAE,cAAF;AACA,OAAI,EAAE,IAAF,KAAW,MAAf,EAAsB;AACrB,SAAK,IAAI,IAAE,CAAX,EAAc,IAAE,EAAE,aAAF,CAAgB,YAAhB,CAA6B,KAA7B,CAAmC,MAAnD,EAA2D,GAA3D,EAA+D;AAC9D,WAAK,YAAL,CAAkB,EAAE,aAAF,CAAgB,YAAhB,CAA6B,KAA7B,CAAmC,CAAnC,CAAlB;AACA;AACD;AACD,UAAO,KAAP;AACA,GATD;;AAb6B;AAwB7B;;;;;;;gCAGa,Q,EAAU,C,EAAE;AACzB,OAAI,OAAO,SAAS,IAAT,GAAgB,IAA3B;AACA,OAAI,QAAQ,KAAK,IAAL,CAAZ,EAAuB;AACtB,SAAK,IAAL,EAAW,IAAX;AACA;AACD;;;0BAEO,I,EAAK;AAAA;;;AAGZ,SAAM,KAAN,CAAY,qBAAZ;AACA,SAAM,QAAN,CAAe,6FAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,uDAAV;AACA,QAAK,IAAL,CAAU,QAAV;AACA,QAAK,IAAL,CAAU,mEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,UAAD,EAAO,SAAS,SAAS,MAAM,IAAN,CAAW,kBAAX,EAA+B,GAA/B,EAAT,CAAhB,EAAtC;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;AAEA;;;6BACU,I,EAAK;AACf,KAAE,kBAAF,EAAsB,OAAtB,CAA8B,OAA9B;AACA;;;6BACU,I,EAAK;AAAA;;;AAGf,SAAM,KAAN,CAAY,oBAAZ;AACA,SAAM,QAAN,CAAe,6FAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,2DAAV;AACA,QAAK,IAAL,CAAU,QAAV;AACA,QAAK,IAAL,CAAU,mEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,UAAD,EAAO,SAAS,SAAS,MAAM,IAAN,CAAW,kBAAX,EAA+B,GAA/B,EAAT,CAAhB,EAAtC;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;AAEA;;;6BACU,I,EAAK;AAAA;;;AAGf,SAAM,KAAN,CAAY,eAAZ;AACA,SAAM,QAAN,CAAe,mEAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,mEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,UAAD,EAAtC;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;;AAEA,SAAM,IAAN,CAAW,eAAX,EAA4B,OAA5B,CAAoC,OAApC;AAEA;;;2BACQ,C,EAAE;AACV,QAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,MAAM,UAAP,EAAmB,SAAS,EAAE,EAAE,aAAJ,EAAmB,IAAnB,CAAwB,MAAxB,CAA5B,EAAtC;AACA;;;;;;4BAGS,K,EAAO,I,EAAK;AAAA;;AAErB,QAAK,WAAL,GAAmB,KAAnB;;AAEA,OAAI,SAAS,EAAE,WAAF,CAAb;AACA,UAAO,KAAP;;AAEA,OAAI,CAAC,MAAM,MAAX,EAAmB;;AAEnB,OAAI,UAAU,EAAd;AACA,OAAI,UAAU,EAAd;AACA,OAAI,YAAY,EAAhB;AACA,OAAI,cAAc,EAAlB;;AAZqB;AAAA;AAAA;;AAAA;AAcrB,yBAAiB,KAAjB,8HAAuB;AAAA,SAAd,IAAc;;;AAEtB,SAAI,KAAK,GAAT,EAAa;;AAEZ,kBAAY,IAAZ,CAAiB,IAAjB;AAEA,MAJD,MAIO;;AAEN,UAAI,MAAM,KAAK,IAAL,CAAU,KAAV,CAAgB,GAAhB,EAAqB,GAArB,EAAV;;AAEA,UAAI,cAAc,OAAd,CAAsB,GAAtB,MAA+B,CAAC,CAApC,EAAsC;AACrC,eAAQ,IAAR,CAAa,IAAb;AACA,OAFD,MAEO,IAAI,cAAc,OAAd,CAAsB,GAAtB,MAA+B,CAAC,CAApC,EAAsC;AAC5C,eAAQ,IAAR,CAAa,IAAb;AACA,OAFM,MAEA,IAAI,IAAJ,EAAS;AACf,iBAAU,IAAV,CAAe,IAAf;AACA;AAED;AAED;;;AAlCoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAsCrB,WAAQ,IAAR,CAAc,UAAC,CAAD,EAAI,CAAJ;AAAA,WAAU,EAAE,IAAF,GAAS,EAAE,IAArB;AAAA,IAAd;AACA,WAAQ,IAAR,CAAc,UAAC,CAAD,EAAI,CAAJ;AAAA,WAAU,EAAE,IAAF,GAAS,EAAE,IAArB;AAAA,IAAd;AACA,aAAU,IAAV,CAAgB,UAAC,CAAD,EAAI,CAAJ;AAAA,WAAU,EAAE,IAAF,GAAS,EAAE,IAArB;AAAA,IAAhB;AACA,eAAY,IAAZ,CAAkB,UAAC,CAAD,EAAI,CAAJ;AAAA,WAAU,EAAE,IAAF,GAAS,EAAE,IAArB;AAAA,IAAlB;;;;AAIA,OAAI,QAAQ,MAAZ,EAAmB;AAClB,MAAE,WAAF,EAAe,IAAf,CAAoB,UAApB,EAAgC,QAAhC,CAAyC,MAAzC;AACA;AACD,QAAK,IAAI,IAAE,CAAX,EAAc,IAAE,QAAQ,MAAxB,EAAgC,GAAhC,EAAoC;AACnC,MAAE,WAAF,EAAe,QAAf,CAAwB,YAAxB,EAAsC,IAAtC,CAA2C,QAAQ,CAAR,EAAW,IAAtD,EAA4D,IAA5D,CAAiE,MAAjE,EAAyE,QAAQ,CAAR,EAAW,IAApF,EAA0F,QAA1F,CAAmG,MAAnG,EAA2G,EAA3G,CAA8G,OAA9G,EAAuH,UAAC,CAAD;AAAA,YAAO,OAAK,QAAL,CAAc,CAAd,CAAP;AAAA,KAAvH;AACA;;AAED,OAAI,QAAQ,MAAZ,EAAmB;AAClB,MAAE,WAAF,EAAe,IAAf,CAAoB,UAApB,EAAgC,QAAhC,CAAyC,MAAzC;AACA;AACD,QAAK,IAAI,KAAE,CAAX,EAAc,KAAE,QAAQ,MAAxB,EAAgC,IAAhC,EAAoC;AACnC,MAAE,WAAF,EAAe,QAAf,CAAwB,YAAxB,EAAsC,IAAtC,CAA2C,QAAQ,EAAR,EAAW,IAAtD,EAA4D,IAA5D,CAAiE,MAAjE,EAAyE,QAAQ,EAAR,EAAW,IAApF,EAA0F,QAA1F,CAAmG,MAAnG,EAA2G,EAA3G,CAA8G,OAA9G,EAAuH,UAAC,CAAD;AAAA,YAAO,OAAK,QAAL,CAAc,CAAd,CAAP;AAAA,KAAvH;AACA;;AAED,OAAI,UAAU,MAAd,EAAqB;AACpB,MAAE,WAAF,EAAe,IAAf,CAAoB,YAApB,EAAkC,QAAlC,CAA2C,MAA3C;AACA;AACD,QAAK,IAAI,MAAE,CAAX,EAAc,MAAE,UAAU,MAA1B,EAAkC,KAAlC,EAAsC;AACrC,MAAE,WAAF,EAAe,QAAf,CAAwB,YAAxB,EAAsC,IAAtC,CAA2C,UAAU,GAAV,EAAa,IAAxD,EAA8D,IAA9D,CAAmE,MAAnE,EAA2E,UAAU,GAAV,EAAa,IAAxF,EAA8F,QAA9F,CAAuG,MAAvG,EAA+G,EAA/G,CAAkH,OAAlH,EAA2H,UAAC,CAAD;AAAA,YAAO,OAAK,QAAL,CAAc,CAAd,CAAP;AAAA,KAA3H;AACA;;AAED,OAAI,YAAY,MAAhB,EAAuB;AACtB,MAAE,WAAF,EAAe,IAAf,CAAoB,cAApB,EAAoC,QAApC,CAA6C,MAA7C;AACA;AApEoB;AAAA;AAAA;;AAAA;AAqErB,0BAAgB,WAAhB,mIAA4B;AAAA,SAAnB,GAAmB;;AAC3B,YAAO,MAAP,CAAc,KAAK,OAAL,CAAa,GAAb,CAAd;AACA;AAvEoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAyErB,OAAI,QAAQ,KAAK,QAAjB,EAA2B,KAAK,SAAL,CAAe,KAAK,QAApB;AAC3B;;;4BACS,I,EAAM,I,EAAK;;;AAGpB,KAAE,eAAF,EAAmB,WAAnB,CAA+B,cAA/B;;AAEA,OAAI,YAAY,KAAhB;AACA,KAAE,cAAF,EAAkB,IAAlB,CAAuB,YAAU;AAChC,QAAI,EAAE,IAAF,EAAQ,IAAR,CAAa,MAAb,MAAyB,IAA7B,EAAkC;AACjC,OAAE,IAAF,EAAQ,QAAR,CAAiB,cAAjB;AACA,iBAAY,IAAZ;AACA;AACD,IALD;;AAOA,OAAI,QAAQ,KAAK,cAAjB,EAAgC;;AAE/B,MAAE,mBAAF,EAAuB,IAAvB,CAA4B,MAA5B,EAAoC,uBAAqB,KAAK,cAA1B,GAAyC,QAAzC,GAAkD,IAAtF;AACA;AACD;;;0BAEO,G,EAAI;AAAA;;AACX,OAAI,KAAK,EAAE,WAAF,EAAe,IAAf,CAAoB,IAAI,IAAJ,GAAS,GAA7B,CAAT;AADW;AAAA;AAAA;;AAAA;AAEX,0BAAkB,IAAI,QAAtB,mIAA+B;AAAA,SAAtB,KAAsB;;AAC9B,SAAI,CAAC,MAAM,GAAX,EACC,EAAE,WAAF,EAAe,QAAf,CAAwB,YAAxB,EAAsC,IAAtC,CAA2C,MAAM,IAAjD,EAAuD,IAAvD,CAA4D,MAA5D,EAAoE,CAAC,IAAI,OAAJ,IAAe,IAAI,IAApB,IAA0B,GAA1B,GAA8B,MAAM,IAAxG,EAA8G,QAA9G,CAAuH,EAAvH,EAA2H,EAA3H,CAA8H,OAA9H,EAAuI,UAAC,CAAD;AAAA,aAAO,OAAK,QAAL,CAAc,CAAd,CAAP;AAAA,MAAvI,EADD,KAEK;AACJ,YAAM,OAAN,GAAgB,CAAC,IAAI,OAAJ,IAAe,IAAI,IAApB,IAA4B,GAA5B,GAAkC,MAAM,IAAxD;AACA,SAAG,MAAH,CAAU,KAAK,OAAL,CAAa,KAAb,CAAV;AACA;AACD;AATU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUX,UAAO,EAAP;AACA;;;+BAEY,I,EAAK;AAAA;;AAEjB,OAAI,aAAJ,EAAkB;AACjB,cAAU,IAAV,CAAe,IAAf;AACA;AACA;;AAED,OAAI,aAAa,KAAjB;AAPiB;AAAA;AAAA;;AAAA;AAQjB,0BAAiB,KAAK,WAAtB,mIAAkC;AAAA,SAAzB,IAAyB;;AACjC,SAAI,KAAK,IAAL,KAAc,KAAK,IAAvB,EAA6B,aAAa,IAAb;AAC7B;AAVgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYjB,OAAI,cAAc,eAAlB,EAAkC;;AAEjC,oBAAgB,IAAhB;;;AAGA,UAAM,KAAN,CAAY,kBAAZ;AACA,UAAM,QAAN,CAAe,cAAY,KAAK,IAAjB,GAAsB,kEAArC;;AAEA,QAAI,OAAO,EAAX;AACA,SAAK,IAAL,CAAU,oDAAV;AACA,SAAK,IAAL,CAAU,6EAAV;AACA,SAAK,IAAL,CAAU,QAAV;AACA,SAAK,IAAL,CAAU,mEAAV;AACA,SAAK,IAAL,CAAU,mEAAV;;AAEA,UAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,OAAE,cAAF;AACA,SAAI,MAAM,IAAN,CAAW,sBAAX,EAAmC,EAAnC,CAAsC,UAAtC,CAAJ,EAAuD,kBAAkB,KAAlB;AACvD,YAAK,oBAAL,CAA0B,IAA1B,EAAgC,IAAhC;AACA,WAAM,IAAN;AACA,qBAAgB,KAAhB;AACA,SAAI,UAAU,MAAd,EAAsB,OAAK,YAAL,CAAkB,UAAU,GAAV,EAAlB;AACtB,KAPD;;AASA,UAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,YAAM;AAC7C,WAAM,IAAN;AACA,qBAAgB,KAAhB;AACA,SAAI,UAAU,MAAd,EAAsB,OAAK,YAAL,CAAkB,UAAU,GAAV,EAAlB;AACtB,KAJD;;AAMA,UAAM,IAAN;;AAEA,UAAM,IAAN,CAAW,eAAX,EAA4B,KAA5B;AAEA,IAlCD,MAkCO;;AAEN,SAAK,oBAAL,CAA0B,IAA1B,EAAgC,CAAC,eAAjC;AAEA;AACD;;;uCAEoB,I,EAAM,K,EAAM;AAAA;;AAChC,OAAI,SAAS,IAAI,UAAJ,EAAb;AACA,UAAO,MAAP,GAAgB,UAAC,EAAD;AAAA,WAAQ,OAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,MAAM,YAAP,EAAqB,SAAS,SAAS,KAAK,IAAd,CAA9B,EAAmD,UAAU,GAAG,MAAH,CAAU,MAAvE,EAA+E,YAA/E,EAAtC,CAAR;AAAA,IAAhB;AACA,UAAO,iBAAP,CAAyB,IAAzB;AACA;;;;EArRqB,I;;AAyRvB,OAAO,OAAP,GAAiB,QAAjB;;;AAGA,SAAS,QAAT,CAAkB,IAAlB,EAAuB;AACtB,QAAO,KAAK,OAAL,CAAa,sBAAb,EAAqC,GAArC,CAAP;AACA;;;ACxSD;;;;;;;;;;AACA,IAAI,OAAO,QAAQ,QAAR,CAAX;AACA,IAAI,QAAQ,QAAQ,UAAR,CAAZ;;IAEM,O;;;AAEL,kBAAY,SAAZ,EAAuB,MAAvB,EAA+B,QAA/B,EAAwC;AAAA;;AAAA,yFACjC,SADiC,EACtB,MADsB,EACd,QADc;;AAGvC,QAAK,KAAL,GAAa,EAAE,UAAF,CAAb;AACA,QAAK,MAAL,GAAc,EAAE,WAAF,CAAd;;;AAGA,QAAK,KAAL,CAAW,EAAX,CAAc,QAAd,EAAwB,UAAC,CAAD,EAAO;AAC9B,KAAE,cAAF;AACA,SAAK,IAAL,CAAU,WAAV,EAAuB;AACtB,UAAM,SADgB;AAEtB,aAAS,MAAK,MAAL,CAAY,GAAZ;AAFa,IAAvB;AAIA,SAAK,MAAL,CAAY,GAAZ,CAAgB,EAAhB;AACA,GAPD;AAPuC;AAevC;;;;gCAEa,Q,EAAU,C,EAAE;AACzB,OAAI,OAAO,SAAS,IAAT,GAAgB,IAA3B;AACA,OAAI,KAAK,IAAL,CAAJ,EAAe;AACd,SAAK,IAAL;AACA;AACA;AACD,OAAI,UAAU,SAAS,IAAT,GAAgB,OAA9B;AACA,QAAK,IAAL,CAAU,WAAV,EAAuB,EAAC,UAAD,EAAO,gBAAP,EAAvB;AACA;;;gCAEa,Q,EAAU,C,EAAE;AACzB,QAAK,IAAL,CAAU,WAAV,EAAuB;AACtB,UAAM,SADgB;AAEtB,aAAS,eAAe,EAAE,iBAAF,EAAqB,QAArB,EAA+B,IAA/B,CAAoC,MAApC,KAA+C,EAAE,iBAAF,EAAqB,QAArB,EAA+B,GAA/B,EAA9D;AAFa,IAAvB;AAIA;;;2BAEO;AAAA;;;AAGP,SAAM,KAAN,CAAY,sCAAZ;AACA,SAAM,QAAN,CAAe,wBAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,6DAAV;AACA,QAAK,IAAL,CAAU,QAAV;AACA,QAAK,IAAL,CAAU,mEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,WAAV,EAAuB,EAAC,MAAM,SAAP,EAAkB,SAAS,iBAAe,MAAM,IAAN,CAAW,kBAAX,EAA+B,GAA/B,EAAf,GAAoD,GAA/E,EAAvB;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;AAEA;;;2BACO;AAAA;;;AAGP,SAAM,KAAN,CAAY,uBAAZ;AACA,SAAM,QAAN,CAAe,6BAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,8DAAV;AACA,QAAK,IAAL,CAAU,QAAV;AACA,QAAK,IAAL,CAAU,mEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,WAAV,EAAuB,EAAC,MAAM,SAAP,EAAkB,SAAS,iBAAe,MAAM,IAAN,CAAW,kBAAX,EAA+B,GAA/B,EAA1C,EAAvB;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;AAEA;;;mCAEe;AAAA;;;AAGf,SAAM,KAAN,CAAY,oBAAZ;AACA,SAAM,QAAN,CAAe,qLAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,uEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,WAAV,EAAuB,EAAC,MAAM,SAAP,EAAkB,SAAS,eAA3B,EAAvB;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;;AAEA,SAAM,IAAN,CAAW,iBAAX,EAA8B,OAA9B,CAAsC,OAAtC;AAEA;;;8BAEW,M,EAAO;AAClB,OAAI,MAAJ,EAAW;AACV,MAAE,OAAF,EAAW,GAAX,CAAe,SAAf,EAA0B,OAA1B;AACA,MAAE,SAAF,EAAa,GAAb,CAAiB,SAAjB,EAA4B,MAA5B;AACA,IAHD,MAGO;AACN,MAAE,OAAF,EAAW,GAAX,CAAe,SAAf,EAA0B,MAA1B;AACA,MAAE,SAAF,EAAa,GAAb,CAAiB,SAAjB,EAA4B,OAA5B;AACA;AACD;;;4BACS,O,EAAS,G,EAAI;;AAEtB,OAAI,UAAU,QAAQ,KAAR,CAAc,IAAd,CAAd;AACA,OAAI,UAAU,IAAI,aAAJ,CAAkB,IAAlB,EAAd;AACA,OAAI,WAAW,IAAI,QAAJ,CAAa,KAAb,CAAmB,IAAnB,CAAf;;;AAGA,OAAI,WAAW,EAAE,UAAF,CAAf;AACA,YAAS,KAAT;;AAEA,OAAI,MAAJ,EAAY,IAAZ,EAAkB,GAAlB;AACA,QAAK,IAAI,IAAE,CAAX,EAAc,IAAE,QAAQ,MAAxB,EAAgC,GAAhC,EAAoC;AACnC,aAAS,QAAQ,CAAR,EAAW,KAAX,CAAiB,GAAjB,CAAT;AACA,QAAI,OAAO,MAAP,GAAgB,CAApB,EAAsB;AACrB,YAAO,OAAO,GAAP,GAAa,IAAb,EAAP;AACA,WAAM,EAAE,mBAAF,EAAuB,IAAvB,CAA4B,OAAO,IAAP,CAAY,GAAZ,CAA5B,EAA8C,IAA9C,CAAmD,MAAnD,EAA2D,IAA3D,EAAiE,QAAjE,CAA0E,QAA1E,CAAN;AACA,SAAI,SAAS,OAAb,EAAqB;AACpB,QAAE,GAAF,EAAO,IAAP,CAAY,UAAZ,EAAwB,UAAxB;AACA;AACD,KAND,MAMO;;AAEN,SAAI,EAAE,OAAO,MAAP,IAAiB,CAAjB,IAAsB,OAAO,CAAP,MAAc,EAAtC,CAAJ,EAA+C,QAAQ,GAAR,CAAY,gBAAZ,EAA8B,MAA9B;AAC/C;AACD;;;AAGD,OAAI,YAAY,EAAE,WAAF,CAAhB;AACA,aAAU,KAAV;;AAEA,QAAK,IAAI,IAAE,CAAX,EAAc,IAAE,SAAS,MAAzB,EAAiC,GAAjC,EAAqC;AACpC,QAAI,SAAS,CAAT,CAAJ,EAAgB;AACf,WAAM,EAAE,mBAAF,EAAuB,IAAvB,CAA4B,SAAS,CAAT,CAA5B,EAAyC,QAAzC,CAAkD,SAAlD,CAAN;AACA,SAAI,SAAS,CAAT,EAAY,CAAZ,MAAmB,GAAvB,EAA2B;AAC1B,QAAE,GAAF,EAAO,IAAP,CAAY,UAAZ,EAAwB,UAAxB;AACA;AACD;AACD;AACD;;;2BACQ,I,EAAM,G,EAAI;AAClB,QAAK,IAAL,CAAU,SAAV,EAAqB,IAArB;AACA;;;2BACQ,I,EAAK;AACb,QAAK,IAAL,CAAU,SAAV,EAAqB,IAArB;AACA;;;;EA/JoB,I;;AAmKtB,OAAO,OAAP,GAAiB,OAAjB;;;;;;;;;;;;;ACvKA,IAAI,OAAO,QAAQ,QAAR,CAAX;AACA,IAAI,QAAQ,QAAQ,UAAR,CAAZ;;IAEM,W;;;AAEL,sBAAY,SAAZ,EAAuB,MAAvB,EAA8B;AAAA;;;;AAAA,6FACvB,SADuB,EACZ,MADY;;AAI7B,QAAK,EAAL,CAAQ,iBAAR,EAA2B;AAAA,UAAM,MAAK,cAAL,GAAsB,IAA5B;AAAA,GAA3B;AAJ6B;AAK7B;;;;;;;gCAGa,Q,EAAU,C,EAAE;AAAA;;AAEzB,OAAI,KAAK,cAAT,EAAwB;AACvB,SAAK,cAAL,GAAsB,KAAtB;AACA,UAAM,cAAN,CAAsB,YAAM;AAC3B,YAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,MAAM,SAAS,IAAT,GAAgB,IAAvB,EAA6B,gBAAgB,SAAS,GAAT,EAA7C,EAAtC;AACA,KAFD,EAEG,SAFH,EAEc,CAFd,EAEiB,YAAM;AACtB,cAAS,IAAT,CAAc,QAAd,EAAwB,MAAxB,CAA+B,WAA/B,EAA4C,IAA5C,CAAiD,UAAjD,EAA6D,EAA7D;AACA,cAAS,GAAT,CAAa,EAAE,0BAAF,EAA8B,GAA9B,EAAb;AACA,YAAK,cAAL,GAAsB,IAAtB;AACA,KAND;AAOA;AACA;;AAED,QAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,MAAM,SAAS,IAAT,GAAgB,IAAvB,EAA6B,gBAAgB,SAAS,GAAT,EAA7C,EAAtC;AAEA;;;gCACa,Q,EAAU,C,EAAE;AACzB,OAAI,OAAO,SAAS,IAAT,GAAgB,IAA3B;AACA,OAAI,QAAQ,KAAK,IAAL,CAAZ,EAAuB;AACtB,SAAK,IAAL,EAAW,IAAX;AACA;AACD;;;6BAEU,I,EAAK;AAAA;;AAEf,OAAI,KAAK,cAAT,EAAwB;AACvB,SAAK,cAAL,GAAsB,KAAtB;AACA,UAAM,cAAN,CAAqB,KAAK,UAAL,CAAgB,IAAhB,CAAqB,IAArB,CAArB,EAAiD,IAAjD,EAAuD,GAAvD,EAA4D;AAAA,YAAM,OAAK,cAAL,GAAsB,IAA5B;AAAA,KAA5D;AACA;AACA;;;AAGD,SAAM,KAAN,CAAY,wBAAZ;AACA,SAAM,QAAN,CAAe,8FAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,6EAAV;AACA,QAAK,IAAL,CAAU,kCAAV;AACA,QAAK,IAAL,CAAU,OAAV;AACA,QAAK,IAAL,CAAU,uEAAV;AACA,QAAK,IAAL,CAAU,yCAAV;AACA,QAAK,IAAL,CAAU,OAAV;AACA,QAAK,IAAL,CAAU,2DAAV;AACA,QAAK,IAAL,CAAU,OAAV;AACA,QAAK,IAAL,CAAU,+DAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC;AACrC,eADqC;AAErC,iBAAa,SAAS,MAAM,IAAN,CAAW,kBAAX,EAA+B,GAA/B,EAAT,CAFwB;AAGrC,kBAAc,MAAM,IAAN,CAAW,2BAAX,EAAwC,IAAxC,CAA6C,MAA7C;AAHuB,KAAtC;AAKA,UAAM,IAAN;AACA,IARD;;AAUA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;AAEA;;;yBACM,I,EAAK;AAAA;;;AAGX,SAAM,KAAN,CAAY,gBAAZ;AACA,SAAM,QAAN,CAAe,gCAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,8DAAV;AACA,QAAK,IAAL,CAAU,QAAV;AACA,QAAK,IAAL,CAAU,+DAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,UAAD,EAAO,YAAY,SAAS,MAAM,IAAN,CAAW,kBAAX,EAA+B,GAA/B,EAAT,CAAnB,EAAtC;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;AAEA;;;gCACa,I,EAAK;AAAA;;;AAGlB,SAAM,KAAN,CAAY,kBAAZ;AACA,SAAM,QAAN,CAAe,sEAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,mEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,UAAD,EAAtC;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;;AAEA,SAAM,IAAN,CAAW,eAAX,EAA4B,OAA5B,CAAoC,OAApC;AAEA;;;+BACY,I,EAAK;AACjB,QAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC,EAAC,UAAD,EAAtC;AACA;;;;;;+BAGY,Q,EAAU,I,EAAK;;AAE3B,OAAI,YAAY,EAAE,WAAF,CAAhB;AACA,aAAU,KAAV;;;AAGA,OAAI,MAAM,EAAE,mBAAF,EAAuB,IAAvB,CAA4B,EAAC,SAAS,EAAV,EAAc,YAAY,UAA1B,EAA5B,EAAmE,IAAnE,CAAwE,cAAxE,EAAwF,QAAxF,CAAiG,SAAjG,CAAV;;;AAGA,QAAK,IAAI,IAAE,CAAX,EAAc,IAAE,SAAS,MAAzB,EAAiC,GAAjC,EAAqC;AACpC,QAAI,SAAS,CAAT,KAAe,SAAS,CAAT,MAAgB,WAA/B,IAA8C,SAAS,CAAT,MAAgB,oBAA9D,IAAsF,SAAS,CAAT,EAAY,CAAZ,MAAmB,GAA7G,EAAiH;AAChH,SAAI,MAAM,EAAE,mBAAF,EAAuB,IAAvB,CAA4B,OAA5B,EAAqC,SAAS,CAAT,CAArC,EAAkD,IAAlD,CAAuD,SAAS,CAAT,CAAvD,EAAoE,QAApE,CAA6E,SAA7E,CAAV;AACA;AACD;;AAED,OAAI,QAAQ,KAAK,cAAjB,EAAiC,KAAK,eAAL,CAAqB,KAAK,cAA1B;AAEjC;;;+BACY,W,EAAY;AAAA;;AAExB,OAAI,YAAY,EAAE,WAAF,CAAhB;AACA,aAAU,KAAV;;AAEA,OAAI,CAAC,YAAY,MAAjB,EAAyB;;AALD;AAAA;AAAA;;AAAA;AAAA;AAAA,SAOf,IAPe;;AAQvB,SAAI,KAAK,EAAE,WAAF,EAAe,IAAf,CAAoB,KAAK,IAAL,GAAU,GAA9B,CAAT;AARuB;AAAA;AAAA;;AAAA;AAAA;AAAA,WASd,KATc;;AAUtB,WAAI,SAAS,MAAM,MAAf,IAAyB,MAAM,CAAN,MAAa,GAA1C,EAA+C;AAC/C,SAAE,WAAF,EAAe,QAAf,CAAwB,YAAxB,EAAsC,IAAtC,CAA2C,KAA3C,EAAkD,QAAlD,CAA2D,EAA3D,EACE,EADF,CACK,OADL,EACc,UAAC,CAAD,EAAO;;AAEnB,YAAI,OAAK,cAAT,EAAwB;AACvB,gBAAK,cAAL,GAAsB,KAAtB;AACA,eAAM,cAAN,CAAsB,YAAM;AAC3B,iBAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC;AACrC,iBAAM,aAD+B;AAErC,2BAAgB,KAAK,IAAL,GAAU,GAAV,GAAc;AAFO,WAAtC;AAIA,YAAE,kBAAF,EAAsB,WAAtB,CAAkC,iBAAlC;AACA,YAAE,EAAE,MAAJ,EAAY,QAAZ,CAAqB,iBAArB;AACA,UAPD,EAOG,SAPH,EAOc,CAPd,EAOiB;AAAA,iBAAM,OAAK,cAAL,GAAsB,IAA5B;AAAA,UAPjB;AAQA;AACA;;AAED,eAAK,IAAL,CAAU,SAAV,EAAqB,eAArB,EAAsC;AACrC,eAAM,aAD+B;AAErC,yBAAgB,KAAK,IAAL,GAAU,GAAV,GAAc;AAFO,SAAtC;AAIA,UAAE,kBAAF,EAAsB,WAAtB,CAAkC,iBAAlC;AACA,UAAE,EAAE,MAAJ,EAAY,QAAZ,CAAqB,iBAArB;AAEA,QAvBF;AAXsB;;AASvB,4BAAkB,KAAK,QAAvB,mIAAgC;AAAA;;AAAA,iCACgB;AAyB/C;AAnCsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAoCvB,QAAG,QAAH,CAAY,SAAZ;AApCuB;;AAOxB,yBAAiB,WAAjB,8HAA6B;AAAA;AA8B5B;AArCuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuCxB;;;kCACe,O,EAAQ;;;AAGvB,KAAE,WAAF,EAAe,IAAf,CAAoB,QAApB,EAA8B,MAA9B,CAAqC,WAArC,EAAkD,IAAlD,CAAuD,UAAvD,EAAmE,EAAnE;;AAEA,OAAI,YAAY,oBAAhB,EAAqC;;AAEpC,MAAE,WAAF,EAAe,GAAf,CAAmB,EAAE,0BAAF,EAA8B,GAA9B,EAAnB;AACA,IAHD,MAGO;;;AAGN,MAAE,WAAF,EAAe,GAAf,CAAmB,EAAE,+BAA6B,OAA7B,GAAqC,IAAvC,EAA6C,GAA7C,EAAnB;;AAEA,MAAE,kBAAF,EAAsB,WAAtB,CAAkC,iBAAlC;AACA;;;AAGD,KAAE,eAAF,EAAmB,IAAnB,CAAwB,MAAxB,EAAgC,uBAAqB,OAArD;AAEA;;;qCAEiB;AACjB,QAAK,cAAL,GAAsB,KAAtB;AACA;;;0BAEO,G,EAAI;AACX,OAAI,KAAK,EAAE,WAAF,EAAe,IAAf,CAAoB,IAAI,IAAJ,GAAS,GAA7B,CAAT;AADW;AAAA;AAAA;;AAAA;AAEX,0BAAkB,IAAI,QAAtB,mIAA+B;AAAA,SAAtB,MAAsB;;AAC9B,SAAI,CAAC,OAAM,GAAX,EACC,EAAE,WAAF,EAAe,QAAf,CAAwB,YAAxB,EAAsC,IAAtC,CAA2C,OAAM,IAAjD,EAAuD,IAAvD,CAA4D,MAA5D,EAAoE,CAAC,IAAI,OAAJ,IAAe,IAAI,IAApB,IAA0B,GAA1B,GAA8B,OAAM,IAAxG,EAA8G,QAA9G,CAAuH,EAAvH,EADD,KAEK;AACJ,aAAM,OAAN,GAAgB,CAAC,IAAI,OAAJ,IAAe,IAAI,IAApB,IAA4B,GAA5B,GAAkC,OAAM,IAAxD;AACA,SAAG,MAAH,CAAU,KAAK,OAAL,CAAa,MAAb,CAAV;AACA;AACD;AATU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUX,UAAO,EAAP;AACA;;;;EA1NwB,I;;AA8N1B,OAAO,OAAP,GAAiB,WAAjB;;;AAGA,SAAS,QAAT,CAAkB,IAAlB,EAAuB;AACtB,QAAO,KAAK,OAAL,CAAa,mBAAb,EAAkC,GAAlC,CAAP;AACA;;;;;;;;;;;;;ACtOD,IAAI,OAAO,QAAQ,QAAR,CAAX;AACA,IAAI,QAAQ,QAAQ,UAAR,CAAZ;;AAEA,IAAI,mBAAJ;;IAEM,Y;;;AAEL,uBAAY,SAAZ,EAAuB,MAAvB,EAA+B,QAA/B,EAAwC;AAAA;;;;AAAA,8FACjC,SADiC,EACtB,MADsB,EACd,QADc;;AAGvC,QAAK,QAAL,CAAc,EAAd,CAAiB,QAAjB,EAA2B,UAAC,IAAD;AAAA,UAAU,MAAK,YAAL,CAAkB,IAAlB,CAAV;AAAA,GAA3B;AACA,QAAK,SAAL,CAAe,YAAf,GAA8B,UAAS,IAAT,EAAe,GAAf,EAAoB;AACjD,UAAO,KAAK,MAAL,CACN,YAAW;AAAE,WAAO,EAAE,IAAF,EAAQ,IAAR,CAAa,IAAb,KAAoB,GAA3B;AAAiC,IADxC,CAAP;AAGA,GAJD;;AAMA,IAAE,YAAF,EAAgB,EAAhB,CAAmB,QAAnB,EAA6B,YAAM;AAClC,OAAI,EAAE,YAAF,EAAgB,GAAhB,MAAyB,EAAE,YAAF,EAAgB,GAAhB,OAA0B,YAAvD,EACC,MAAK,IAAL,CAAU,aAAV,EAAyB,EAAE,YAAF,EAAgB,GAAhB,EAAzB;AACD,GAHD;;AAKA,QAAK,gBAAL,GAAwB,KAAxB;;AAfuC;AAiBvC;;;;gCAEa,Q,EAAU,C,EAAE;AACzB,OAAI,OAAO,SAAS,IAAT,EAAX;AACA,OAAI,OAAO,KAAK,IAAhB;AACA,OAAI,MAAM,KAAK,GAAf;AACA,OAAI,QAAQ,KAAK,IAAL,CAAZ,EAAuB;AACtB,SAAK,IAAL,EAAW,IAAX,EAAiB,GAAjB,EAAsB,SAAS,GAAT,EAAtB;AACA;AACD;;;gCACa,Q,EAAU,C,EAAE;AACzB,OAAI,OAAO,SAAS,IAAT,GAAgB,IAA3B;AACA,OAAI,QAAQ,KAAK,IAAL,CAAZ,EAAuB;AACtB,SAAK,IAAL,EAAW,IAAX;AACA;AACD;;;+BACY,Q,EAAU,C,EAAE;AAAA;;AACxB,OAAI,OAAO,SAAS,IAAT,EAAX;AACA,OAAI,OAAO,KAAK,IAAhB;AACA,OAAI,MAAM,KAAK,GAAf;AACA,OAAI,OAAO,SAAS,IAAT,CAAc,MAAd,CAAX;;AAEA,OAAI,mBAAJ,EAAyB,aAAa,mBAAb;AACzB,yBAAsB,WAAY;AAAA,WAAM,OAAK,gBAAL,GAAwB,KAA9B;AAAA,IAAZ,EAAiD,GAAjD,CAAtB;AACA,QAAK,gBAAL,GAAwB,IAAxB;;AAEA,OAAI,SAAS,QAAT,IAAqB,SAAS,MAAlC,EAAyC;AACxC,QAAI,QAAQ,KAAK,IAAL,CAAZ,EAAuB;AACtB,UAAK,IAAL,EAAW,IAAX,EAAiB,GAAjB,EAAsB,SAAS,GAAT,EAAtB;AACA;AACD,IAJD,MAIO,IAAI,SAAS,UAAb,EAAwB;AAC9B,QAAI,QAAQ,KAAK,IAAL,CAAZ,EAAuB;AACtB,UAAK,IAAL,EAAW,IAAX,EAAiB,GAAjB,EAAsB,SAAS,EAAT,CAAY,UAAZ,IAA0B,CAA1B,GAA8B,CAApD;AACA;AACD;AACD;;;2BAEQ,I,EAAM,G,EAAK,K,EAAM;AACzB,QAAK,IAAL,CAAU,kBAAV,EAA8B,EAAC,UAAD,EAAO,QAAP,EAAY,YAAZ,EAA9B;AACA;;;uCACoB,I,EAAK;AAAA;;;AAGzB,SAAM,KAAN,CAAY,oCAAZ;AACA,SAAM,QAAN,CAAe,gFAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,uEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,kBAAV,EAA8B,EAAC,UAAD,EAA9B;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;;AAEA,SAAM,IAAN,CAAW,iBAAX,EAA8B,OAA9B,CAAsC,OAAtC;AAEA;;;gCAEa,I,EAAM,G,EAAK,K,EAAM;AAC/B,WAAQ,GAAR,CAAY,IAAZ,EAAkB,GAAlB,EAAuB,KAAvB;AACC,QAAK,IAAL,CAAU,cAAV,EAA0B,EAAC,UAAD,EAAO,QAAP,EAAY,OAAO,KAAnB,EAA1B;AACA;;;4CACyB,I,EAAK;AAAA;;;AAG9B,SAAM,KAAN,CAAY,gCAAZ;AACA,SAAM,QAAN,CAAe,4EAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,uEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,cAAV,EAA0B,EAAC,UAAD,EAA1B;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;;AAEA,SAAM,IAAN,CAAW,iBAAX,EAA8B,OAA9B,CAAsC,OAAtC;AAEA;;;gCAEY;AAAA;;;AAGZ,SAAM,KAAN,CAAY,oBAAZ;AACA,SAAM,QAAN,CAAe,0GAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,uEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,WAAK,IAAL,CAAU,MAAV;AACA,UAAM,IAAN;AACA,IAJD;;AAMA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;;AAEA,SAAM,IAAN,CAAW,iBAAX,EAA8B,OAA9B,CAAsC,OAAtC;AAEA;;;+BACW;;;AAGX,SAAM,KAAN,CAAY,YAAZ;AACA,SAAM,QAAN,CAAe,uOAAf;AACA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,oEAAV;;AAEA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,MAAE,cAAF;AACA,UAAM,IAAN;AACA,IAHD;;AAKA,SAAM,IAAN;;AAEA,SAAM,IAAN,CAAW,iBAAX,EAA8B,OAA9B,CAAsC,OAAtC;AAEA;;;+BACW;AAAA;;;AAGX,SAAM,KAAN,CAAY,eAAZ;AACA,SAAM,QAAN,CAAe,sCAAf;;AAEA,OAAI,OAAO,EAAX;AACA,QAAK,IAAL,CAAU,4CAAV;AACA,QAAK,IAAL,CAAU,OAAV;AACA,QAAK,IAAL,CAAU,mEAAV;AACA,QAAK,IAAL,CAAU,mEAAV;;;;;;;;AAQA,SAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;;AAEhE,MAAE,cAAF;;AAEA,QAAI,OAAO,MAAM,IAAN,CAAW,kBAAX,EAA+B,IAA/B,CAAoC,OAApC,EAA6C,CAA7C,CAAX;AACA,QAAI,QAAQ,KAAK,IAAL,KAAc,iBAA1B,EAA4C;;AAE3C,YAAK,IAAL,CAAU,SAAV,EAAqB,sDAArB;AACA,YAAK,IAAL,CAAU,SAAV,EAAqB,qEAArB;AACA,YAAK,IAAL,CAAU,SAAV,EAAqB,+CAArB;;AAEA,SAAI,SAAS,IAAI,UAAJ,EAAb;AACA,YAAO,MAAP,GAAgB,UAAC,EAAD;AAAA,aAAQ,OAAK,IAAL,CAAU,eAAV,EAA2B,EAAC,MAAM,KAAK,IAAZ,EAAkB,MAAM,GAAG,MAAH,CAAU,MAAlC,EAA3B,CAAR;AAAA,MAAhB;AACA,YAAO,iBAAP,CAAyB,IAAzB;AAEA,KAVD,MAUO;;AAEN,YAAK,IAAL,CAAU,SAAV,EAAqB,gCAArB;AAEA;;AAED,UAAM,IAAN;AAEA,IAvBD;;AAyBA,SAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,MAAM,IAA9C;;AAEA,SAAM,IAAN;AAEA;;;;;;0BAGO,I,EAAK;AACZ,OAAI,OAAO,EAAX;AACA,QAAK,IAAI,GAAT,IAAgB,IAAhB,EAAsB;;AAErB,QAAI,KAAK,KAAK,SAAL,CAAe,YAAf,CAA4B,KAA5B,EAAmC,GAAnC,CAAT;;;AAGA,QAAI,GAAG,CAAH,EAAM,IAAN,KAAe,UAAnB,EAA+B;AAC9B,QAAG,IAAH,CAAQ,SAAR,EAAoB,KAAK,GAAL,KAAa,CAAjC;AACA,KAFD,MAEO,IAAI,QAAQ,IAAR,IAAiB,GAAG,GAAH,OAAa,KAAK,GAAL,CAAb,IAA0B,CAAC,KAAK,gBAArD,EAAuE;;AAE7E,QAAG,GAAH,CAAO,KAAK,GAAL,CAAP;AACA;;;AAGD,QAAI,IAAI,CAAJ,MAAW,GAAX,IAAkB,IAAI,CAAJ,MAAW,GAAjC,EAAqC;AACpC,aAAQ,MAAI,GAAJ,GAAQ,KAAK,GAAL,CAAR,GAAkB,GAA1B;AACA,KAFD,MAEO,IAAI,QAAQ,MAAZ,EAAmB;AACzB,aAAQ,KAAK,GAAL,CAAR;AACA,KAFM,MAEA,IAAI,QAAQ,MAAZ,EAAmB;AACzB,aAAQ,MAAI,KAAK,GAAL,CAAJ,GAAc,GAAtB;AACA;AACD;;AAED,KAAE,WAAF,EAAe,GAAf,CAAmB,IAAnB;AACA;;;+BACY,I,EAAK;AACjB,QAAK,IAAI,GAAT,IAAgB,IAAhB,EAAqB;AACpB,SAAK,SAAL,CAAe,YAAf,CAA4B,KAA5B,EAAmC,GAAnC,EAAwC,GAAxC,CAA4C,KAAK,GAAL,CAA5C,EAAuD,IAAvD,CAA4D,SAA5D,EAAuE,KAAK,GAAL,CAAvE;AACA;AACD;;;+BACY,K,EAAO,I,EAAK;AACxB,QAAK,IAAL,CAAU,kBAAV,EAA8B,EAAC,MAAM,gBAAP,EAAyB,YAAzB,EAA9B;AACA;;;+BACY,Q,EAAU,I,EAAK;;AAE3B,OAAI,YAAY,EAAE,YAAF,CAAhB;AACA,aAAU,KAAV;;;AAGA,KAAE,mBAAF,EAAuB,IAAvB,CAA4B,YAA5B,EAA0C,QAA1C,CAAmD,SAAnD;;;AAGA,KAAE,mBAAF,EAAuB,IAAvB,CAA4B,OAA5B,EAAqC,MAArC,EAA6C,IAA7C,CAAkD,MAAlD,EAA0D,QAA1D,CAAmE,SAAnE;;;AAGA,QAAK,IAAI,IAAE,CAAX,EAAc,IAAE,SAAS,MAAzB,EAAiC,GAAjC,EAAqC;AACpC,QAAI,SAAS,CAAT,KAAe,SAAS,CAAT,MAAgB,WAA/B,IAA8C,SAAS,CAAT,MAAgB,oBAA9D,IAAsF,SAAS,CAAT,EAAY,CAAZ,MAAmB,GAA7G,EAAiH;AAChH,OAAE,mBAAF,EAAuB,IAAvB,CAA4B,OAA5B,EAAqC,SAAS,CAAT,CAArC,EAAkD,IAAlD,CAAuD,SAAS,CAAT,CAAvD,EAAoE,QAApE,CAA6E,SAA7E;AACA;AACD;AAGD;;;;EA/PyB,I;;AAkQ3B,OAAO,OAAP,GAAiB,YAAjB;;;;;;;;;;;;;ACvQA,IAAI,OAAO,QAAQ,QAAR,CAAX;;;AAGA,IAAI,YAAY,KAAhB;;IAEM,O;;;AAEL,oBAAa;AAAA;;;;AAAA,yFAEN,KAFM;;AAKZ,IAAE,SAAF,EAAa,EAAb,CAAgB,OAAhB,EAAyB,YAAM;AAC9B,OAAI,SAAJ,EAAc;AACb,UAAK,SAAL;AACA,IAFD,MAEO;AACN,UAAK,QAAL;AACA;AACD,GAND;;AAQA,IAAE,cAAF,EAAkB,EAAlB,CAAqB,OAArB,EAA8B,UAAC,CAAD,EAAO;AACpC,OAAI,CAAC,SAAL,EAAe;AACd,QAAI,EAAE,EAAE,aAAJ,EAAmB,IAAnB,CAAwB,IAAxB,MAAkC,OAAlC,IAA6C,EAAE,8BAAF,EAAkC,IAAlC,CAAuC,IAAvC,MAAiD,OAAlG,EACC,EAAE,gBAAF,EAAoB,MAApB,GAA6B,OAA7B,CAAqC,OAArC;;AAED,UAAK,QAAL;AACA,MAAE,eAAF;AACA;AACD,GARD;;;AAWA,MAAI,SAAS,IAAI,YAAJ,CAAiB;AAC7B,aAAS;AACR,gBAAY,KADJ;AAER,8BAA0B,IAFlB;AAGR,oBAAgB,KAHR;AAIR,sBAAkB,KAJV;AAKR,sBAAkB,KALV;AAMR,8BAA0B,IANlB;AAOR,0BAAsB,IAPd;AAQR,oBAAgB,KARR;AASR,sBAAkB,KATV;AAUR,mBAAe;AAVP,IADoB;AAa7B,eAAY;AACX,iBAAa,CADF;AAEX,mBAAe,EAFJ;AAGX,kBAAc,EAHH;AAIX,kBAAc,EAJH;AAKX,oBAAgB,GALL;AAMX,qBAAiB;AANN,IAbiB;AAqB7B,WAAQ;AACP,WAAO,OADA;AAEP,cAAU,UAFH;AAGP,cAAU,UAHH;AAIP,YAAQ;AAJD,IArBqB;AA2B7B,YAAS,CAAC;AACT,UAAM,QADG;AAET,aAAS,CAAC;AACT,WAAK,KADI;AAET,cAAS,CAAC;AACT,YAAK,WADI;AAET,qBAAe;AAFN,MAAD;AAFA,KAAD,EAMN;AACF,WAAK,WADH;AAEF,oBAAe,SAFb;AAGF,aAAQ;AAHN,KANM;AAFA,IAAD;AA3BoB,GAAjB,CAAb;AA0CA,SAAO,iBAAP,CAA0B,QAA1B,EAAoC,UAAU,SAAV,EAAqB,cAArB,EAAqC;AACxE,aAAU,UAAV,GAAuB,MAAvB,CAA8B,EAAE,eAAF,CAA9B;AACA,GAFD;AAGA,SAAO,iBAAP,CAA0B,SAA1B,EAAqC,UAAU,SAAV,EAAqB,cAArB,EAAqC;AACzE,aAAU,UAAV,GAAuB,MAAvB,CAA8B,EAAE,mBAAF,CAA9B;AACA,GAFD;;AAIA,SAAO,IAAP;AACA,SAAO,EAAP,CAAU,aAAV,EAAyB;AAAA,UAAM,MAAK,IAAL,CAAU,QAAV,CAAN;AAAA,GAAzB;AACA,SAAO,EAAP,CAAU,cAAV,EAA0B;AAAA,UAAM,MAAK,IAAL,CAAU,QAAV,CAAN;AAAA,GAA1B;;AAEA,IAAE,MAAF,EAAU,EAAV,CAAa,QAAb,EAAuB,YAAM;AAC5B,OAAI,SAAJ,EAAc;AACb,UAAK,QAAL;AACA,IAFD,MAEO;AACN,UAAK,SAAL;AACA;AACD,GAND;;AA7EY;AAqFZ;;;;6BAES;AACT,KAAE,SAAF,EAAa,GAAb,CAAiB,OAAjB,EAA0B,OAA1B;AACA,KAAE,WAAF,EAAe,GAAf,CAAmB,cAAnB,EAAmC,OAAnC;AACA,KAAE,QAAF,EAAY,GAAZ,CAAgB,MAAhB,EAAwB,OAAO,UAAP,GAAoB,GAApB,GAA0B,IAAlD;AACA,eAAY,IAAZ;AACA,QAAK,IAAL,CAAU,QAAV;AACA,KAAE,QAAF,EAAY,QAAZ,CAAqB,MAArB;;;AAGA,KAAE,gBAAF,EAAoB,GAApB,CAAwB;AACvB,iBAAc,EAAE,SAAF,EAAa,KAAb,KAAqB,IADZ;AAEvB,kBAAc,EAAE,SAAF,EAAa,MAAb,KAAsB;AAFb,IAAxB;AAIA;;;8BAEU;AACV,KAAE,SAAF,EAAa,GAAb,CAAiB,OAAjB,EAA0B,MAA1B;AACA,KAAE,WAAF,EAAe,GAAf,CAAmB,cAAnB,EAAmC,MAAnC;AACA,KAAE,QAAF,EAAY,GAAZ,CAAgB,MAAhB,EAAwB,OAAO,UAAP,GAAoB,EAApB,GAAyB,IAAjD;AACA,eAAY,KAAZ;AACA,QAAK,IAAL,CAAU,QAAV;AACA,KAAE,QAAF,EAAY,WAAZ,CAAwB,MAAxB;;;AAGA,KAAE,gBAAF,EAAoB,GAApB,CAAwB;AACvB,iBAAc,EAAE,SAAF,EAAa,KAAb,KAAqB,IADZ;AAEvB,kBAAc,EAAE,SAAF,EAAa,MAAb,KAAsB;AAFb,IAAxB;AAKA;;;;EAtHoB,I;;AA0HtB,OAAO,OAAP,GAAiB,IAAI,OAAJ,EAAjB;;;;;;;;;;;;;AC/HA,IAAI,OAAO,QAAQ,QAAR,CAAX;;;;IAIM,W;;;AAEL,sBAAY,SAAZ,EAAuB,MAAvB,EAA8B;AAAA;;AAAA,6FACvB,SADuB,EACZ,MADY;;AAG7B,QAAK,SAAL,CAAe,EAAf,CAAkB,OAAlB,EAA2B,UAAC,CAAD;AAAA,UAAO,MAAK,aAAL,CAAmB,EAAE,EAAE,aAAJ,CAAnB,EAAuC,CAAvC,CAAP;AAAA,GAA3B;;AAEA,QAAK,EAAL,CAAQ,cAAR,EAAwB,YAAM;AAC7B,KAAE,MAAF,EAAU,WAAV,CAAsB,UAAtB;AACA,GAFD;;AAIA,IAAE,MAAF,EACE,SADF,CACY,YAAW;AACrB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,YAA1B;AACA,GAHF,EAIE,QAJF,CAIW,YAAW;AACpB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,EAA1B;AACA,GANF;;AAQA,IAAE,OAAF,EACE,SADF,CACY,YAAW;AACrB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,aAA1B;AACA,GAHF,EAIE,QAJF,CAIW,YAAW;AACpB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,EAA1B;AACA,GANF;;AAQA,IAAE,UAAF,EACE,SADF,CACY,YAAW;AACrB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,gBAA1B;AACA,GAHF,EAIE,QAJF,CAIW,YAAW;AACpB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,EAA1B;AACA,GANF;;AAQA,IAAE,WAAF,EACE,SADF,CACY,YAAW;AACrB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,iBAA1B;AACA,GAHF,EAIE,QAJF,CAIW,YAAW;AACpB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,EAA1B;AACA,GANF;;AAQA,IAAE,UAAF,EACE,SADF,CACY,YAAW;AACrB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,sBAA1B;AACA,GAHF,EAIE,QAJF,CAIW,YAAW;AACpB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,EAA1B;AACA,GANF;;AAQA,IAAE,QAAF,EACE,SADF,CACY,YAAW;AACrB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,mBAA1B;AACA,GAHF,EAIE,QAJF,CAIW,YAAW;AACpB,KAAE,iBAAF,EAAqB,IAArB,CAA0B,EAA1B;AACA,GANF;AAjD6B;AAwD7B;;;;;;;gCAGa,Q,EAAU,C,EAAE;AACzB,OAAI,OAAO,SAAS,IAAT,GAAgB,IAA3B;AACA,OAAI,QAAQ,KAAK,IAAL,CAAZ,EAAuB;AACtB,SAAK,IAAL,EAAW,IAAX;AACA;AACD;;;sBAEG,I,EAAK;AACR,QAAK,IAAL,CAAU,eAAV,EAA2B,IAA3B;AACA;;;uBAEI,I,EAAK;AACT,QAAK,IAAL,CAAU,eAAV,EAA2B,IAA3B;AACA;;;iCAEa;AACb,QAAK,IAAL,CAAU,eAAV;AACA;;;;;;4BAGS,M,EAAO;AAChB,OAAI,MAAJ,EAAW;AACV,MAAE,MAAF,EAAU,WAAV,CAAsB,iBAAtB,EAAyC,QAAzC,CAAkD,gBAAlD;AACA,IAFD,MAEO;AACN,MAAE,MAAF,EAAU,WAAV,CAAsB,gBAAtB;AACA;AACD;;;6BACU,M,EAAO;AACjB,OAAI,MAAJ,EAAW;AACV,MAAE,MAAF,EAAU,WAAV,CAAsB,gBAAtB,EAAwC,QAAxC,CAAiD,iBAAjD;AACA,IAFD,MAEO;AACN,MAAE,MAAF,EAAU,WAAV,CAAsB,iBAAtB;AACA;AACD;;;mCACgB,M,EAAO;AACvB,OAAI,MAAJ,EAAW;AACV,MAAE,SAAF,EAAa,GAAb,CAAiB,YAAjB,EAA+B,qCAA/B,EAAsE,IAAtE,CAA2E,OAA3E,EAAoF,oBAApF;AACA,IAFD,MAEO;;AAEN;AACD;;;8BACW,M,EAAO;;AAElB,OAAI,OAAO,MAAX,EAAkB;AACjB,MAAE,SAAF,EAAa,GAAb,CAAiB,YAAjB,EAA+B,qCAA/B,EAAsE,IAAtE,CAA2E,OAA3E,EAAoF,qBAApF;AACA,IAFD,MAEO;AACN,MAAE,SAAF,EAAa,GAAb,CAAiB,YAAjB,EAA+B,mCAA/B,EAAoE,IAApE,CAAyE,OAAzE,EAAkF,oBAAlF;AACA;AACD;;;uBAEI,I,EAAK;;AAET,OAAI,MAAM,KAAK,kBAAL,GAA0B,KAAK,YAA/B,GAA8C,KAAK,IAAnD,GAA0D,KAAK,GAAzE;AACA,OAAI,OAAO,CAAX;AAAA,OAAc,UAAU,CAAxB;;AAEA,OAAI,KAAK,IAAL,IAAa,CAAjB,EAAmB;;;AAGlB,QAAI,QAAQ,KAAK,IAAL,CAAU,KAAV,CAAgB,IAAhB,CAAZ;AACA,QAAI,WAAW,EAAf;AAAA,QAAmB,SAAS,EAA5B;AACA,SAAK,IAAI,IAAE,CAAX,EAAc,IAAE,MAAM,MAAtB,EAA8B,GAA9B,EAAkC;AACjC,cAAS,IAAT,CAAc,EAAd;AACA,WAAM,CAAN,IAAW,MAAM,CAAN,EAAS,KAAT,CAAe,GAAf,CAAX;AACA,UAAK,IAAI,IAAE,CAAX,EAAc,IAAE,MAAM,CAAN,EAAS,MAAzB,EAAiC,GAAjC,EAAqC;AACpC,UAAI,MAAM,CAAN,EAAS,CAAT,CAAJ,EAAgB;AACf,gBAAS,CAAT,EAAY,IAAZ,CAAiB,MAAM,CAAN,EAAS,CAAT,CAAjB;AACA;AACD;AACD;;AAED,SAAK,IAAI,IAAE,CAAX,EAAc,IAAE,SAAS,MAAzB,EAAiC,GAAjC,EAAqC;AACpC,SAAI,SAAS,CAAT,EAAY,MAAhB,EAAuB;AACtB,UAAI,OAAO;AACV,eAAS,SAAS,CAAT,EAAY,CAAZ,CADC;AAEV,cAAQ,SAAS,CAAT,EAAY,CAAZ,CAFE;AAGV,cAAQ,SAAS,CAAT,EAAY,CAAZ,CAHE;AAIV,cAAQ,SAAS,CAAT,EAAY,CAAZ;AAJE,OAAX;AAMA,UAAI,KAAK,IAAL,KAAc,MAAlB,EAA0B,UAAU,KAAK,GAAL,GAAS,IAAnB;;AAE1B,UAAI,QAAQ,KAAK,IAAb,IAAqB,KAAK,IAAL,KAAc,MAAnC,IAA6C,KAAK,IAAL,KAAc,MAA3D,IAAqE,KAAK,IAAL,KAAc,QAAvF,EAAgG;AAC/F,cAAO,IAAP,CAAY,IAAZ;AACA;AACD;AACD;;AAED,SAAK,IAAI,IAAE,CAAX,EAAc,IAAE,OAAO,MAAvB,EAA+B,GAA/B,EAAmC;AAClC,SAAI,OAAO,CAAP,EAAU,GAAd,EAAkB;AACjB,cAAQ,WAAW,OAAO,CAAP,EAAU,GAArB,CAAR;AACA;AACD;AAGD;;AAED,KAAE,UAAF,EAAc,IAAd,CAAmB,UAAQ,CAAC,MAAI,OAAL,EAAc,OAAd,CAAsB,CAAtB,CAAR,GAAiC,GAApD;AACA,KAAE,WAAF,EAAe,IAAf,CAAoB,YAAW,OAAO,KAAK,OAAL,CAAa,CAAb,IAAgB,GAAvB,GAA6B,IAAxC,CAApB;AACA;;;iCAEc,K,EAAM;AACpB,OAAI,SAAS,KAAT,CAAJ,EACC,EAAE,qBAAF,EAAyB,GAAzB,CAA6B,YAA7B,EAA2C,SAA3C,EADD,KAGC,EAAE,qBAAF,EAAyB,GAAzB,CAA6B,YAA7B,EAA2C,QAA3C;AACD;;;oCAEiB,M,EAAO;AACxB,OAAI,MAAJ,EAAW;AACV,QAAI,CAAC,EAAE,MAAF,EAAU,QAAV,CAAmB,UAAnB,CAAL,EAAoC;AACnC,OAAE,MAAF,EAAU,QAAV,CAAmB,UAAnB;AACA;AACD,IAJD,MAIO;AACN,QAAI,EAAE,MAAF,EAAU,QAAV,CAAmB,UAAnB,CAAJ,EAAmC;AAClC,OAAE,MAAF,EAAU,WAAV,CAAsB,UAAtB;AACA;AACD;AACD;;;gCACa,M,EAAO;AACpB,OAAI,CAAC,MAAD,IAAW,EAAE,MAAF,EAAU,QAAV,CAAmB,UAAnB,CAAf,EAAgD,EAAE,MAAF,EAAU,WAAV,CAAsB,UAAtB;AAChD;;;;EApLwB,I;;AAwL1B,OAAO,OAAP,GAAiB,WAAjB;;;;;;;;;;;;;AC5LA,IAAI,eAAe,QAAQ,QAAR,EAAkB,YAArC;;IAEM,I;;;AAEL,eAAY,YAAZ,EAA0B,MAA1B,EAAkC,QAAlC,EAA2C;AAAA;;AAAA;;AAE1C,QAAK,SAAL,GAAiB,YAAjB;AACA,QAAK,MAAL,GAAc,MAAd;AACA,QAAK,QAAL,GAAgB,QAAhB;AACA,QAAK,SAAL,GAAiB,EAAE,MAAI,YAAN,CAAjB;AACA,QAAK,QAAL,GAAgB,EAAE,MAAI,YAAJ,GAAiB,SAAnB,CAAhB;;AAEA,MAAI,MAAJ,EAAW;AACV,QAAK,IAAI,IAAE,CAAX,EAAc,IAAE,OAAO,MAAvB,EAA+B,GAA/B,EAAmC;AAClC,WAAO,CAAP,EAAU,EAAV,CAAa,QAAb,EAAuB,UAAC,IAAD,EAAO,WAAP,EAAuB;AAC7C,WAAK,YAAL,CAAkB,IAAlB,EAAwB,WAAxB;AACA,KAFD;AAGA,WAAO,CAAP,EAAU,EAAV,CAAa,KAAb,EAAoB,UAAC,IAAD,EAAO,WAAP,EAAuB;AAC1C,WAAK,QAAL,CAAc,IAAd,EAAoB,WAApB;AACA,KAFD;AAGA;AACD;;AAED,QAAK,SAAL,CAAe,MAAf,CAAsB,QAAtB,EAAgC,EAAhC,CAAmC,QAAnC,EAA6C,UAAC,CAAD;AAAA,UAAO,MAAK,aAAL,CAAmB,EAAE,EAAE,aAAJ,CAAnB,EAAuC,CAAvC,CAAP;AAAA,GAA7C;AACA,QAAK,SAAL,CAAe,MAAf,CAAsB,OAAtB,EAA+B,EAA/B,CAAkC,OAAlC,EAA2C,UAAC,CAAD;AAAA,UAAO,MAAK,YAAL,CAAkB,EAAE,EAAE,aAAJ,CAAlB,EAAsC,CAAtC,CAAP;AAAA,GAA3C;AACA,QAAK,SAAL,CAAe,MAAf,CAAsB,sBAAtB,EAA8C,EAA9C,CAAiD,QAAjD,EAA2D,UAAC,CAAD;AAAA,UAAO,MAAK,YAAL,CAAkB,EAAE,EAAE,aAAJ,CAAlB,EAAsC,CAAtC,CAAP;AAAA,GAA3D;AACA,QAAK,SAAL,CAAe,MAAf,CAAsB,QAAtB,EAAgC,EAAhC,CAAmC,OAAnC,EAA4C,UAAC,CAAD;AAAA,UAAO,MAAK,aAAL,CAAmB,EAAE,EAAE,aAAJ,CAAnB,EAAuC,CAAvC,CAAP;AAAA,GAA5C;;AAtB0C;AAwB1C;;;;+BAEY,I,EAAM,W,EAAY;AAAA;AAAA;AAAA;;AAAA;AAC9B,yBAAkB,WAAlB,8HAA8B;AAAA,SAArB,KAAqB;;AAC7B,SAAI,KAAK,MAAI,KAAT,CAAJ,EAAoB;AACnB,WAAK,MAAI,KAAT,EAAgB,KAAK,KAAL,CAAhB,EAA6B,IAA7B,EAAmC,WAAnC;AACA;AACD;AAL6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM9B;;;2BACQ,I,EAAM,W,EAAY;AAAA;AAAA;AAAA;;AAAA;AAC1B,0BAAkB,WAAlB,mIAA8B;AAAA,SAArB,KAAqB;;AAC7B,SAAI,KAAK,OAAK,KAAV,CAAJ,EAAqB;AACpB,WAAK,OAAK,KAAV,EAAiB,KAAK,KAAL,CAAjB,EAA8B,IAA9B,EAAoC,WAApC;AACA;AACD;AALyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM1B;;;gCAEa,O,EAAS,C,EAAE,CAAE;;;gCACb,O,EAAS,C,EAAE,CAAE;;;kCAEZ;AACd,WAAQ,GAAR,CAAY,WAAZ,EAAyB,KAAK,SAA9B,EAAyC,UAAzC,EAAqD,KAAK,QAA1D;AACA;;;;EAhDiB,Y;;AAoDnB,OAAO,OAAP,GAAiB,IAAjB;;;ACtDA;;;;;;;;;;AACA,IAAI,eAAe,QAAQ,QAAR,EAAkB,YAArC;;;AAGA,IAAI,UAAU,IAAd;;;AAGA,IAAI,cAAc,CAAlB;AAAA,IAAqB,cAAc,GAAnC;AAAA,IAAwC,gBAAgB,IAAxD;;IAEM,O;;;AAEL,oBAAa;AAAA;;AAAA;;AAEZ,QAAK,QAAL,GAAgB,EAAE,0BAAF,CAAhB;AACA,QAAK,MAAL,GAAc,SAAS,cAAT,CAAwB,kBAAxB,CAAd;AAHY;AAIZ;;;;0BAEM;AACN,aAAU,KAAV;AACA;;;4BACQ;AACR,aAAU,IAAV;AACA;;;wBAEK,I,EAAM,S,EAAW,E,EAAI,O,EAAQ;AAClC,OAAI,CAAC,OAAL,EAAc;AACd,OAAI,KAAK,EAAE,aAAF,EAAiB,QAAjB,CAA0B,sBAAoB,SAA9C,EAAyD,QAAzD,CAAkE,KAAK,QAAvE,CAAT;AACA,OAAI,EAAJ,EAAQ,GAAG,IAAH,CAAQ,IAAR,EAAc,EAAd;AACR,KAAE,eAAF,EAAmB,IAAnB,CAAwB,IAAxB,EAA8B,QAA9B,CAAuC,EAAvC;AACA,OAAI,gBAAgB,WAApB,EAAiC,KAAK,KAAL,CAAW,cAAY,CAAvB;AACjC,OAAI,OAAJ,EAAa,GAAG,EAAH,CAAM,OAAN,EAAe,OAAf;AACb,UAAO,EAAP;AACA;;;;;;sBAGG,I,EAAM,G,EAAI;AACb,OAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CAAX;AACA,QAAK,IAAI,IAAE,CAAX,EAAe,IAAE,KAAK,MAAtB,EAA8B,GAA9B,EAAkC;AACjC,QAAI,KAAK,CAAL,MAAY,EAAZ,IAAkB,KAAK,CAAL,MAAY,GAAlC,EAAsC;AACrC,UAAK,KAAL,CAAW,KAAK,CAAL,CAAX,EAAoB,OAAO,KAA3B;AACA;AACD;AACD,QAAK,MAAL;AACA;;;;;uBAEI,I,EAAM,E,EAAG;AACb,OAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CAAX;AACA,QAAK,IAAI,IAAE,CAAX,EAAe,IAAE,KAAK,MAAtB,EAA8B,GAA9B,EAAkC;AACjC,QAAI,KAAK,CAAL,MAAY,EAAhB,EAAmB;AAClB,UAAK,KAAL,CAAW,KAAK,CAAL,CAAX,EAAoB,SAApB,EAA+B,EAA/B,EAAmC,YAAU;AAC5C,UAAI,MAAM,EAAE,IAAF,CAAV;AACA,UAAI,QAAJ,CAAa,4BAAb;AACA,UAAI,EAAJ,CAAO,eAAP,EAAwB,YAAM;AAC7B,WAAI,IAAI,QAAJ,CAAa,4BAAb,CAAJ,EAA+C;AAC9C,YAAI,MAAJ;AACA,QAFD,MAEO;AACN,YAAI,QAAJ,CAAa,4BAAb;AACA;AACD,OAND;AAOA,MAVD;AAWA;AACD;AACD,QAAK,MAAL;AACA;;;4BAES,M,EAAO;AAAA;;AAEhB,KAAE,sDAAF,EAA0D,MAA1D;;AAFgB;AAAA;AAAA;;AAAA;AAAA;AAAA,SAIP,GAJO;;;;AAOX,WAAM,EAAE,aAAF,EAAiB,QAAjB,CAA0B,uBAAqB,IAAI,IAAnD,CAPK;;;;AAUX,cAAS,EAAE,SAAF,EAAa,IAAb,CAAkB,IAAI,IAAJ,GAAS,UAAT,GAAoB,IAAI,GAA1C,EAA+C,QAA/C,CAAwD,GAAxD,CAVE;;;AAYf,SAAI,QAAJ,CAAa,OAAK,QAAlB;;AAEA,SAAI,IAAI,WAAR,EAAoB;AACnB,UAAI,EAAJ,CAAO,OAAP,EAAgB;AAAA,cAAM,OAAK,IAAL,CAAU,OAAV,EAAmB,EAAC,MAAM,IAAI,GAAJ,GAAQ,CAAf,EAAkB,QAAQ,IAAI,MAAJ,GAAW,CAArC,EAAnB,CAAN;AAAA,OAAhB;AACA,MAFD,MAEO;AACN,UAAI,EAAJ,CAAO,OAAP,EAAgB;AAAA,cAAM,OAAK,IAAL,CAAU,WAAV,EAAuB,IAAI,IAA3B,EAAiC,EAAC,MAAM,IAAI,GAAJ,GAAQ,CAAf,EAAkB,QAAQ,IAAI,MAAJ,GAAW,CAArC,EAAjC,CAAN;AAAA,OAAhB;AACA;AAlBc;;AAIhB,yBAAgB,MAAhB,8HAAuB;AAAA,SAGlB,GAHkB;AAAA,SAMlB,MANkB;;AAAA;AAgBtB;AApBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqBhB,QAAK,MAAL;AACA;;;;;;;;yBAKM,M,EAAQ,E,EAAG;AACjB,OAAI,CAAC,OAAL,EAAc;AACd,KAAE,MAAI,EAAN,EAAU,MAAV;AACA,OAAI,KAAK,KAAK,KAAL,CAAW,MAAX,EAAmB,QAAnB,EAA6B,EAA7B,CAAT;AACA,QAAK,MAAL;AACA,UAAO,EAAP;AACA;;;0BAEO,O,EAAS,E,EAAI,O,EAAQ;AAC5B,OAAI,CAAC,OAAL,EAAc;AACd,OAAI,KAAK,SAAS,cAAT,CAAwB,EAAxB,CAAT;;AAEA,OAAI,MAAM,EAAE,EAAF,CAAV;AACA,OAAI,QAAJ,CAAa,KAAK,QAAlB,E;AACA,OAAI,IAAJ,CAAS,IAAI,IAAJ,KAAW,OAApB;AACA,cAAY;AAAA,WAAM,IAAI,QAAJ,CAAa,wBAAb,CAAN;AAAA,IAAZ,EAA0D,GAA1D;AACA,OAAI,CAAC,OAAL,EAAa;AACZ,QAAI,EAAJ,CAAO,eAAP,EAAwB,YAAM;AAC7B,SAAI,IAAI,QAAJ,CAAa,4BAAb,CAAJ,EAA+C;AAC9C,UAAI,MAAJ;AACA,MAFD,MAEO;AACN,UAAI,QAAJ,CAAa,4BAAb;AACA;AACD,KAND;AAOA;AACD;;;yBAEM,O,EAAS,E,EAAI,O,EAAQ;AAC3B,OAAI,KAAK,SAAS,cAAT,CAAwB,EAAxB,CAAT;;AAEA,OAAI,MAAM,EAAE,EAAF,CAAV;AACA,OAAI,QAAJ,CAAa,KAAK,QAAlB,E;AACA,OAAI,IAAJ,CAAS,IAAI,IAAJ,KAAW,OAApB;AACA,OAAI,QAAJ,CAAa,qCAAb;AACA,cAAY;AAAA,WAAM,IAAI,WAAJ,CAAgB,qCAAhB,EAAuD,QAAvD,CAAgE,wBAAhE,CAAN;AAAA,IAAZ,EAA6G,GAA7G;AACA,OAAI,EAAJ,CAAO,OAAP,EAAgB;AAAA,WAAM,IAAI,QAAJ,CAAa,4BAAb,EAA2C,EAA3C,CAA8C,eAA9C,EAA+D;AAAA,YAAM,IAAI,MAAJ,EAAN;AAAA,KAA/D,CAAN;AAAA,IAAhB;AACA;;;;;;wBAGK,M,EAAO;AACZ,OAAI,CAAC,aAAL,EAAoB;AACpB,OAAI,MAAJ,EAAW;AACV,MAAE,uCAAqC,SAAS,MAAT,CAArC,GAAsD,GAAxD,EAA6D,MAA7D;AACA,mBAAe,SAAS,MAAT,CAAf;AACA,IAHD,MAGO;AACN,MAAE,gCAAF,EAAoC,MAApC;AACA,kBAAc,CAAd;AACA;AACD;;;;;;2BAGO;AAAA;;AACP,cAAY;AAAA,WAAM,OAAK,MAAL,CAAY,SAAZ,GAAwB,OAAK,MAAL,CAAY,YAA1C;AAAA,IAAZ,EAAqE,CAArE;AACA;;;mCAEgB,E,EAAG;AACnB,mBAAgB,EAAhB;AACA;;;;EA5IoB,Y;;AA8IrB;;AAED,OAAO,OAAP,GAAiB,IAAI,OAAJ,EAAjB;;;;;;;;;;;;;;;;;ACxJA,IAAI,GAAJ;;AAEA,EAAE,YAAM;AACP,OAAM,QAAQ,eAAR,CAAN;AACA,CAFD;;;;;ACHA,IAAI,UAAU,EAAE,UAAF,CAAd;AACA,IAAI,SAAS,EAAE,QAAF,CAAb;AACA,IAAI,UAAU,EAAE,gBAAF,CAAd;AACA,IAAI,UAAU,OAAO,IAAP,CAAY,IAAZ,CAAd;AACA,IAAI,QAAQ,OAAO,IAAP,CAAY,GAAZ,CAAZ;AACA,IAAI,UAAS,OAAO,IAAP,CAAY,MAAZ,CAAb;;AAEA,IAAI,QAAQ;AAEX,KAFW,kBAEL;AACL,UAAQ,QAAR,CAAiB,QAAjB;AACA,SAAO,QAAP,CAAgB,QAAhB;AACA,UAAQ,IAAR,CAAa,kBAAb,EAAiC,KAAjC,GAAyC,OAAzC,CAAiD,OAAjD;AACA,EANU;AAQX,KARW,kBAQL;AACL,UAAQ,WAAR,CAAoB,QAApB;AACA,SAAO,WAAP,CAAmB,QAAnB;AACA,UAAQ,KAAR;AACA,QAAM,KAAN;AACA,UAAO,KAAP;AACA,EAdU;;;AAgBX,OAAM;AAAA,SAAY,QAAQ,IAAR,CAAa,QAAb,CAAZ;AAAA,EAhBK;;AAkBX,QAAO;AAAA,SAAQ,QAAQ,IAAR,CAAa,IAAb,CAAR;AAAA,EAlBI;AAmBX,WAAU;AAAA,SAAQ,MAAM,IAAN,CAAW,IAAX,CAAR;AAAA,EAnBC;AAoBX,SAAQ;AAAA,SAAQ,QAAO,IAAP,CAAY,IAAZ,CAAR;AAAA,EApBG;;AAsBX,SAAQ;AAAA,SAAS,QAAQ,MAAR,CAAe,KAAf,CAAT;AAAA,EAtBG;;AAwBX,OAAM,OAxBK;;AA0BX,iBAAgB;;AA1BL,CAAZ;;AA8BA,OAAO,OAAP,GAAiB,KAAjB;;AAEA,SAAS,OAAT,CAAiB,EAAjB,EAAqB,GAArB,EAA0B,KAA1B,EAAiC,QAAjC,EAA0C;;;AAGzC,OAAM,KAAN,CAAY,oBAAZ;AACA,OAAM,QAAN,CAAe,yKAAf;;AAEA,KAAI,OAAO,EAAX;AACA,MAAK,IAAL,CAAU,uEAAV;AACA,MAAK,IAAL,CAAU,mEAAV;;AAEA,OAAM,IAAN,CAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,EAAV,CAAlB,EAAiC,GAAjC,CAAqC,QAArC,EAA+C,EAA/C,CAAkD,QAAlD,EAA4D,aAAK;AAChE,IAAE,cAAF;AACA,aAAW,YAAU;AACpB,MAAG,GAAH;AACA,GAFD,EAEG,KAFH;AAGA,QAAM,IAAN;AACA,EAND;;AAQA,OAAM,IAAN,CAAW,eAAX,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,YAAM;AAC7C,QAAM,IAAN;AACA,MAAI,QAAJ,EAAc;AACd,EAHD;;AAKA,OAAM,IAAN;;AAEA,OAAM,IAAN,CAAW,iBAAX,EAA8B,OAA9B,CAAsC,OAAtC;AAEA","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","// IDE controller\nmodule.exports = {};\n\nvar Model = require('./Models/Model');\nvar popup = require('./popup');\n\n// set up models\nvar models = {};\nmodels.project = new Model();\nmodels.settings = new Model();\nmodels.status = new Model();\nmodels.error = new Model();\nmodels.debug = new Model();\nmodels.git = new Model();\n\n// hack to prevent first status update causing wrong notifications\nmodels.status.setData({running: false, building: false});\n \n// set up views\n// tab view\nvar tabView = require('./Views/TabView');\ntabView.on('change', () => editorView.emit('resize') );\n\n// settings view\nvar settingsView = new (require('./Views/SettingsView'))('settingsManager', [models.project, models.settings], models.settings);\nsettingsView.on('project-settings', (data) => {\n\tdata.currentProject = models.project.getKey('currentProject');\n\t//console.log('project-settings', data);\n\tsocket.emit('project-settings', data);\n});\nsettingsView.on('IDE-settings', (data) => {\n\tdata.currentProject = models.project.getKey('currentProject');\n\t//console.log('IDE-settings', data);\n\tsocket.emit('IDE-settings', data);\n});\nsettingsView.on('run-on-boot', project => socket.emit('run-on-boot', project) );\nsettingsView.on('halt', () => {\n\tsocket.emit('sh-command', 'halt');\n\tconsoleView.emit('warn', 'Shutting down...');\n});\nsettingsView.on('warning', text => consoleView.emit('warn', text) );\nsettingsView.on('upload-update', data => socket.emit('upload-update', data) );\n\n// project view\nvar projectView = new (require('./Views/ProjectView'))('projectManager', [models.project]);\nprojectView.on('message', (event, data) => {\n\tif (!data.currentProject && models.project.getKey('currentProject')){\n\t\tdata.currentProject = models.project.getKey('currentProject');\n\t}\n\tdata.timestamp = performance.now();\n\tconsoleView.emit('openNotification', data);\n\tsocket.emit(event, data);\n});\n\n// file view\nvar fileView = new (require('./Views/FileView'))('fileManager', [models.project]);\nfileView.on('message', (event, data) => {\n\tif (!data.currentProject && models.project.getKey('currentProject')){\n\t\tdata.currentProject = models.project.getKey('currentProject');\n\t}\n\tif (!data.fileName && models.project.getKey('fileName')){\n\t\tdata.fileName = models.project.getKey('fileName');\n\t}\n\tdata.timestamp = performance.now();\n\tconsoleView.emit('openNotification', data);\n\tsocket.emit(event, data);\n});\n\n// editor view\nvar editorView = new (require('./Views/EditorView'))('editor', [models.project, models.error, models.settings, models.debug], models.settings);\neditorView.on('upload', fileData => {\n\tsocket.emit('process-event', {\n\t\tevent\t\t\t: 'upload',\n\t\tcurrentProject\t: models.project.getKey('currentProject'),\n\t\tnewFile\t\t\t: models.project.getKey('fileName'),\n\t\tfileData,\n\t\tcheckSyntax\t\t: parseInt(models.settings.getKey('liveSyntaxChecking'))\n\t});\n});\neditorView.on('breakpoint', line => {\n\tvar breakpoints = models.project.getKey('breakpoints');\n\tfor (let i=0; i<breakpoints.length; i++){\n\t\tif (breakpoints[i].line === line && breakpoints[i].file === models.project.getKey('fileName')){\n\t\t\tsocket.emit('debugger-event', 'removeBreakpoint', breakpoints[i]);\n\t\t\tmodels.project.spliceFromKey('breakpoints', i);\n\t\t\treturn;\n\t\t}\n\t}\n\tvar newBreakpoint = {\n\t\tline,\n\t\tfile: models.project.getKey('fileName')\n\t};\n\tsocket.emit('debugger-event', 'addBreakpoint', newBreakpoint);\n\tmodels.project.pushIntoKey('breakpoints', newBreakpoint);\n\t//console.log('after', breakpoints);\n\t//models.project.setKey('breakpoints', breakpoints);\n});\neditorView.on('open-notification', data => consoleView.emit('openNotification', data) );\neditorView.on('close-notification', data => consoleView.emit('closeNotification', data) );\neditorView.on('editor-changed', () => {\n\tif (models.project.getKey('exampleName')) projectView.emit('example-changed');\n});\n\n// toolbar view\nvar toolbarView = new (require('./Views/ToolbarView'))('toolBar', [models.project, models.error, models.status, models.settings, models.debug]);\ntoolbarView.on('process-event', (event) => {\n\tvar breakpoints;\n\tif (models.debug.getKey('debugMode')) breakpoints = models.project.getKey('breakpoints');\n\tvar data = {\n\t\tevent,\n\t\tcurrentProject\t: models.project.getKey('currentProject'),\n\t\tdebug\t\t\t: models.debug.getKey('debugMode'),\n\t\tbreakpoints\n\t};\n\t//data.timestamp = performance.now();\n\tif (event === 'stop') consoleView.emit('openProcessNotification', 'Stopping Bela...');\n\tsocket.emit('process-event', data);\n});\ntoolbarView.on('clear-console', () => consoleView.emit('clear') );\n\n// console view\nvar consoleView = new (require('./Views/ConsoleView'))('IDEconsole', [models.status, models.project, models.error, models.settings, models.debug], models.settings);\nconsoleView.on('focus', (focus) =>  models.project.setKey('focus', focus) );\nconsoleView.on('open-file', (fileName, focus) => {\n\tvar data = {\n\t\tfunc: 'openFile',\n\t\tfileName, \n\t\tfocus, \n\t\tcurrentProject: models.project.getKey('currentProject')\n\t};\n\tsocket.emit('project-event', data);\n});\nconsoleView.on('input', value => socket.emit('sh-command', value) );\nconsoleView.on('tab', cmd => socket.emit('sh-tab', cmd) );\n\n// debugger view\nvar debugView = new (require('./Views/DebugView'))('debugger', [models.debug, models.settings, models.project]);\ndebugView.on('debugger-event', (func) => socket.emit('debugger-event', func) );\ndebugView.on('debug-mode', (status) => models.debug.setKey('debugMode', status) );\n\n// documentation view\nvar documentationView = new (require('./Views/DocumentationView'));\ndocumentationView.on('open-example', (example) => {\n\tif (projectView.exampleChanged){\n\t\tprojectView.exampleChanged = false;\n\t\tpopup.exampleChanged( () => {\n\t\t\tprojectView.emit('message', 'project-event', {\n\t\t\t\tfunc: 'openExample',\n\t\t\t\tcurrentProject: example\n\t\t\t});\n\t\t\t$('.selectedExample').removeClass('selectedExample');\n\t\t}, undefined, 0, () => projectView.exampleChanged = true );\n\t\treturn;\n\t}\n\t\t\n\tprojectView.emit('message', 'project-event', {\n\t\tfunc: 'openExample',\n\t\tcurrentProject: example\n\t});\n\t$('.selectedExample').removeClass('selectedExample');\n});\n\n// git view\nvar gitView = new (require('./Views/GitView'))('gitManager', [models.git]);\ngitView.on('git-event', data => {\n\tdata.currentProject = models.project.getKey('currentProject');\n\tdata.timestamp = performance.now();\n\tconsoleView.emit('openNotification', data);\n\tsocket.emit('git-event', data);\n});\ngitView.on('console', text => consoleView.emit('log', text, 'git') );\ngitView.on('console-warn', text => consoleView.emit('warn', text) );\n\n// refresh files\nsetInterval( () => socket.emit('list-files', models.project.getKey('currentProject')), 5000);\n\n// setup socket\nvar socket = io('/IDE');\n\n// socket events\nsocket.on('report-error', (error) => consoleView.emit('warn', error.message || error) );\n\nsocket.on('init', (data) => {\n\t\n\tconsoleView.connect();\n\t\n\tvar timestamp = performance.now()\n\tsocket.emit('project-event', {func: 'openProject', currentProject: data[2].project, timestamp})\t\n\tconsoleView.emit('openNotification', {func: 'init', timestamp});\n\t\n\tmodels.project.setData({projectList: data[0], exampleList: data[1], currentProject: data[2].project});\n\tmodels.settings.setData(data[2]);\n\t\n\t$('#runOnBoot').val(data[3]);\n\t\n\tmodels.status.setData(data[4]);\n\t\n\t//models.project.print();\n\t//models.settings.print();\n\t\n\tsocket.emit('set-time', new Date().toString());\n\t\n\tdocumentationView.emit('init');\n\t\n\t// hack to stop changes to read-only example being overwritten when opening a new tab\n\tif (data[2].project === 'exampleTempProject') models.project.once('set', () => projectView.emit('example-changed') );\n\t\n});\n\n// project events\nsocket.on('project-data', (data) => {\n\tvar debug;\n\tif (data.debug){\n\t\tdebug = data.debug\n\t\tdata.debug = undefined;\n\t}\n\tconsoleView.emit('closeNotification', data);\n\tmodels.project.setData(data);\n\tif (debug){\n\t\tmodels.debug.setData(debug);\n\t}\n\tif (data.gitData) models.git.setData(data.gitData);\n\t//console.log(data);\n\t//models.settings.setData(data.settings);\n\t//models.project.print();\n});\nsocket.on('stop-reply', (data) => {\n\tconsoleView.emit('closeNotification', data);\n});\nsocket.on('project-list', (project, list) =>  {\n\t//console.log(project, list);\n\tif (project && list.indexOf(models.project.getKey('currentProject')) === -1){\n\t\t// this project has just been deleted\n\t\tconsole.log('project-list', 'openProject');\n\t\tsocket.emit('project-event', {func: 'openProject', currentProject: project});\n\t}\n\tmodels.project.setKey('projectList', list);\n});\nsocket.on('file-list', (project, list) => {\n\tif (project && project === models.project.getKey('currentProject')){\n\t\tlet currentFilenameFound = false;\n\t\tfor (let item of list){\n\t\t\tif (item.name === models.project.getKey('fileName')){\n\t\t\t\tcurrentFilenameFound = true;\n\t\t\t}\n\t\t}\n\t\tif (!currentFilenameFound){\n\t\t\t// this file has just been deleted\n\t\t\tsocket.emit('project-event', {func: 'openProject', currentProject: project});\n\t\t}\n\t\tmodels.project.setKey('fileList', list);\n\t}\n});\nsocket.on('file-changed', (project, fileName) => {\n\tif (project === models.project.getKey('currentProject') && fileName === models.project.getKey('fileName')){\n\t\tconsole.log('file changed!');\n\t\tmodels.project.setKey('readOnly', true);\n\t\tmodels.project.setKey('fileData', 'This file has been edited in another window. Reopen the file to continue');\n\t\t//socket.emit('project-event', {func: 'openFile', currentProject: project, fileName: fileName});\n\t}\n});\n\nsocket.on('status', (status, project) => {\n\tif (project === models.project.getKey('currentProject') || project === undefined){\n\t\tmodels.status.setData(status);\n\t\t//console.log('status', status);\n\t}\n});\n\nsocket.on('project-settings-data', (project, settings) => {\n\t//console.log('project-settings-data', settings);\n\tif (project === models.project.getKey('currentProject'))\n\t\tmodels.project.setData(settings);\n});\nsocket.on('IDE-settings-data', (settings) => models.settings.setData(settings) );\n\nsocket.on('cpu-usage', (data) => models.status.setKey('CPU', data) );\n\nsocket.on('disconnect', () => {\n\tconsoleView.disconnect();\n\ttoolbarView.emit('disconnected');\n\tmodels.project.setKey('readOnly', true);\n});\n\nsocket.on('debugger-data', (data) => {\n//console.log('b', data.debugProject, models.project.getKey('currentProject'), data.debugFile, models.project.getKey('fileName'));\n\tif (data.debugProject === undefined || data.debugProject === models.project.getKey('currentProject')){ \n\t\t//(data.debugFile === undefined || data.debugFile === models.project.getKey('fileName'))){\n\t\tvar debugFile = data.debugFile;\n\t\tif (debugFile && debugFile !== models.project.getKey('fileName')){\n\t\t\t//console.log(debugFile);\n\t\t\tvar newData = {\n\t\t\t\tfunc\t\t\t: 'openFile',\n\t\t\t\tcurrentProject\t: models.project.getKey('currentProject'),\n\t\t\t\tfileName\t\t: models.project.getKey('fileName'),\n\t\t\t\tnewFile\t\t\t: debugFile,\n\t\t\t\ttimestamp\t\t: performance.now(),\n\t\t\t\tdebug\t\t\t: {debugLine: data.debugLine, debugFile}\n\t\t\t};\n\t\t\tconsoleView.emit('openNotification', newData);\n\t\t\tsocket.emit('project-event', newData);\n\t\t} else {\n\t\t\t//console.log(data);\n\t\t\tmodels.debug.setData(data);\n\t\t}\n\t}\n});\nsocket.on('debugger-variables', (project, variables) => {\n\tif (project === models.project.getKey('currentProject')){\n\t\tmodels.debug.setKey('variables', variables);\n\t}\n});\n\n// run-on-boot\nsocket.on('run-on-boot-log', text => consoleView.emit('log', text) );\n//socket.on('run-on-boot-project', project => setTimeout( () => $('#runOnBoot').val(project), 100) );\n\n// shell\nsocket.on('shell-event', (evt, data) => consoleView.emit('shell-'+evt, data) )\n\n// generic log and warn\nsocket.on('std-log', text => consoleView.emit('log', text) );\nsocket.on('std-warn', text => consoleView.emit('warn', text) );\n\n// model events\n// build errors\nmodels.status.on('set', (data, changedKeys) => {\n\tif (changedKeys.indexOf('syntaxError') !== -1){\n\t\tparseErrors(data.syntaxError);\n\t}\n});\n// debug mode\nmodels.debug.on('change', (data, changedKeys) => {\n\tif (changedKeys.indexOf('debugMode') !== -1){\n\t\t//console.log(!data.debugMode, models.debug.getKey('debugRunning'));\n\t\tif (!data.debugMode && models.debug.getKey('debugRunning')) socket.emit('debugger-event', 'stop');\n\t\tvar data = {\n\t\t\tfunc\t\t\t: 'cleanProject',\n\t\t\tcurrentProject\t: models.project.getKey('currentProject'),\n\t\t\ttimestamp\t\t: performance.now()\n\t\t};\n\t\tconsoleView.emit('openNotification', data);\n\t\tsocket.emit('project-event', data);\n\t}\n});\n\n// top-bar\nmodels.project.on('change', (data, changedKeys) => {\n\n\tvar projectName = data.exampleName ? data.exampleName+' (example)' : data.currentProject;\n\n\t// set the browser tab title\n\t$('title').html((data.fileName ? data.fileName+', ' : '')+projectName);\n\t\n\t// set the top-line stuff\n\t$('#top-open-project').html(projectName ? 'Project: '+projectName : '');\n\t$('#top-open-file').html(data.fileName ? 'File: '+data.fileName : '');\n\t\n\tif (data.exampleName){\n\t\t$('#top-example-docs').css('visibility', 'visible');\n\t\t$('#top-example-docs-link').prop('href', 'documentation/'+data.exampleName+'_2render_8cpp-example.html');\n\t} else {\n\t\t$('#top-example-docs').css('visibility', 'hidden');\t\n\t}\n\n});\nmodels.status.on('change', (data, changedKeys) => {\n\tif (changedKeys.indexOf('running') !== -1 || changedKeys.indexOf('building') !== -1){\n\t\tif (data.running)\n\t\t\t$('#top-bela-status').html('Running: '+data.runProject);\n\t\telse if (data.building)\n\t\t\t$('#top-bela-status').html('Building: '+data.buildProject);\n\t\telse\n\t\t\t$('#top-bela-status').html('');\n\t}\n});\n\n\n// history\n{\n\tlet lastState = {}, poppingState = true;\n\t\n\t// file / project changed\n\tmodels.project.on('change', (data, changedKeys) => {\n\t\tif (changedKeys.indexOf('currentProject') !== -1 || changedKeys.indexOf('fileName') !== -1){\n\t\t\tvar state = {file: data.fileName, project: data.currentProject};\n\t\t\tif (state.project !== lastState.project || state.file !== lastState.file){\n\t\t\t\t\n\t\t\t\tif (!poppingState){\n\t\t\t\t\t//console.log('push', state);\n\t\t\t\t\thistory.pushState(state, null, null);\n\t\t\t\t}\n\t\t\t\tpoppingState = false\n\t\t\t\tlastState = state;\n\t\t\t}\n\t\t}\n\t});\n\n\t// load previously open file / project when browser's back button is clicked\n\twindow.addEventListener('popstate', function(e) {\n\t\tif (e.state){\n\t\t\tconsole.log('opening project '+e.state.project+' file '+e.state.file);\n\t\t\tvar data = {\n\t\t\t\tcurrentProject\t: e.state.project,\n\t\t\t\tfileName\t\t: e.state.file,\n\t\t\t\tfunc\t\t\t: 'openFile',\n\t\t\t\ttimestamp \t\t: performance.now()\n\t\t\t};\n\t\t\tconsoleView.emit('openNotification', data);\n\t\t\tsocket.emit('project-event', data);\n\t\t\tpoppingState = true;\n\t\t}\n\t});\n}\n\n// local functions\n// parse errors from g++\nfunction parseErrors(data){\n//console.log('parsing', data, data.split('\\n'));\n\tdata = data.split('\\n');\n\t\n\tvar errors = [];\n\tfor (let i=0; i<data.length; i++){\n\n\t\t// ignore errors which begin with 'make'\n\t\tif (data[i].length > 1 && data[i].slice(0,4) !== 'make'){\n\t\n\t\t\tvar msg = data[i].split('\\n');\n\t\t\n\t\t\tfor (let j=0; j<msg.length; j++){\n\t\t\n\t\t\t\tvar str = msg[j].split(':');\n\t\t\t\t//console.log(str);\n\t\t\t\t// str[0] -> file name + path\n\t\t\t\t// str[1] -> row number\n\t\t\t\t// str[2] -> column number\n\t\t\t\t// str[3] -> type of error\n\t\t\t\t// str[4+] > error message\n\t\t\t\n\t\t\t\tif (str[3] === ' error'){\n\t\t\t\t\terrors.push({\n\t\t\t\t\t\tfile: str[0].split('/').pop(),\n\t\t\t\t\t\trow: str[1]-1,\n\t\t\t\t\t\tcolumn: str[2],\n\t\t\t\t\t\ttext: str.slice(4).join(':').slice(1) + '\\ncolumn: '+str[2],\n\t\t\t\t\t\ttype: \"error\"\n\t\t\t\t\t});\n\t\t\t\t} else if (str[3] == ' fatal error'){\n\t\t\t\t\terrors.push({\n\t\t\t\t\t\tfile: str[0].split('/').pop(),\n\t\t\t\t\t\trow: str[1]-1,\n\t\t\t\t\t\tcolumn: str[2],\n\t\t\t\t\t\ttext: str.slice(4).join(':').slice(1) + '\\ncolumn: '+str[2],\n\t\t\t\t\t\ttype: \"error\"\n\t\t\t\t\t});\n\t\t\t\t} else if (str[3] == ' warning'){\n\t\t\t\t\terrors.push({\n\t\t\t\t\t\tfile: str[0].split('/').pop(),\n\t\t\t\t\t\trow: str[1]-1,\n\t\t\t\t\t\tcolumn: str[2],\n\t\t\t\t\t\ttext: str.slice(4).join(':').slice(1) + '\\ncolumn: '+str[2],\n\t\t\t\t\t\ttype: \"warning\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t//console.log('rejected error string: '+str);\n\t\t\t\t\tif (str[2] && str[2].indexOf('linker') !== -1){\n\t\t\t\t\t\tconsole.log('linker error');\n\t\t\t\t\t\tconsoleView.emit('warn', 'linker error detected, set verbose build output in settings for details');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// if no gcc errors have been parsed correctly, but make still thinks there is an error\n\t// error will contain string 'make: *** [<path>] Error 1'\n\tif (!errors.length && (data.indexOf('make: *** ') !== -1) && (data.indexOf('Error 1') !== -1)){\n\t\terrors.push({\n\t\t\ttext: data,\n\t\t\ttype: 'error'\n\t\t});\n\t}\n\t\n\tvar currentFileErrors = [], otherFileErrors = [];\n\tfor (let err of errors){\n\t\tif (!err.file || err.file === models.project.getKey('fileName')){\n\t\t\terr.currentFile = true;\n\t\t\tcurrentFileErrors.push(err);\n\t\t} else {\n\t\t\terr.currentFile = false;\n\t\t\terr.text = 'In file '+err.file+': '+err.text;\n\t\t\totherFileErrors.push(err);\n\t\t}\n\t}\n\t\n\tmodels.error.setKey('allErrors', errors);\n\tmodels.error.setKey('currentFileErrors', currentFileErrors);\n\tmodels.error.setKey('otherFileErrors', otherFileErrors);\n\t\n\tmodels.error.setKey('verboseSyntaxError', data);\n\n}\n","var EventEmitter = require('events').EventEmitter;\n\nclass Model extends EventEmitter{\n\n\tconstructor(data){\n\t\tsuper();\n\t\tvar _data = data || {};\n\t\tthis._getData = () => _data;\n\t}\n\t\n\tgetKey(key){\n\t\treturn this._getData()[key];\n\t}\n\t\n\tsetData(newData){\n\t\tif (!newData) return;\n\t\tvar newKeys = [];\n\t\tfor (let key in newData){\n\t\t\tif (!_equals(newData[key], this._getData()[key], false)){\n\t\t\t\tnewKeys.push(key);\n\t\t\t\tthis._getData()[key] = newData[key];\n\t\t\t}\n\t\t}\n\t\tif (newKeys.length) {\n\t\t\t//console.log('changed setdata');\n\t\t\tthis.emit('change', this._getData(), newKeys);\n\t\t}\n\t\tthis.emit('set', this._getData(), Object.keys(newData));\n\t}\n\t\n\tsetKey(key, value){\n\t\tif (!_equals(value, this._getData()[key], false)){\n\t\t\tthis._getData()[key] = value;\n\t\t\t//console.log('changed setkey');\n\t\t\tthis.emit('change', this._getData(), [key]);\n\t\t}\n\t\tthis.emit('set', this._getData(), [key]);\n\t}\n\t\n\tpushIntoKey(key, value){\n\t\tthis._getData()[key].push(value);\n\t\tthis.emit('change', this._getData(), [key]);\n\t\tthis.emit('set', this._getData(), [key]);\n\t}\n\t\n\tspliceFromKey(key, index){\n\t\tthis._getData()[key].splice(index, 1);\n\t\tthis.emit('change', this._getData(), [key]);\n\t\tthis.emit('set', this._getData(), [key]);\n\t}\n\t\n\tprint(){\n\t\tconsole.log(this._getData());\n\t}\n\t\n}\n\nmodule.exports = Model;\n\nfunction _equals(a, b, log){\n\tif (log) console.log('a:', a, 'b:', b);\n\tif (a instanceof Array && b instanceof Array){\n\t\tif (log) console.log('arrays', 'a:', a, 'b:', b, (a.length === b.length), a.every( function(element, index){ return _equals(element, b[index], log) }));\n\t\treturn ( (a.length === b.length) && a.every( function(element, index){ return _equals(element, b[index], log) }) );\n\t} else if (a instanceof Object && b instanceof Object){\n\t\tif (log) console.log('objects', 'a:', a, 'b:', b);\n\t\tfor (let c in a){ \n\t\t\tif (log) console.log('a[c]:', a[c], 'b[c]:', b[c], 'c:', c);\n\t\t\tif (!_equals(a[c], b[c], log)) return false;\n\t\t}\n\t\treturn true;\n\t} else {\n\t\tif (log) console.log('a:', a, 'b:', b, Object.is(a, b), (a === b));\n\t\treturn Object.is(a, b);\n\t}\n}\n\t\n\t\n\t\n\t\n\t\n\t\n\t","'use strict';\nvar View = require('./View');\nvar _console = require('../console');\n\nvar verboseDebugOutput = false;\n\nvar shellCWD = '~';\n\nclass ConsoleView extends View{\n\n\tconstructor(className, models, settings){\n\t\tsuper(className, models, settings);\t\t\n\t\t\n\t\tthis.on('clear', () => _console.clear() );\n\t\t_console.on('focus', (focus) => this.emit('focus', focus) );\n\t\t_console.on('open-file', (fileName, focus) => this.emit('open-file', fileName, focus) );\n\t\t\n\t\tthis.on('openNotification', this.openNotification);\n\t\tthis.on('closeNotification', this.closeNotification);\n\t\tthis.on('openProcessNotification', this.openProcessNotification);\n\n\t\tthis.on('log', (text, css) => _console.log(text, css));\n\t\tthis.on('warn', function(warning, id){\n\t\t\tconsole.log(warning);\n\t\t\t_console.warn(warning, id);\n\t\t});\n\t\t\n\t\tthis.form = document.getElementById('beaglert-consoleForm');\n\t\tthis.input = document.getElementById('beaglert-consoleInput');\n\t\t\n\t\t// console command line input events\n\t\tthis.history = [];\n\t\tthis.historyIndex = 0;\n\t\tthis.inputFocused = false;\n\t\t\n\t\tthis.form.addEventListener('submit', (e) => {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.history.push(this.input.value);\n\t\t\tthis.historyIndex = 0;\n\t\t\n\t\t\tthis.emit('input', this.input.value);\n\t\t\t_console.log(shellCWD+' '+this.input.value, 'log-in');\n\t\t\tthis.input.value = '';\n\t\t});\n\t\t\n\t\t$('#beaglert-consoleInput-pre')\n\t\t\t.on('click', () => $(this.input).trigger('focus') );\n\t\t\n\t\t$('#beaglert-consoleInput-pre, #beaglert-consoleInput')\n\t\t\t.on('mouseover', function(){ $('#beaglert-consoleInput-pre').css('opacity', 1) })\n\t\t\t.on('mouseout', () => { if (!this.inputFocused) $('#beaglert-consoleInput-pre').css('opacity', 0.2) });\n\t\t\n\t\tthis.input.addEventListener('focus', () => {\n\t\t\tthis.inputFocused = true;\n\t\t\t$('#beaglert-consoleInput-pre').css('opacity', 1);//.html(shellCWD);\n\t\t});\n\t\tthis.input.addEventListener('blur', () => {\n\t\t\tthis.inputFocused = false;\n\t\t\t$('#beaglert-consoleInput-pre').css('opacity', 0.2);//.html('>');\n\t\t});\n\t\twindow.addEventListener('keydown', (e) => {\n\t\t\tif (this.inputFocused){\n\t\t\t\tif (e.which === 38){\t// up arrow\n\t\t\t\t\n\t\t\t\t\tif (this.history[this.history.length - ++this.historyIndex]){\n\t\t\t\t\t\tthis.input.value = this.history[this.history.length - this.historyIndex];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.historyIndex -= 1;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// force the cursor to the end\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tif(this.input.setSelectionRange !== undefined) {\n\t\t\t\t\t\t\tthis.input.setSelectionRange(this.input.value.length, this.input.value.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(this.input).val(this.input.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t\t\n\t\t\t\t} else if (e.which === 40){\t\t// down arrow\n\t\t\t\t\tif (--this.historyIndex === 0){\n\t\t\t\t\t\tthis.input.value = '';\n\t\t\t\t\t} else if (this.history[this.history.length - this.historyIndex]){\n\t\t\t\t\t\tthis.input.value = this.history[this.history.length - this.historyIndex];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.historyIndex += 1;\n\t\t\t\t\t}\t\n\t\t\t\t} else if (e.which === 9){\t// tab\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.emit('tab', this.input.value);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\t$('#beaglert-console').on('click', () => $(this.input).trigger('focus') );\n\t\t$('#beaglert-consoleWrapper').on('click', (e) => e.stopPropagation() );\n\t\t\n\t\tthis.on('shell-stdout', data => this.emit('log', data, 'shell') );\n\t\tthis.on('shell-stderr', data => this.emit('warn', data) );\n\t\tthis.on('shell-cwd', cwd => {\n\t\t\t//console.log('cwd', cwd);\n\t\t\tshellCWD = 'root@bela ' + cwd.replace('/root', '~') + '#';\n\t\t\t$('#beaglert-consoleInput-pre').html(shellCWD);\n\t\t});\n\t\tthis.on('shell-tabcomplete', data => $('#beaglert-consoleInput').val(data) );\n\t}\n\t\n\topenNotification(data){\n\t\t//if (!funcKey[data.func]) console.log(data.func);\n\t\tif (data.func === 'command'){\n\t\t\tvar output = 'Executing git ' + (data.command || '');\n\t\t} else if (data.func === 'editor'){\n\t\t\tvar output = data.text;\n\t\t} else {\n\t\t\tvar output = funcKey[data.func];\n\t\t\tif (data.newProject || data.currentProject) output += ' '+(data.newProject || data.currentProject);\n\t\t\tif (data.newFile || data.fileName) output += ' '+(data.newFile || data.fileName);\n\t\t}\n\t\t_console.notify(output+'...', data.timestamp);\n\t}\n\tcloseNotification(data){\n\t\tif (data.error){\n\t\t\t_console.reject(' '+data.error, data.timestamp);\n\t\t} else {\n\t\t\t_console.fulfill(' done', data.timestamp);\n\t\t}\n\t}\n\t\n\topenProcessNotification(text){\n\t\tvar timestamp = performance.now();\n\t\t_console.notify(text, timestamp);\n\t\t_console.fulfill('', timestamp, false);\n\t}\n\t\n\tconnect(){\n\t\t$('#console-disconnect').remove();\n\t\t_console.unblock();\n\t}\n\tdisconnect(){\n\t\tconsole.log('disconnected');\n\t\t_console.warn('You have been disconnected from the Bela IDE and any more changes you make will not be saved. Please check your USB connection and reboot your BeagleBone', 'console-disconnect');\n\t\t_console.block();\n\t}\n\t\n\t// model events\n\t// syntax\n\t_syntaxLog(log, data){\n\t\tif (this.settings.fullSyntaxCheckOutput){\n\t\t\t_console.log(log);\n\t\t}\n\t}\n\t__verboseSyntaxError(log, data){\n\t\tif (parseInt(this.settings.getKey('verboseErrors'))){\n\t\t\tfor (let line of log){\n\t\t\t\t_console.log(line.split(' ').join('&nbsp;'), 'make');\n\t\t\t}\n\t\t}\n\t}\n\t__allErrors(errors, data){\n\t//console.log(data);\n\t\t_console.newErrors(errors);\n\t}\n\t\n\t// build\n\t_buildLog(log, data){\n\t//console.log(log, data);\n\t\t//if (this.settings.fullBuildOutput){\n\t\t\t_console.log(log, 'make');\n\t\t//}\n\t}\n\t\n\t// bela\n\t__belaLog(log, data){\n\t\t_console.log(log, 'bela');\n\t}\n\t__belaLogErr(log, data){\n\t\t//_console.warn(log);\n\t\t//_console.warn(log.split(' ').join('&nbsp;'));\n\t}\n\t__belaResult(data){\n\t\tif (data.stderr && data.stderr.split) _console.warn(data.stderr.split(' ').join('&nbsp;'));\n\t\tif (data.signal) _console.warn(data.signal);\n\t\t//console.log(data.signal)\n\t}\n\t\n\t_building(status, data){\n\t\tvar timestamp = performance.now();\n\t\tif (status){\n\t\t\t_console.notify('Building project...', timestamp, true);\n\t\t\t_console.fulfill('', timestamp, true);\n\t\t} else {\n\t\t\t_console.notify('Build finished', timestamp, true);\n\t\t\t_console.fulfill('', timestamp, true);\n\t\t}\n\t}\n\t_running(status, data){\n\t\tvar timestamp = performance.now();\n\t\tif (status){\n\t\t\t_console.notify('Running project...', timestamp, true);\n\t\t\t_console.fulfill('', timestamp, true);\n\t\t} else {\n\t\t\t_console.notify('Bela stopped', timestamp, true);\n\t\t\tif (data && data.belaResult && data.belaResult.signal && data.belaResult.signal !== 'undefined'){\n\t\t\t\t_console.reject(' with signal '+data.belaResult.signal, timestamp, true);\n\t\t\t} else {\n\t\t\t\t_console.fulfill('', timestamp, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_CPU(data){\n\t\tif (parseInt(this.settings.getKey('cpuMonitoringVerbose')) && data.bela != 0){\n\t\t\t_console.log(data.bela.split(' ').join('&nbsp;'));\n\t\t}\n\t}\n\t\n\t_consoleDelete(value){\n\t\t_console.setConsoleDelete(parseInt(value));\n\t}\n\t_verboseDebug(value){\n\t\tverboseDebugOutput = parseInt(value);\n\t}\n\t\n\t__debugReason(reason){\n\t\tconsole.log('reason', reason);\n\t\tvar timestamp = performance.now();\n\t\t_console.notify(reason, timestamp, true);\n\t\tif (reason === 'exited' || reason === 'exited-signalled')\n\t\t\t_console.reject('', timestamp, true);\n\t\telse \n\t\t\t_console.fulfill('', timestamp, false);\n\t}\n\t_debugSignal(signal){\n\t\tconsole.log('signal', signal);\n\t\tvar timestamp = performance.now();\n\t\t_console.notify(signal, timestamp, true);\n\t\t_console.reject('', timestamp, true);\n\t}\n\t_gdbLog(data){\n\t\tif (verboseDebugOutput) _console.log(data);\n\t\telse console.log(data);\n\t}\n\t__debugBelaLog(data){\n\t\t_console.log(data);\n\t}\n\n\t\n}\n\nmodule.exports = ConsoleView;\n\nvar funcKey = {\n\t'openProject'\t: 'Opening project',\n\t'openExample'\t: 'Opening example',\n\t'newProject'\t: 'Creating project',\n\t'saveAs'\t\t: 'Saving project',\n\t'deleteProject'\t: 'Deleting project',\n\t'cleanProject'\t: 'Cleaning project',\n\t'openFile'\t\t: 'Opening file',\n\t'newFile'\t\t: 'Creating file',\n\t'uploadFile'\t: 'Uploading file',\n\t'renameFile'\t: 'Renaming file',\n\t'deleteFile'\t: 'Deleting file',\n\t'init'\t\t\t: 'Initialising',\n\t'stop'\t\t\t: 'Stopping'\n};","var View = require('./View');\n\nclass DebugView extends View {\n\t\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\t\tthis._debugMode(false);\n\t}\n\t\n\t// UI events\n\tselectChanged($element, e){\n\t\tvar data = $element.data();\n\t\tvar func = data.func;\n\t\tif (func && this[func]){\n\t\t\tthis[func]($element.val());\n\t\t}\n\t}\n\tbuttonClicked($element, e){\n\t\tthis.setLocation('');\n\t\tthis.emit('debugger-event', $element.data().func);\n\t}\n\tdebugMode(status){\n\t\tthis.emit('debug-mode', (status==true));\n\t}\n\t\n\t// model events\n\t_debugMode(status){\n\t\tif (!status){\n\t\t\tthis.$parents.find('button').prop('disabled', 'disabled');\n\t\t}\n\t}\n\t// debugger process has started or stopped\n\t_debugRunning(status){\n\t\tthis.clearVariableList();\n\t\tthis.clearBacktrace();\n\t\tthis.$parents.find('button').prop('disabled', 'disabled');\n\t\tif (!status) this.setLocation('n/a');\n\t}\n\t// debugger is doing something\n\t_debugBelaRunning(status){\n\t\tif (!status){\n\t\t\tthis.$parents.find('button:not(#debugInterrupt)').prop('disabled', '');\n\t\t\t$('#expList, #backtraceList').removeClass('debuggerOutOfScope');\n\t\t} else {\n\t\t\tthis.$parents.find('button:not(#debugInterrupt)').prop('disabled', 'disabled');\n\t\t\t$('#expList, #backtraceList').addClass('debuggerOutOfScope');\n\t\t}\n\t}\n\t_debugInterruptable(status){\n\t\tif (status) $('#debugInterrupt').prop('disabled', '');\n\t\telse $('#debugInterrupt').prop('disabled', 'disabled');\n\t}\n\t_debugStatus(value, data){\n\t\tif (value) this.setStatus(value);\n\t}\n\t_debugReason(value){\n\t\tthis.setStatus($('#debuggerStatus').html()+', '+value);\n\t}\n\t_debugLine(line, data){\n\t\tvar location = '';\n\t\tif (data.debugFile)\n\t\t\tlocation += data.debugFile+', line ';\n\t\t\n\t\tif (data.debugLine)\n\t\t\tlocation += data.debugLine;\n\t\t\n\t\tthis.setLocation(location);\n\t}\n\t_variables(variables){\n\t\tconsole.log(variables);\n\t\tthis.clearVariableList();\n\t\tfor (let variable of variables){\n\t\t\tthis.addVariable($('#expList'), variable);\n\t\t}\n\t\tprepareList();\n\t}\n\t_backtrace(trace){\n\t\tthis.clearBacktrace();\n\t\tfor (let item of trace){\n\t\t\t$('<li></li>').text(item).appendTo($('#backtraceList'));\n\t\t}\n\t}\n\t\n\t// utility methods\n\tsetStatus(value){\n\t\t$('#debuggerStatus').html(value);\n\t}\n\tsetLocation(value){\n\t\t$('#debuggerLocation').html(value);\n\t}\n\tclearVariableList(){\n\t\t$('#expList').empty();\n\t}\n\tclearBacktrace(){\n\t\t$('#backtraceList').empty();\n\t}\n\taddVariable(parent, variable){\n\t\tvar name;\n\t\tif (variable.key) \n\t\t\tname = variable.key;\n\t\telse {\n\t\t\tname = variable.name.split('.');\n\t\t\tif (name.length) name = name[name.length-1];\n\t\t}\n\t\t//console.log('adding variable', name, variable);\n\t\tvar li = $('<li></li>');\n\t\tvar table = $('<table></table>').appendTo(li);\n\t\t$('<td></td>').text(variable.type).addClass('debuggerType').appendTo(table);\n\t\t$('<td></td>').text(name).addClass('debuggerName').appendTo(table);\n\t\tvar valTD = $('<td></td>').text(variable.value).addClass('debuggerValue').appendTo(table);\n\t\tli.attr('id', variable.name).appendTo(parent);\n\t\tif (variable.numchild && variable.children && variable.children.length){\n\t\t\tvar ul = $('<ul></ul>').appendTo(li);\n\t\t\tfor (let child of variable.children){\n\t\t\t\tthis.addVariable(ul, child);\n\t\t\t}\n\t\t}\n\t\tif (variable.value == undefined){\n\t\t\tli.addClass('debuggerOutOfScope');\n\t\t\tvalTD.text('out of scope');\n\t\t}\n\t}\n}\n\nmodule.exports = DebugView;\n\nfunction prepareList() {\n    $('#expList').find('li:has(ul)').each(function(){\n    \tvar $this = $(this);\n    \tif (!$this.hasClass('collapsed')){\n    \t\t$this.click( function(event) {\n\t\t\t\t$(this).toggleClass('expanded');\n\t\t\t\t$(this).children('ul').toggle('fast');\n\t\t\t\treturn false;\n\t\t\t})\n\t\t\t.addClass('collapsed')\n\t\t\t.children('ul').hide();\n    \t}\n    });\n    \n};\n\n\n\n\n\n\n\n\n\n","var View = require('./View');\n\nvar apiFuncs = ['setup', 'render', 'cleanup', 'Bela_createAuxiliaryTask', 'Bela_scheduleAuxiliaryTask'];\n\nvar classes = [\n\t'Scope',\n\t'OSCServer',\n\t'OSCClient',\n\t'OSCMessageFactory',\n\t'UdpServer',\n\t'UdpClient',\n\t'Midi',\n\t'MidiParser',\n\t'WriteFile'\n];\n\nclass DocumentationView extends View {\n\t\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\t\t\n\t\tthis.on('init', this.init);\n\t}\n\t\n\tinit(){\n\t\t\n\t\t// The API\n\t\t$.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: \"documentation_xml?file=Bela_8h\",\n\t\t\tdataType: \"xml\",\n\t\t\tsuccess: function(xml){\n\t\t\t\t//console.log(xml);\n\t\t\t\tvar counter = 0;\n\t\t\t\tfor (let item of apiFuncs){\n\t\t\t\t\tvar li = createlifrommemberdef($(xml).find('memberdef:has(name:contains('+item+'))'), 'APIDocs'+counter);\n\t\t\t\t\tli.appendTo($('#APIDocs'));\n\t\t\t\t\tcounter += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\t// The Audio Context\n\t\t$.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: \"documentation_xml?file=structBelaContext\",\n\t\t\tdataType: \"xml\",\n\t\t\tsuccess: function(xml){\n\t\t\t\t//console.log(xml);\n\t\t\t\tvar counter = 0;\n\t\t\t\tcreatelifromxml($(xml), 'contextDocs'+counter, 'structBelaContext').appendTo($('#contextDocs'));\n\t\t\t\tcounter += 1;\n\t\t\t\t$(xml).find('memberdef').each(function(){\n\t\t\t\t\tvar li = createlifrommemberdef($(this), 'contextDocs'+counter);\n\t\t\t\t\tli.appendTo($('#contextDocs'));\n\t\t\t\t\tcounter += 1;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\t// Utilities\n\t\t$.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: \"documentation_xml?file=Utilities_8h\",\n\t\t\tdataType: \"xml\",\n\t\t\tsuccess: function(xml){\n\t\t\t\t//console.log(xml);\n\t\t\t\tvar counter = 0;\n\t\t\t\tcreatelifromxml($(xml), 'utilityDocs'+counter, 'Utilities_8h').appendTo($('#utilityDocs'));\n\t\t\t\tcounter += 1;\n\t\t\t\t$(xml).find('memberdef').each(function(){\n\t\t\t\t\tvar li = createlifrommemberdef($(this), 'utilityDocs'+counter);\n\t\t\t\t\tli.appendTo($('#utilityDocs'));\n\t\t\t\t\tcounter += 1;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\t// all classes\n\t\tfor (let item of classes){\n\t\t\txmlClassDocs(item, this);\n\t\t}\n\t\t\n\t}\n\t\n}\n\nmodule.exports = DocumentationView;\n\nfunction createlifrommemberdef($xml, id){\n\tvar li = $('<li></li>');\n\tli.append($('<input></input>').prop('type', 'checkbox').addClass('docs').prop('id', id));\n\tli.append($('<label></label>').prop('for', id).addClass('docSectionHeader').addClass('sub').html($xml.find('name').html()));\n\t\n\tvar content = $('<div></div>');\n\t\n\t// title\n\tcontent.append($('<h2></h2>').html( $xml.find('definition').html() + $xml.find('argsstring').html() ));\n\t\n\t// subtitle\n\tcontent.append($('<h3></h3>').html( $xml.find('briefdescription > para').html() || '' ));\n\t\n\t// main text\n\t$xml.find('detaileddescription > para').each(function(){\n\t\tif ($(this).find('parameterlist').length){\n\t\t\tcontent.append('</br><h3>Parameters:</h3>');\n\t\t\tvar ul = $('<ul></ul>');\n\t\t\t$(this).find('parameteritem').each(function(){\n\t\t\t\tvar li = $('<li></li>');\n\t\t\t\tli.append($('<strong></strong>').html( $(this).find('parametername').html()+': ' ));\n\t\t\t\t$(this).find('parameterdescription>para').each(function(){\n\t\t\t\t\tli.append($('<span></span>').html( $(this).html() || '' ));\n\t\t\t\t});\n\t\t\t\tul.append(li);\n\t\t\t});\n\t\t\tcontent.append(ul);\n\t\t} else {\n\t\t\tcontent.append($('<p></p>').html( $(this).html() || '' ));\n\t\t}\n\t});\n\n\tli.append(content);\n\treturn li;\n}\n\nfunction createlifromxml($xml, id, filename){\n\tvar li = $('<li></li>');\n\tli.append($('<input></input>').prop('type', 'checkbox').addClass('docs').prop('id', id));\n\tli.append($('<label></label>').prop('for', id).addClass('docSectionHeader').addClass('sub').html($xml.find('compoundname').html()));\n\t\n\tvar content = $('<div></div>');\n\t\n\t// title\n\t//content.append($('<h2></h2>').html( $xml.find('definition').html() + $xml.find('argsstring').html() ));\n\t\n\t// subtitle\n\tcontent.append($('<h3></h3>').html( $xml.find('compounddef > briefdescription > para').html() || '' ));\n\t\n\t// main text\n\t$xml.find('compounddef > detaileddescription > para').each(function(){\n\t\tif ($(this).find('parameterlist').length){\n\t\t\tcontent.append('</br><h3>Parameters:</h3>');\n\t\t\tvar ul = $('<ul></ul>');\n\t\t\t$(this).find('parameteritem').each(function(){\n\t\t\t\tvar li = $('<li></li>');\n\t\t\t\tli.append($('<strong></strong>').html( $(this).find('parametername').html()+': ' ));\n\t\t\t\t$(this).find('parameterdescription>para').each(function(){\n\t\t\t\t\tli.append($('<span></span>').html( $(this).html() || '' ));\n\t\t\t\t});\n\t\t\t\tul.append(li);\n\t\t\t});\n\t\t\tcontent.append(ul);\n\t\t} else {\n\t\t\tcontent.append($('<p></p>').html( $(this).html() || '' ));\n\t\t}\n\t});\n\t\n\tcontent.append('</br><a href=\"http://192.168.7.2/documentation/'+filename+'.html\" target=\"_blank\">Full Documentation</a>');\n\n\tli.append(content);\n\treturn li;\n}\n\nfunction xmlClassDocs(classname, emitter){\n\tvar filename = 'class' + classname;\n\tvar parent = $('#'+classname+'Docs');\n\t$.ajax({\n\t\ttype: \"GET\",\n\t\turl: \"documentation_xml?file=\"+filename,\n\t\tdataType: \"xml\",\n\t\tsuccess: function(xml){\n\t\t\t//console.log(xml);\n\t\t\tvar counter = 0;\n\t\t\tcreatelifromxml($(xml), classname+counter, filename).appendTo(parent);\n\t\t\tcounter += 1;\n\t\t\t$(xml).find('[kind=\"public-func\"]>memberdef:not(:has(name:contains('+classname+')))').each(function(){\n\t\t\t\t//console.log($(this));\n\t\t\t\tvar li = createlifrommemberdef($(this), classname+counter);\n\t\t\t\tli.appendTo(parent);\n\t\t\t\tcounter += 1;\n\t\t\t});\n\t\t\t\n\t\t\t// when tab is opened\n\t\t\tparent.siblings('input').on('change', function(){\n\t\t\t\tconsole.log(classname);\n\t\t\t});\n\n\t\t\t$.ajax({\n\t\t\t\ttype: \"GET\",\n\t\t\t\turl: \"documentation_xml?file=\"+classname+\"_8h\",\n\t\t\t\tdataType: \"xml\",\n\t\t\t\tsuccess: function(xml){\n\t\t\t\t\t//console.log(xml);\n\t\t\t\t\tvar includes = $(xml).find('includedby');\n\t\t\t\t\tif (includes.length){\n\t\t\t\t\t\tvar content = $('#'+classname+'0').siblings('div');\n\t\t\t\t\t\tcontent.append($('<p></p>').html('Examples featuring this class:'));\n\t\t\t\t\t\tincludes.each(function(){\n\t\t\t\t\t\t\tvar include = $(this).html();\n\t\t\t\t\t\t\tif (include && include.split && include.split('/')[0] === 'examples'){\n\t\t\t\t\t\t\t\tvar link = $('<a></a>').html(include.split('/')[2]);\n\t\t\t\t\t\t\t\tlink.on('click', () => emitter.emit('open-example', [include.split('/')[1], include.split('/')[2]].join('/')));\n\t\t\t\t\t\t\t\tcontent.append(link).append('</br>');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}","var View = require('./View');\nvar Range = ace.require('ace/range').Range;\n\nconst uploadDelay = 50;\n\nvar uploadBlocked = false;\nvar currentFile;\nvar imageUrl;\n\nclass EditorView extends View {\n\t\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\t\t\n\t\tthis.editor = ace.edit('editor');\n\t\tace.require(\"ace/ext/language_tools\");\n\t\t\n\t\t// set syntax mode\n\t\tthis.editor.session.setMode('ace/mode/c_cpp');\n\t\tthis.editor.$blockScrolling = Infinity;\n\t\t\n\t\t// set theme\n\t\tthis.editor.setTheme(\"ace/theme/chrome\");\n\t\tthis.editor.setShowPrintMargin(false);\n\t\t\n\t\t// autocomplete settings\n\t\tthis.editor.setOptions({\n\t\t\tenableBasicAutocompletion: true,\n\t\t\tenableLiveAutocompletion: false,\n\t\t\tenableSnippets: true\n\t\t});\n\t\t\n\t\t// this function is called when the user modifies the editor\n\t\tthis.editor.session.on('change', (e) => {\n\t\t\t//console.log('upload', !uploadBlocked);\n\t\t\tif (!uploadBlocked) this.editorChanged();\n\t\t});\n\t\t\n\t\t// set/clear breakpoints when the gutter is clicked\n\t\tthis.editor.on(\"guttermousedown\", (e) => { \n\t\t\tvar target = e.domEvent.target; \n\t\t\tif (target.className.indexOf(\"ace_gutter-cell\") == -1) \n\t\t\t\treturn; \n\t\t\tif (!this.editor.isFocused()) \n\t\t\t\treturn; \n\t\t\tif (e.clientX > 25 + target.getBoundingClientRect().left) \n\t\t\t\treturn; \n\n\t\t\tvar row = e.getDocumentPosition().row;\n\n\t\t\tthis.emit('breakpoint', row);\n\n\t\t\te.stop();\n\n\t\t});\n\t\t\n\t\t$('#audioControl').find('button').on('click', () => audioSource.start(0) );\n\t\t\n\t\tthis.on('resize', () => this.editor.resize() );\n\t\t\n\t}\n\t\n\teditorChanged(){\n\t\tthis.emit('editor-changed');\n\t\tclearTimeout(this.uploadTimeout);\n\t\tthis.uploadTimeout = setTimeout( () => this.emit('upload', this.editor.getValue()), uploadDelay );\n\t}\n\t\n\t// model events\n\t// new file saved\n\t__fileData(data, opts){\n\n\t\t// hide the pd patch and image displays if present, and the editor\n\t\t$('#pd-svg-parent, #img-display-parent, #editor, #audio-parent').css('display', 'none');\n\t\t\n\t\tif (!opts.fileType) opts.fileType = '0';\n\t\t\n\t\tif (opts.fileType.indexOf('image') !== -1){\n\t\t\n\t\t\t// opening image file\n\t\t\t$('#img-display-parent, #img-display').css({\n\t\t\t\t'max-width'\t: $('#editor').width()+'px',\n\t\t\t\t'max-height': $('#editor').height()+'px'\n\t\t\t});\n\t\t\t$('#img-display-parent').css('display', 'block');\n\t\t\t\n\t\t\t$('#img-display').prop('src', 'media/'+opts.fileName);\n\t\t\t\n\t\t} else if (opts.fileType.indexOf('audio') !== -1){\n\t\t\t\n\t\t\t//console.log('opening audio file');\n\t\t\t\n\t\t\t$('#audio-parent').css({\n\t\t\t\t'display'\t: 'block',\n\t\t\t\t'max-width'\t: $('#editor').width()+'px',\n\t\t\t\t'max-height': $('#editor').height()+'px'\n\t\t\t});\n\t\t\t\t\t\t\n\t\t\t$('#audio').prop('src', 'media/'+opts.fileName); \n\t\t\t\n\t\t} else {\n\t\t\n\t\t\tif (opts.fileType === 'pd'){\n\t\t\t\n\t\t\t\t// we're opening a pd patch\n\t\t\t\tlet timestamp = performance.now();\n\t\t\t\tthis.emit('open-notification', {\n\t\t\t\t\tfunc: 'editor',\n\t\t\t\t\ttimestamp,\n\t\t\t\t\ttext: 'Rendering pd patch'\n\t\t\t\t});\n\t\t\n\t\t\t\t// render pd patch\n\t\t\t\ttry{\n\t\t\t\t\t\n\t\t\t\t\t$('#pd-svg').html(pdfu.renderSvg(pdfu.parse(data), {svgFile: false})).css({\n\t\t\t\t\t\t'max-width'\t: $('#editor').width()+'px',\n\t\t\t\t\t\t'max-height': $('#editor').height()+'px'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t$('#pd-svg-parent').css({\n\t\t\t\t\t\t'display'\t: 'block',\n\t\t\t\t\t\t'max-width'\t: $('#editor').width()+'px',\n\t\t\t\t\t\t'max-height': $('#editor').height()+'px'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.emit('close-notification', {timestamp});\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tcatch(e){\n\t\t\t\t\tthis.emit('close-notification', {\n\t\t\t\t\t\ttimestamp,\n\t\t\t\t\t\ttext: 'failed!'\n\t\t\t\t\t});\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// load an empty string into the editor\n\t\t\t\tdata = '';\n\t\t\t\n\t\t\t} else {\n\t\t\t\n\t\t\t\t// show the editor\n\t\t\t\t$('#editor').css('display', 'block');\n\t\t\t\t\n\t\t\t}\n\n\t\t\t// block upload\n\t\t\tuploadBlocked = true;\n\t\n\t\t\t// put the file into the editor\n\t\t\tthis.editor.session.setValue(data, -1);\n\t\n\t\t\t// unblock upload\n\t\t\tuploadBlocked = false;\n\n\t\t\t// force a syntax check\n\t\t\tthis.emit('change');\n\n\t\t\t// focus the editor\n\t\t\tthis._focus(opts.focus);\n\t\t\n\t\t}\n\t\t\n\t}\n\t// editor focus has changed\n\t_focus(data){\n\n\t\tif (data && data.line !== undefined && data.column !== undefined)\n\t\t\tthis.editor.gotoLine(data.line, data.column);\n\t\t\t\n\t\tthis.editor.focus();\n\t}\n\t// syntax errors in current file have changed\n\t_currentFileErrors(errors){\n\n\t\t// clear any error annotations on the ace editor\n\t\tthis.editor.session.clearAnnotations();\n\n\t\tif (errors.length >= 1){\t\t\n\t\t\t// errors exist!\n\t\t\t// annotate the errors in this file\n\t\t\tthis.editor.session.setAnnotations(errors);\n\t\t\t\t\t\t\n\t\t}\n\t}\t\n\t// autocomplete settings have changed\n\t_liveAutocompletion(status){\n\t//console.log(status, (parseInt(status) === 1));\n\t\tthis.editor.setOptions({\n\t\t\tenableLiveAutocompletion: (parseInt(status) === 1)\n\t\t});\n\t}\n\t// readonly status has changed\n\t_readOnly(status){\n\t\tif (status){\n\t\t\tthis.editor.setReadOnly(true);\n\t\t} else {\n\t\t\tthis.editor.setReadOnly(false);\n\t\t}\n\t}\n\t// a new file has been opened\n\t_fileName(name, data){\n\t\tcurrentFile = name;\n\t\tthis.__breakpoints(data.breakpoints, data);\n\t}\n\t// breakpoints have been changed\n\t__breakpoints(breakpoints, data){\n\t\t//console.log('setting breakpoints', breakpoints);\n\t\tthis.editor.session.clearBreakpoints();\n\t\tfor (let breakpoint of breakpoints){\n\t\t\tif (breakpoint.file === data.fileName){\n\t\t\t\tthis.editor.session.setBreakpoint(breakpoint.line);\n\t\t\t}\n\t\t}\n\t}\n\t// debugger highlight line has changed\n\t__debugLine(line, data){\n\tconsole.log(line, data.debugFile, currentFile);\n\t\tthis.removeDebuggerMarker();\n\t\t\n\t\t// add new marker at line\n\t\tif (line && data.debugFile === currentFile){\n\t\t\tthis.editor.session.addMarker(new Range(line-1, 0, line-1, 1), \"breakpointMarker\", \"fullLine\");\n\t\t\tthis.editor.gotoLine(line, 0);\n\t\t}\n\t}\n\t// debugger process has started or stopped\n\t_debugRunning(status){\n\t\tif (!status){\n\t\t\tthis.removeDebuggerMarker();\n\t\t}\n\t}\n\t_debugBelaRunning(status){\n\t\tif (status){\n\t\t\tthis.removeDebuggerMarker();\n\t\t}\n\t}\n\t\n\tremoveDebuggerMarker(){\n\t\tvar markers = this.editor.session.getMarkers();\n\t\t\n\t\t// remove existing marker\n\t\tObject.keys(markers).forEach( (key,index) => {\n\t\t\tif (markers[key].clazz === 'breakpointMarker'){\n\t\t\t\tthis.editor.session.removeMarker(markers[key].id);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = EditorView;","var View = require('./View');\nvar popup = require('../popup');\n\nvar sourceIndeces = ['cpp', 'c', 'S'];\nvar headerIndeces = ['h', 'hh', 'hpp'];\n\nvar askForOverwrite = true;\nvar uploadingFile = false;\nvar fileQueue = [];\n\nclass FileView extends View {\n\t\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\t\t\n\t\tthis.listOfFiles = [];\n\n\t\t// hack to upload file\n\t\t$('#uploadFileInput').on('change', (e) => {\n\t\t\tfor (var i=0; i<e.target.files.length; i++){\n\t\t\t\tthis.doFileUpload(e.target.files[i]);\n\t\t\t}\n\t\t});\n\t\t\n\t\t// drag and drop file upload on editor\n\t\t$('body').on('dragenter dragover drop', (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tif (e.type === 'drop'){\n\t\t\t\tfor (var i=0; i<e.originalEvent.dataTransfer.files.length; i++){\n\t\t\t\t\tthis.doFileUpload(e.originalEvent.dataTransfer.files[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\n\t}\n\t\n\t// UI events\n\tbuttonClicked($element, e){\n\t\tvar func = $element.data().func;\n\t\tif (func && this[func]){\n\t\t\tthis[func](func);\n\t\t}\n\t}\n\t\n\tnewFile(func){\n\t\n\t\t// build the popup content\n\t\tpopup.title('Creating a new file');\n\t\tpopup.subtitle('Enter the name of the new file. Only files with extensions .cpp, .c or .S will be compiled.');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<input type=\"text\" placeholder=\"Enter the file name\">');\n\t\tform.push('</br >');\n\t\tform.push('<button type=\"submit\" class=\"button popup-create\">Create</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('message', 'project-event', {func, newFile: sanitise(popup.find('input[type=text]').val())});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\n\t}\n\tuploadFile(func){\n\t\t$('#uploadFileInput').trigger('click');\n\t}\n\trenameFile(func){\n\t\t\n\t\t// build the popup content\n\t\tpopup.title('Renaming this file');\n\t\tpopup.subtitle('Enter the new name of the file. Only files with extensions .cpp, .c or .S will be compiled.');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<input type=\"text\" placeholder=\"Enter the new file name\">');\n\t\tform.push('</br >');\n\t\tform.push('<button type=\"submit\" class=\"button popup-rename\">Rename</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('message', 'project-event', {func, newFile: sanitise(popup.find('input[type=text]').val())});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\n\t}\n\tdeleteFile(func){\n\t\n\t\t// build the popup content\n\t\tpopup.title('Deleting file');\n\t\tpopup.subtitle('Are you sure you wish to delete this file? This cannot be undone!');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<button type=\"submit\" class=\"button popup-delete\">Delete</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('message', 'project-event', {func});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\t\t\n\t\tpopup.find('.popup-delete').trigger('focus');\n\t\t\n\t}\n\topenFile(e){\n\t\tthis.emit('message', 'project-event', {func: 'openFile', newFile: $(e.currentTarget).data('file')})\n\t}\n\t\n\t// model events\n\t_fileList(files, data){\n\t\n\t\tthis.listOfFiles = files;\n\n\t\tvar $files = $('#fileList')\n\t\t$files.empty();\n\t\t\n\t\tif (!files.length) return;\n\n\t\tvar headers = [];\n\t\tvar sources = [];\n\t\tvar resources = [];\n\t\tvar directories = [];\n\t\t\n\t\tfor (let item of files){\n\t\t\n\t\t\tif (item.dir){\n\t\t\t\n\t\t\t\tdirectories.push(item);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\n\t\t\t\tlet ext = item.name.split('.').pop();\n\t\t\t\n\t\t\t\tif (sourceIndeces.indexOf(ext) !== -1){\n\t\t\t\t\tsources.push(item);\n\t\t\t\t} else if (headerIndeces.indexOf(ext) !== -1){\n\t\t\t\t\theaders.push(item);\n\t\t\t\t} else if (item){\n\t\t\t\t\tresources.push(item);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\t//console.log(headers, sources, resources, directories);\n\n\t\theaders.sort( (a, b) => a.name - b.name );\n\t\tsources.sort( (a, b) => a.name - b.name );\n\t\tresources.sort( (a, b) => a.name - b.name );\n\t\tdirectories.sort( (a, b) => a.name - b.name );\n\t\t\n\t\t//console.log(headers, sources, resources, directories);\n\t\t\t\t\n\t\tif (headers.length){\n\t\t\t$('<li></li>').html('Headers:').appendTo($files);\n\t\t}\n\t\tfor (let i=0; i<headers.length; i++){\n\t\t\t$('<li></li>').addClass('sourceFile').html(headers[i].name).data('file', headers[i].name).appendTo($files).on('click', (e) => this.openFile(e));\n\t\t}\n\t\t\n\t\tif (sources.length){\n\t\t\t$('<li></li>').html('Sources:').appendTo($files);\n\t\t}\n\t\tfor (let i=0; i<sources.length; i++){\n\t\t\t$('<li></li>').addClass('sourceFile').html(sources[i].name).data('file', sources[i].name).appendTo($files).on('click', (e) => this.openFile(e));\n\t\t}\n\t\t\n\t\tif (resources.length){\n\t\t\t$('<li></li>').html('Resources:').appendTo($files);\n\t\t}\n\t\tfor (let i=0; i<resources.length; i++){\n\t\t\t$('<li></li>').addClass('sourceFile').html(resources[i].name).data('file', resources[i].name).appendTo($files).on('click', (e) => this.openFile(e));\n\t\t}\n\t\t\n\t\tif (directories.length){\n\t\t\t$('<li></li>').html('Directories:').appendTo($files);\n\t\t}\n\t\tfor (let dir of directories){\n\t\t\t$files.append(this.subDirs(dir));\n\t\t}\n\t\t\n\t\tif (data && data.fileName) this._fileName(data.fileName);\n\t}\n\t_fileName(file, data){\n\n\t\t// select the opened file in the file manager tab\n\t\t$('.selectedFile').removeClass('selectedFile');\n\t\t\n\t\tvar foundFile = false\n\t\t$('#fileList li').each(function(){\n\t\t\tif ($(this).data('file') === file){\n\t\t\t\t$(this).addClass('selectedFile');\n\t\t\t\tfoundFile = true;\n\t\t\t}\n\t\t});\n\t\t\t\t\n\t\tif (data && data.currentProject){\n\t\t\t// set download link\n\t\t\t$('#downloadFileLink').attr('href', '/download?project='+data.currentProject+'&file='+file);\n\t\t}\n\t}\n\t\n\tsubDirs(dir){\n\t\tvar ul = $('<ul></ul>').html(dir.name+':');\n\t\tfor (let child of dir.children){\n\t\t\tif (!child.dir)\n\t\t\t\t$('<li></li>').addClass('sourceFile').html(child.name).data('file', (dir.dirPath || dir.name)+'/'+child.name).appendTo(ul).on('click', (e) => this.openFile(e));\n\t\t\telse {\n\t\t\t\tchild.dirPath = (dir.dirPath || dir.name) + '/' + child.name;\n\t\t\t\tul.append(this.subDirs(child));\n\t\t\t}\n\t\t}\n\t\treturn ul;\n\t}\n\t\n\tdoFileUpload(file){\n\t\n\t\tif (uploadingFile){\n\t\t\tfileQueue.push(file);\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar fileExists = false;\n\t\tfor (let item of this.listOfFiles){\n\t\t\tif (item.name === file.name) fileExists = true;\n\t\t}\n\t\t\n\t\tif (fileExists && askForOverwrite){\n\t\t\n\t\t\tuploadingFile = true;\n\n\t\t\t// build the popup content\n\t\t\tpopup.title('Overwriting file');\n\t\t\tpopup.subtitle('The file '+file.name+' already exists in this project. Would you like to overwrite it?');\n\t\t\n\t\t\tvar form = [];\n\t\t\tform.push('<input id=\"popup-remember-upload\" type=\"checkbox\">');\n\t\t\tform.push('<label for=\"popup-remember-upload\">don\\'t ask me again this session</label>')\n\t\t\tform.push('</br >');\n\t\t\tform.push('<button type=\"submit\" class=\"button popup-upload\">Upload</button>');\n\t\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (popup.find('input[type=checkbox]').is(':checked')) askForOverwrite = false;\n\t\t\t\tthis.actuallyDoFileUpload(file, true);\n\t\t\t\tpopup.hide();\n\t\t\t\tuploadingFile = false;\n\t\t\t\tif (fileQueue.length) this.doFileUpload(fileQueue.pop());\n\t\t\t});\n\t\t\n\t\t\tpopup.find('.popup-cancel').on('click', () => {\n\t\t\t\tpopup.hide();\n\t\t\t\tuploadingFile = false;\n\t\t\t\tif (fileQueue.length) this.doFileUpload(fileQueue.pop());\n\t\t\t});\n\t\t\n\t\t\tpopup.show();\n\t\t\t\n\t\t\tpopup.find('.popup-cancel').focus();\n\t\t\t\n\t\t} else {\n\t\t\n\t\t\tthis.actuallyDoFileUpload(file, !askForOverwrite);\n\t\t\t\n\t\t}\n\t}\n\t\n\tactuallyDoFileUpload(file, force){\n\t\tvar reader = new FileReader();\n\t\treader.onload = (ev) => this.emit('message', 'project-event', {func: 'uploadFile', newFile: sanitise(file.name), fileData: ev.target.result, force} );\n\t\treader.readAsArrayBuffer(file);\n\t}\n\t\n}\n\nmodule.exports = FileView;\n\n// replace all non alpha-numeric chars other than '-' and '.' with '_'\nfunction sanitise(name){\n\treturn name.replace(/[^a-zA-Z0-9\\.\\-\\/~]/g, '_');\n}","'use strict';\nvar View = require('./View');\nvar popup = require('../popup');\n\nclass GitView extends View{\n\n\tconstructor(className, models, settings){\n\t\tsuper(className, models, settings);\t\t\n\n\t\tthis.$form = $('#gitForm');\n\t\tthis.$input = $('#gitInput');\n\n\t\t// git input events\n\t\tthis.$form.on('submit', (e) => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('git-event', {\n\t\t\t\tfunc: 'command', \n\t\t\t\tcommand: this.$input.val()\n\t\t\t});\n\t\t\tthis.$input.val('');\n\t\t});\n\t}\n\t\n\tbuttonClicked($element, e){\n\t\tvar func = $element.data().func;\n\t\tif (this[func]){\n\t\t\tthis[func]();\n\t\t\treturn;\n\t\t}\n\t\tvar command = $element.data().command;\n\t\tthis.emit('git-event', {func, command});\n\t}\n\t\n\tselectChanged($element, e){\n\t\tthis.emit('git-event', {\n\t\t\tfunc: 'command',\n\t\t\tcommand: 'checkout ' + ($(\"option:selected\", $element).data('hash') || $(\"option:selected\", $element).val())\n\t\t});\n\t}\n\t\n\tcommit(){\n\t\n\t\t// build the popup content\n\t\tpopup.title('Committing to the project repository');\n\t\tpopup.subtitle('Enter a commit message');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<input type=\"text\" placeholder=\"Enter your commit message\">');\n\t\tform.push('</br >');\n\t\tform.push('<button type=\"submit\" class=\"button popup-commit\">Commit</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('git-event', {func: 'command', command: 'commit -am \"'+popup.find('input[type=text]').val()+'\"'});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\n\t}\n\tbranch(){\n\t\t\n\t\t// build the popup content\n\t\tpopup.title('Creating a new branch');\n\t\tpopup.subtitle('Enter a name for the branch');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<input type=\"text\" placeholder=\"Enter your new branch name\">');\n\t\tform.push('</br >');\n\t\tform.push('<button type=\"submit\" class=\"button popup-create\">Create</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('git-event', {func: 'command', command: 'checkout -b '+popup.find('input[type=text]').val()});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\n\t}\n\t\n\tdiscardChanges(){\n\t\t\n\t\t// build the popup content\n\t\tpopup.title('Discarding changes');\n\t\tpopup.subtitle('You are about to discard all changes made in your project since the last commit. The command used is \"git checkout -- .\". Are you sure you wish to continue? This cannot be undone.');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<button type=\"submit\" class=\"button popup-continue\">Continue</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('git-event', {func: 'command', command: 'checkout -- .'});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-create').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\t\t\n\t\tpopup.find('.popup-continue').trigger('focus');\n\t\t\n\t}\n\t\n\t_repoExists(exists){\n\t\tif (exists){\n\t\t\t$('#repo').css('display', 'block');\n\t\t\t$('#noRepo').css('display', 'none');\n\t\t} else {\n\t\t\t$('#repo').css('display', 'none');\n\t\t\t$('#noRepo').css('display', 'block');\n\t\t}\n\t}\n\t__commits(commits, git){\n\n\t\tvar commits = commits.split('\\n');\n\t\tvar current = git.currentCommit.trim();\n\t\tvar branches = git.branches.split('\\n');\n\t\t\n\t\t// fill commits menu\n\t\tvar $commits = $('#commits');\n\t\t$commits.empty();\n\n\t\tvar commit, hash, opt;\n\t\tfor (var i=0; i<commits.length; i++){\n\t\t\tcommit = commits[i].split(' ');\n\t\t\tif (commit.length > 2){\n\t\t\t\thash = commit.pop().trim();\n\t\t\t\topt = $('<option></option>').html(commit.join(' ')).data('hash', hash).appendTo($commits);\n\t\t\t\tif (hash === current){\n\t\t\t\t\t$(opt).attr('selected', 'selected');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//$('<option></option>').html(commit).appendTo($commits);\n\t\t\t\tif (!(commit.length == 1 && commit[0] === '')) console.log('skipped commit', commit);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// fill branches menu\n\t\tvar $branches = $('#branches');\n\t\t$branches.empty();\n\t\t\n\t\tfor (var i=0; i<branches.length; i++){\n\t\t\tif (branches[i]){\n\t\t\t\topt = $('<option></option>').html(branches[i]).appendTo($branches);\n\t\t\t\tif (branches[i][0] === '*'){\n\t\t\t\t\t$(opt).attr('selected', 'selected');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t__stdout(text, git){\n\t\tthis.emit('console', text);\n\t}\n\t__stderr(text){\n\t\tthis.emit('console', text);\n\t}\n\t\n}\n\nmodule.exports = GitView;\n","var View = require('./View');\nvar popup = require('../popup');\n\nclass ProjectView extends View {\n\t\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\t\t\n\t\t//this.exampleChanged = false;\n\t\tthis.on('example-changed', () => this.exampleChanged = true );\n\t}\n\n\t// UI events\n\tselectChanged($element, e){\n\t\n\t\tif (this.exampleChanged){\n\t\t\tthis.exampleChanged = false;\n\t\t\tpopup.exampleChanged( () => {\n\t\t\t\tthis.emit('message', 'project-event', {func: $element.data().func, currentProject: $element.val()});\n\t\t\t}, undefined, 0, () => {\n\t\t\t\t$element.find('option').filter(':selected').attr('selected', '');\n\t\t\t\t$element.val($('#projects > option:first').val());\n\t\t\t\tthis.exampleChanged = true;\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tthis.emit('message', 'project-event', {func: $element.data().func, currentProject: $element.val()})\n\t\t\n\t}\n\tbuttonClicked($element, e){\n\t\tvar func = $element.data().func;\n\t\tif (func && this[func]){\n\t\t\tthis[func](func);\n\t\t}\n\t}\n\t\n\tnewProject(func){\n\n\t\tif (this.exampleChanged){\n\t\t\tthis.exampleChanged = false;\n\t\t\tpopup.exampleChanged(this.newProject.bind(this), func, 500, () => this.exampleChanged = true );\n\t\t\treturn;\n\t\t}\n\t\t\t\t\n\t\t// build the popup content\n\t\tpopup.title('Creating a new project');\n\t\tpopup.subtitle('Choose what kind of project you would like to create, and enter the name of your new project');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<input id=\"popup-C\" type=\"radio\" name=\"project-type\" data-type=\"C\" checked>');\n\t\tform.push('<label for=\"popup-C\">C++</label>')\n\t\tform.push('</br>');\n\t\tform.push('<input id=\"popup-PD\" type=\"radio\" name=\"project-type\" data-type=\"PD\">');\n\t\tform.push('<label for=\"popup-PD\">Pure Data</label>')\n\t\tform.push('</br>');\n\t\tform.push('<input type=\"text\" placeholder=\"Enter your project name\">');\n\t\tform.push('</br>');\n\t\tform.push('<button type=\"submit\" class=\"button popup-save\">Save</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('message', 'project-event', {\n\t\t\t\tfunc, \n\t\t\t\tnewProject\t: sanitise(popup.find('input[type=text]').val()),\n\t\t\t\tprojectType\t: popup.find('input[type=radio]:checked').data('type')\n\t\t\t});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\n\t}\n\tsaveAs(func){\n\t\n\t\t// build the popup content\n\t\tpopup.title('Saving project');\n\t\tpopup.subtitle('Enter the name of your project');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<input type=\"text\" placeholder=\"Enter the new project name\">');\n\t\tform.push('</br >');\n\t\tform.push('<button type=\"submit\" class=\"button popup-save\">Save</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('message', 'project-event', {func, newProject: sanitise(popup.find('input[type=text]').val())});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\n\t}\n\tdeleteProject(func){\n\n\t\t// build the popup content\n\t\tpopup.title('Deleting project');\n\t\tpopup.subtitle('Are you sure you wish to delete this project? This cannot be undone!');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<button type=\"submit\" class=\"button popup-delete\">Delete</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('message', 'project-event', {func});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\t\t\n\t\tpopup.find('.popup-delete').trigger('focus');\n\t\t\n\t}\n\tcleanProject(func){\n\t\tthis.emit('message', 'project-event', {func});\n\t}\n\t\n\t// model events\n\t_projectList(projects, data){\n\n\t\tvar $projects = $('#projects');\n\t\t$projects.empty();\n\t\t\n\t\t// add an empty option to menu and select it\n\t\tvar opt = $('<option></option>').attr({'value': '', 'selected': 'selected'}).html('--Projects--').appendTo($projects);\n\n\t\t// fill project menu with projects\n\t\tfor (let i=0; i<projects.length; i++){\n\t\t\tif (projects[i] && projects[i] !== 'undefined' && projects[i] !== 'exampleTempProject' && projects[i][0] !== '.'){\n\t\t\t\tvar opt = $('<option></option>').attr('value', projects[i]).html(projects[i]).appendTo($projects);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (data && data.currentProject) this._currentProject(data.currentProject);\n\t\t\n\t}\n\t_exampleList(examplesDir){\n\n\t\tvar $examples = $('#examples');\n\t\t$examples.empty();\n\n\t\tif (!examplesDir.length) return;\n\n\t\tfor (let item of examplesDir){\n\t\t\tlet ul = $('<ul></ul>').html(item.name+':');\n\t\t\tfor (let child of item.children){\n\t\t\t\tif (child && child.length && child[0] === '.') continue;\n\t\t\t\t$('<li></li>').addClass('sourceFile').html(child).appendTo(ul)\n\t\t\t\t\t.on('click', (e) => {\n\n\t\t\t\t\t\tif (this.exampleChanged){\n\t\t\t\t\t\t\tthis.exampleChanged = false;\n\t\t\t\t\t\t\tpopup.exampleChanged( () => {\n\t\t\t\t\t\t\t\tthis.emit('message', 'project-event', {\n\t\t\t\t\t\t\t\t\tfunc: 'openExample',\n\t\t\t\t\t\t\t\t\tcurrentProject: item.name+'/'+child\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$('.selectedExample').removeClass('selectedExample');\n\t\t\t\t\t\t\t\t$(e.target).addClass('selectedExample');\n\t\t\t\t\t\t\t}, undefined, 0, () => this.exampleChanged = true );\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tthis.emit('message', 'project-event', {\n\t\t\t\t\t\t\tfunc: 'openExample',\n\t\t\t\t\t\t\tcurrentProject: item.name+'/'+child\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('.selectedExample').removeClass('selectedExample');\n\t\t\t\t\t\t$(e.target).addClass('selectedExample');\n\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tul.appendTo($examples);\n\t\t}\n\t\t\n\t}\n\t_currentProject(project){\n\t\n\t\t// unselect currently selected project\n\t\t$('#projects').find('option').filter(':selected').attr('selected', '');\n\t\t\n\t\tif (project === 'exampleTempProject'){\n\t\t\t// select no project\n\t\t\t$('#projects').val($('#projects > option:first').val());\n\t\t} else {\n\t\t\t// select new project\n\t\t\t//$('#projects option[value=\"'+project+'\"]').attr('selected', 'selected');\n\t\t\t$('#projects').val($('#projects > option[value=\"'+project+'\"]').val());\n\t\t\t// unselect currently selected example\n\t\t\t$('.selectedExample').removeClass('selectedExample');\n\t\t}\n\t\t\n\t\t// set download link\n\t\t$('#downloadLink').attr('href', '/download?project='+project);\n\t\t\n\t}\n\t\n\t__currentProject(){\n\t\tthis.exampleChanged = false;\n\t}\n\t\n\tsubDirs(dir){\n\t\tvar ul = $('<ul></ul>').html(dir.name+':');\n\t\tfor (let child of dir.children){\n\t\t\tif (!child.dir)\n\t\t\t\t$('<li></li>').addClass('sourceFile').html(child.name).data('file', (dir.dirPath || dir.name)+'/'+child.name).appendTo(ul);\n\t\t\telse {\n\t\t\t\tchild.dirPath = (dir.dirPath || dir.name) + '/' + child.name;\n\t\t\t\tul.append(this.subDirs(child));\n\t\t\t}\n\t\t}\n\t\treturn ul;\n\t}\n\t\n}\n\nmodule.exports = ProjectView;\n\n// replace all non alpha-numeric chars other than '-' and '.' with '_'\nfunction sanitise(name){\n\treturn name.replace(/[^a-zA-Z0-9\\.\\-]/g, '_');\n}","var View = require('./View');\nvar popup = require('../popup');\n\nvar inputChangedTimeout;\n\nclass SettingsView extends View {\n\t\n\tconstructor(className, models, settings){\n\t\tsuper(className, models, settings);\n\t\t//this.$elements.filter('input').on('change', (e) => this.selectChanged($(e.currentTarget), e));\n\t\tthis.settings.on('change', (data) => this._IDESettings(data) );\n\t\tthis.$elements.filterByData = function(prop, val) {\n\t\t\treturn this.filter(\n\t\t\t\tfunction() { return $(this).data(prop)==val; }\n\t\t\t);\n\t\t}\n\t\t\n\t\t$('#runOnBoot').on('change', () => {\n\t\t\tif ($('#runOnBoot').val() && $('#runOnBoot').val() !== '--select--')\n\t\t\t\tthis.emit('run-on-boot', $('#runOnBoot').val());\n\t\t});\n\t\t\n\t\tthis.inputJustChanged = false;\n\t\t\n\t}\n\t\n\tselectChanged($element, e){\n\t\tvar data = $element.data();\n\t\tvar func = data.func;\n\t\tvar key = data.key;\n\t\tif (func && this[func]){\n\t\t\tthis[func](func, key, $element.val());\n\t\t}\n\t}\n\tbuttonClicked($element, e){\n\t\tvar func = $element.data().func;\n\t\tif (func && this[func]){\n\t\t\tthis[func](func);\n\t\t}\n\t}\n\tinputChanged($element, e){\n\t\tvar data = $element.data();\n\t\tvar func = data.func;\n\t\tvar key = data.key;\n\t\tvar type = $element.prop('type');\n\t\t\n\t\tif (inputChangedTimeout) clearTimeout(inputChangedTimeout);\n\t\tinputChangedTimeout = setTimeout( () => this.inputJustChanged = false, 100);\n\t\tthis.inputJustChanged = true;\n\t\t\n\t\tif (type === 'number' || type === 'text'){\n\t\t\tif (func && this[func]){\n\t\t\t\tthis[func](func, key, $element.val());\n\t\t\t}\n\t\t} else if (type === 'checkbox'){\n\t\t\tif (func && this[func]){\n\t\t\t\tthis[func](func, key, $element.is(':checked') ? 1 : 0);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tsetCLArg(func, key, value){\n\t\tthis.emit('project-settings', {func, key, value});\n\t}\n\trestoreDefaultCLArgs(func){\n\t\t\n\t\t// build the popup content\n\t\tpopup.title('Restoring default project settings');\n\t\tpopup.subtitle('Are you sure you wish to continue? Your current project settings will be lost!');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<button type=\"submit\" class=\"button popup-continue\">Continue</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('project-settings', {func});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\t\t\n\t\tpopup.find('.popup-continue').trigger('focus');\n\n\t}\n\t\n\tsetIDESetting(func, key, value){\n\tconsole.log(func, key, value);\n\t\tthis.emit('IDE-settings', {func, key, value: value});\n\t}\n\trestoreDefaultIDESettings(func){\n\t\t\n\t\t// build the popup content\n\t\tpopup.title('Restoring default IDE settings');\n\t\tpopup.subtitle('Are you sure you wish to continue? Your current IDE settings will be lost!');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<button type=\"submit\" class=\"button popup-continue\">Continue</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('IDE-settings', {func});\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\t\t\n\t\tpopup.find('.popup-continue').trigger('focus');\n\t\t\n\t}\n\t\n\tshutdownBBB(){\n\t\n\t\t// build the popup content\n\t\tpopup.title('Shutting down Bela');\n\t\tpopup.subtitle('Are you sure you wish to continue? The BeagleBone will shutdown gracefully, and the IDE will disconnect.');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<button type=\"submit\" class=\"button popup-continue\">Continue</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.emit('halt');\n\t\t\tpopup.hide();\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\n\t\tpopup.show();\n\t\t\n\t\tpopup.find('.popup-continue').trigger('focus');\n\t\n\t}\n\taboutPopup(){\n\t\t\n\t\t// build the popup content\n\t\tpopup.title('About Bela');\n\t\tpopup.subtitle('You are using Bela Version 0.1, July 2016. Bela is an open source project licensed under GPL, and is a product of the Augmented Instruments Laboratory at Queen Mary University of London. For more information, visit http://bela.io');\n\t\tvar form = [];\n\t\tform.push('<button type=\"submit\" class=\"button popup-continue\">Close</button>');\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\te.preventDefault();\n\t\t\tpopup.hide();\n\t\t});\n\t\t\t\t\n\t\tpopup.show();\n\t\t\n\t\tpopup.find('.popup-continue').trigger('focus');\n\t\t\n\t}\n\tupdateBela(){\n\t\n\t\t// build the popup content\n\t\tpopup.title('Updating Bela');\n\t\tpopup.subtitle('Please select the update zip archive');\n\t\t\n\t\tvar form = [];\n\t\tform.push('<input id=\"popup-update-file\" type=\"file\">');\n\t\tform.push('</br>');\n\t\tform.push('<button type=\"submit\" class=\"button popup-upload\">Upload</button>');\n\t\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\n\t\t/*popup.form.prop({\n\t\t\taction\t: 'updates',\n\t\t\tmethod\t: 'get',\n\t\t\tenctype\t: 'multipart/form-data'\n\t\t});*/\n\t\t\n\t\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\t\t\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tvar file = popup.find('input[type=file]').prop('files')[0];\n\t\t\tif (file && file.type === 'application/zip'){\n\t\t\t\n\t\t\t\tthis.emit('warning', 'Beginning the update - this may take several minutes');\n\t\t\t\tthis.emit('warning', 'The browser may become unresponsive and will temporarily disconnect');\n\t\t\t\tthis.emit('warning', 'Do not use the IDE during the update process!');\n\t\t\t\t\n\t\t\t\tvar reader = new FileReader();\n\t\t\t\treader.onload = (ev) => this.emit('upload-update', {name: file.name, file: ev.target.result} );\n\t\t\t\treader.readAsArrayBuffer(file);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\n\t\t\t\tthis.emit('warning', 'not a valid update zip archive');\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tpopup.hide();\n\t\t\t\n\t\t});\n\t\t\n\t\tpopup.find('.popup-cancel').on('click', popup.hide );\n\t\t\t\t\n\t\tpopup.show();\n\t\t\n\t}\n\t\n\t// model events\n\t_CLArgs(data){\n\t\tvar args = '';\n\t\tfor (let key in data) {\n\t\t\n\t\t\tlet el = this.$elements.filterByData('key', key);\n\t\t\t\n\t\t\t// set the input value when neccesary\n\t\t\tif (el[0].type === 'checkbox') {\n\t\t\t\tel.prop('checked', (data[key] == 1));\n\t\t\t} else if (key === '-C' || (el.val() !== data[key] && !this.inputJustChanged)){\n\t\t\t\t//console.log(el.val(), data[key]);\n\t\t\t\tel.val(data[key]);\n\t\t\t}\n\n\t\t\t// fill in the full string\n\t\t\tif (key[0] === '-' && key[1] === '-'){\n\t\t\t\targs += key+'='+data[key]+' ';\n\t\t\t} else if (key === 'user'){\n\t\t\t\targs += data[key];\n\t\t\t} else if (key !== 'make'){\n\t\t\t\targs += key+data[key]+' ';\n\t\t\t}\n\t\t}\n\n\t\t$('#C_L_ARGS').val(args);\n\t}\n\t_IDESettings(data){\n\t\tfor (let key in data){\n\t\t\tthis.$elements.filterByData('key', key).val(data[key]).prop('checked', data[key]);\n\t\t}\n\t}\n\t_breakpoints(value, keys){\n\t\tthis.emit('project-settings', {func: 'setBreakpoints', value});\n\t}\n\t_projectList(projects, data){\n\n\t\tvar $projects = $('#runOnBoot');\n\t\t$projects.empty();\n\t\t\n\t\t// add an empty option to menu and select it\n\t\t$('<option></option>').html('--select--').appendTo($projects);\n\t\t\n\t\t// add a 'none' option\n\t\t$('<option></option>').attr('value', 'none').html('none').appendTo($projects);\n\n\t\t// fill project menu with projects\n\t\tfor (let i=0; i<projects.length; i++){\n\t\t\tif (projects[i] && projects[i] !== 'undefined' && projects[i] !== 'exampleTempProject' && projects[i][0] !== '.'){\n\t\t\t\t$('<option></option>').attr('value', projects[i]).html(projects[i]).appendTo($projects);\n\t\t\t}\n\t\t}\n\n\t\t\n\t}\n}\n\nmodule.exports = SettingsView;","var View = require('./View');\n\n// private variables\nvar _tabsOpen = false;\n\nclass TabView extends View {\n\t\n\tconstructor(){\n\t\n\t\tsuper('tab');\n\n\t\t// open/close tabs \n\t\t$('#flexit').on('click', () => {\n\t\t\tif (_tabsOpen){\n\t\t\t\tthis.closeTabs();\n\t\t\t} else {\t\t\t\t\n\t\t\t\tthis.openTabs();\n\t\t\t}\n\t\t});\n\n\t\t$('.tab > label').on('click', (e) => {\n\t\t\tif (!_tabsOpen){\n\t\t\t\tif ($(e.currentTarget).prop('id') === 'tab-0' && $('[type=radio]:checked ~ label').prop('id') === 'tab-0')\n\t\t\t\t\t$('#file-explorer').parent().trigger('click');\n\n\t\t\t\tthis.openTabs();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\t\t\n\t\t// golden layout\n\t\tvar layout = new GoldenLayout({\n\t\t\tsettings:{\n\t\t\t\thasHeaders: false,\n\t\t\t\tconstrainDragToContainer: true,\n\t\t\t\treorderEnabled: false,\n\t\t\t\tselectionEnabled: false,\n\t\t\t\tpopoutWholeStack: false,\n\t\t\t\tblockedPopoutsThrowError: true,\n\t\t\t\tclosePopoutsOnUnload: true,\n\t\t\t\tshowPopoutIcon: false,\n\t\t\t\tshowMaximiseIcon: false,\n\t\t\t\tshowCloseIcon: false\n\t\t\t},\n\t\t\tdimensions: {\n\t\t\t\tborderWidth: 5,\n\t\t\t\tminItemHeight: 10,\n\t\t\t\tminItemWidth: 10,\n\t\t\t\theaderHeight: 20,\n\t\t\t\tdragProxyWidth: 300,\n\t\t\t\tdragProxyHeight: 200\n\t\t\t},\n\t\t\tlabels: {\n\t\t\t\tclose: 'close',\n\t\t\t\tmaximise: 'maximise',\n\t\t\t\tminimise: 'minimise',\n\t\t\t\tpopout: 'open in new window'\n\t\t\t},\n\t\t\tcontent: [{\n\t\t\t\ttype: 'column',\n\t\t\t\tcontent: [{\n\t\t\t\t\ttype:'row',\n\t\t\t\t\tcontent: [{\n\t\t\t\t\t\ttype:'component',\n\t\t\t\t\t\tcomponentName: 'Editor',\n\t\t\t\t\t}]\n\t\t\t\t}, {\n\t\t\t\t\ttype:'component',\n\t\t\t\t\tcomponentName: 'Console',\n\t\t\t\t\theight: 25\n\t\t\t\t}]\n\t\t\t}]\n\t\t});\n\t\tlayout.registerComponent( 'Editor', function( container, componentState ){\n\t\t\tcontainer.getElement().append($('#innerContent'));\n\t\t});\n\t\tlayout.registerComponent( 'Console', function( container, componentState ){\n\t\t\tcontainer.getElement().append($('#beaglert-console'));\n\t\t});\n\t\t\n\t\tlayout.init();\n\t\tlayout.on('initialised', () => this.emit('change') );\n\t\tlayout.on('stateChanged', () => this.emit('change') );\n\t\t\n\t\t$(window).on('resize', () => {\n\t\t\tif (_tabsOpen){\n\t\t\t\tthis.openTabs();\n\t\t\t} else {\n\t\t\t\tthis.closeTabs();\n\t\t\t}\n\t\t});\n\t\t\n\t}\n\t\n\topenTabs(){\n\t\t$('#editor').css('right', '500px');\n\t\t$('#top-line').css('margin-right', '500px');\n\t\t$('#right').css('left', window.innerWidth - 500 + 'px');\n\t\t_tabsOpen = true;\n\t\tthis.emit('change');\n\t\t$('#tab-0').addClass('open');\n\t\t\n\t\t// fix pd patch\n\t\t$('#pd-svg-parent').css({\n\t\t\t'max-width'\t: $('#editor').width()+'px',\n\t\t\t'max-height': $('#editor').height()+'px'\n\t\t});\n\t}\n\n\tcloseTabs(){\n\t\t$('#editor').css('right', '60px');\n\t\t$('#top-line').css('margin-right', '60px');\n\t\t$('#right').css('left', window.innerWidth - 60 + 'px');\n\t\t_tabsOpen = false;\n\t\tthis.emit('change');\n\t\t$('#tab-0').removeClass('open');\n\t\t\n\t\t// fix pd patch\n\t\t$('#pd-svg-parent').css({\n\t\t\t'max-width'\t: $('#editor').width()+'px',\n\t\t\t'max-height': $('#editor').height()+'px'\n\t\t});\n\t\t\n\t}\n\t\n}\n\nmodule.exports = new TabView();","var View = require('./View');\n\n// ohhhhh i am a comment\n\nclass ToolbarView extends View {\n\t\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\n\t\tthis.$elements.on('click', (e) => this.buttonClicked($(e.currentTarget), e));\n\t\t\n\t\tthis.on('disconnected', () => {\n\t\t\t$('#run').removeClass('spinning');\n\t\t});\n\t\t\n\t\t$('#run')\n\t\t\t.mouseover(function() {\n\t\t\t\t$('#control-text-1').html('<p>Run</p>');\n\t\t\t})\n\t\t\t.mouseout(function() {\n\t\t\t\t$('#control-text-1').html('');\n\t\t\t});\n\t\t\n\t\t$('#stop')\n\t\t\t.mouseover(function() {\n\t\t\t\t$('#control-text-1').html('<p>Stop</p>');\n\t\t\t})\n\t\t\t.mouseout(function() {\n\t\t\t\t$('#control-text-1').html('');\n\t\t\t});\n\n\t\t$('#new-tab')\n\t\t\t.mouseover(function() {\n\t\t\t\t$('#control-text-2').html('<p>New Tab</p>');\n\t\t\t})\n\t\t\t.mouseout(function() {\n\t\t\t\t$('#control-text-2').html('');\n\t\t\t});\n\t\t\n\t\t$('#download')\n\t\t\t.mouseover(function() {\n\t\t\t\t$('#control-text-2').html('<p>Download</p>');\n\t\t\t})\n\t\t\t.mouseout(function() {\n\t\t\t\t$('#control-text-2').html('');\n\t\t\t});\n\n\t\t$('#console')\n\t\t\t.mouseover(function() {\n\t\t\t\t$('#control-text-3').html('<p>Clear console</p>');\n\t\t\t})\n\t\t\t.mouseout(function() {\n\t\t\t\t$('#control-text-3').html('');\n\t\t\t});\n\t\t\n\t\t$('#scope')\n\t\t\t.mouseover(function() {\n\t\t\t\t$('#control-text-3').html('<p>Open scope</p>');\n\t\t\t})\n\t\t\t.mouseout(function() {\n\t\t\t\t$('#control-text-3').html('');\n\t\t\t});\n\t}\n\t\n\t// UI events\n\tbuttonClicked($element, e){\n\t\tvar func = $element.data().func;\n\t\tif (func && this[func]){\n\t\t\tthis[func](func);\n\t\t}\n\t}\n\t\n\trun(func){\n\t\tthis.emit('process-event', func);\n\t}\n\t\n\tstop(func){\n\t\tthis.emit('process-event', func);\n\t}\n\t\n\tclearConsole(){\n\t\tthis.emit('clear-console');\n\t}\n\t\n\t// model events\n\t__running(status){\n\t\tif (status){\n\t\t\t$('#run').removeClass('building-button').addClass('running-button');\n\t\t} else {\n\t\t\t$('#run').removeClass('running-button');\n\t\t}\n\t}\n\t__building(status){\n\t\tif (status){\n\t\t\t$('#run').removeClass('running-button').addClass('building-button');\n\t\t} else {\n\t\t\t$('#run').removeClass('building-button');\n\t\t}\n\t}\n\t__checkingSyntax(status){\n\t\tif (status){\n\t\t\t$('#status').css('background', 'url(\"images/icons/status_wait.png\")').prop('title', 'checking syntax...');\n\t\t} else {\n\t\t\t//this.syntaxTimeout = setTimeout(() => $('#status').css('background', 'url(\"images/toolbar.png\") -140px 35px'), 10);\n\t\t}\n\t}\n\t__allErrors(errors){\n\t\t//if (this.syntaxTimeout) clearTimeout(this.syntaxTimeout); \n\t\tif (errors.length){\n\t\t\t$('#status').css('background', 'url(\"images/icons/status_stop.png\")').prop('title', 'syntax errors found'); \n\t\t} else {\n\t\t\t$('#status').css('background', 'url(\"images/icons/status_ok.png\")').prop('title', 'syntax check clear');\n\t\t}\n\t}\n\t\n\t_CPU(data){\n\n\t\tvar ide = data.syntaxCheckProcess + data.buildProcess + data.node + data.gdb;\n\t\tvar bela = 0, rootCPU = 1;\n\t\t\n\t\tif (data.bela != 0){\n\t\t\n\t\t\t// extract the data from the output\n\t\t\tvar lines = data.bela.split('\\n');\n\t\t\tvar taskData = [], output = [];\n\t\t\tfor (var j=0; j<lines.length; j++){\n\t\t\t\ttaskData.push([]);\n\t\t\t\tlines[j] = lines[j].split(' ');\n\t\t\t\tfor (var k=0; k<lines[j].length; k++){\n\t\t\t\t\tif (lines[j][k]){\n\t\t\t\t\t\ttaskData[j].push(lines[j][k]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\n\t\t\tfor (var j=0; j<taskData.length; j++){\n\t\t\t\tif (taskData[j].length){\n\t\t\t\t\tvar proc = {\n\t\t\t\t\t\t'name'\t: taskData[j][7],\n\t\t\t\t\t\t'cpu'\t: taskData[j][6],\n\t\t\t\t\t\t'msw'\t: taskData[j][2],\n\t\t\t\t\t\t'csw'\t: taskData[j][3]\n\t\t\t\t\t};\n\t\t\t\t\tif (proc.name === 'ROOT') rootCPU = proc.cpu*0.01;\n\t\t\t\t\t// ignore uninteresting data\n\t\t\t\t\tif (proc && proc.name && proc.name !== 'ROOT' && proc.name !== 'NAME' && proc.name !== 'IRQ29:'){\n\t\t\t\t\t\toutput.push(proc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfor (var j=0; j<output.length; j++){\n\t\t\t\tif (output[j].cpu){\n\t\t\t\t\tbela += parseFloat(output[j].cpu);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\n\t\t\n\t\t}\n\n\t\t$('#ide-cpu').html('IDE: '+(ide*rootCPU).toFixed(1)+'%');\n\t\t$('#bela-cpu').html('Bela: '+( bela ? bela.toFixed(1)+'%' : '--'));\n\t}\n\t\n\t_cpuMonitoring(value){\n\t\tif (parseInt(value))\n\t\t\t$('#ide-cpu, #bela-cpu').css('visibility', 'visible');\n\t\telse\n\t\t\t$('#ide-cpu, #bela-cpu').css('visibility', 'hidden');\n\t}\n\t\n\t_debugBelaRunning(status){\n\t\tif (status){\n\t\t\tif (!$('#run').hasClass('spinning')){\n\t\t\t\t$('#run').addClass('spinning');\n\t\t\t}\n\t\t} else {\n\t\t\tif ($('#run').hasClass('spinning')){\n\t\t\t\t$('#run').removeClass('spinning');\n\t\t\t}\n\t\t}\n\t}\n\t_debugRunning(status){\n\t\tif (!status && $('#run').hasClass('spinning'))  $('#run').removeClass('spinning');\n\t}\n\t\n}\n\nmodule.exports = ToolbarView;","var EventEmitter = require('events').EventEmitter;\n\nclass View extends EventEmitter{\n\n\tconstructor(CSSClassName, models, settings){\n\t\tsuper();\n\t\tthis.className = CSSClassName;\n\t\tthis.models = models;\n\t\tthis.settings = settings;\n\t\tthis.$elements = $('.'+CSSClassName);\n\t\tthis.$parents = $('.'+CSSClassName+'-parent');\n\t\t\n\t\tif (models){\n\t\t\tfor (var i=0; i<models.length; i++){\n\t\t\t\tmodels[i].on('change', (data, changedKeys) => {\n\t\t\t\t\tthis.modelChanged(data, changedKeys);\n\t\t\t\t});\n\t\t\t\tmodels[i].on('set', (data, changedKeys) => {\n\t\t\t\t\tthis.modelSet(data, changedKeys);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.$elements.filter('select').on('change', (e) => this.selectChanged($(e.currentTarget), e));\n\t\tthis.$elements.filter('input').on('input', (e) => this.inputChanged($(e.currentTarget), e));\n\t\tthis.$elements.filter('input[type=checkbox]').on('change', (e) => this.inputChanged($(e.currentTarget), e));\n\t\tthis.$elements.filter('button').on('click', (e) => this.buttonClicked($(e.currentTarget), e));\n\t\t\n\t}\n\t\n\tmodelChanged(data, changedKeys){\n\t\tfor (let value of changedKeys){\n\t\t\tif (this['_'+value]){\n\t\t\t\tthis['_'+value](data[value], data, changedKeys);\n\t\t\t}\n\t\t}\n\t}\n\tmodelSet(data, changedKeys){\n\t\tfor (let value of changedKeys){\n\t\t\tif (this['__'+value]){\n\t\t\t\tthis['__'+value](data[value], data, changedKeys);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tselectChanged(element, e){}\n\tbuttonClicked(element, e){}\n\t\n\tprintElements(){\n\t\tconsole.log('elements:', this.$elements, 'parents:', this.$parents);\n\t}\n\t\t\n}\n\nmodule.exports = View;","'use strict';\nvar EventEmitter = require('events').EventEmitter;\n//var $ = require('jquery-browserify');\n\nvar enabled = true;\n\n// module variables\nvar numElements = 0, maxElements = 200, consoleDelete = true;\n\nclass Console extends EventEmitter {\n\n\tconstructor(){\n\t\tsuper();\n\t\tthis.$element = $('#beaglert-consoleWrapper');\n\t\tthis.parent = document.getElementById('beaglert-console');\n\t}\n\t\n\tblock(){\n\t\tenabled = false;\n\t}\n\tunblock(){\n\t\tenabled = true;\n\t}\n\t\n\tprint(text, className, id, onClick){\n\t\tif (!enabled) return;\n\t\tvar el = $('<div></div>').addClass('beaglert-console-'+className).appendTo(this.$element);\n\t\tif (id) el.prop('id', id);\n\t\t$('<span></span>').html(text).appendTo(el);\n\t\tif (numElements++ > maxElements) this.clear(numElements/4);\n\t\tif (onClick) el.on('click', onClick);\n\t\treturn el;\n\t}\n\n\t// log an unhighlighted message to the console\n\tlog(text, css){\n\t\tvar msgs = text.split('\\n');\n\t\tfor (let i=0;  i<msgs.length; i++){\n\t\t\tif (msgs[i] !== '' && msgs[i] !== ' '){\n\t\t\t\tthis.print(msgs[i], css || 'log');\n\t\t\t}\n\t\t}\n\t\tthis.scroll();\n\t}\n\t// log a warning message to the console\n\twarn(text, id){\n\t\tvar msgs = text.split('\\n');\n\t\tfor (let i=0;  i<msgs.length; i++){\n\t\t\tif (msgs[i] !== ''){\n\t\t\t\tthis.print(msgs[i], 'warning', id, function(){ \n\t\t\t\t\tvar $el = $(this);\n\t\t\t\t\t$el.addClass('beaglert-console-collapsed');\n\t\t\t\t\t$el.on('transitionend', () => {\n\t\t\t\t\t\tif ($el.hasClass('beaglert-console-collapsed')){\n\t\t\t\t\t\t\t$el.remove();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$el.addClass('beaglert-console-collapsed');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tthis.scroll();\n\t}\n\t\n\tnewErrors(errors){\n\t\n\t\t$('.beaglert-console-ierror, .beaglert-console-iwarning').remove();\n\t\t\n\t\tfor (let err of errors){\n\t\t\n\t\t\t// create the element and add it to the error object\n\t\t\tvar div = $('<div></div>').addClass('beaglert-console-i'+err.type)\n\t\t\t\n\t\t\t// create the link and add it to the element\n\t\t\tvar anchor = $('<a></a>').html(err.text+', line: '+err.row).appendTo(div);\n\t\t\t\n\t\t\tdiv.appendTo(this.$element);\n\t\t\t\n\t\t\tif (err.currentFile){\n\t\t\t\tdiv.on('click', () => this.emit('focus', {line: err.row+1, column: err.column-1}) );\n\t\t\t} else {\n\t\t\t\tdiv.on('click', () => this.emit('open-file', err.file, {line: err.row+1, column: err.column-1}) );\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tthis.scroll();\n\t}\n\t\n\t// log a positive notification to the console\n\t// if persist is not true, the notification will be removed quickly\n\t// otherwise it will just fade\n\tnotify(notice, id){\n\t\tif (!enabled) return;\n\t\t$('#'+id).remove();\n\t\tvar el = this.print(notice, 'notify', id);\n\t\tthis.scroll();\n\t\treturn el;\n\t}\n\t\n\tfulfill(message, id, persist){\n\t\tif (!enabled) return;\n\t\tvar el = document.getElementById(id);\n\t\t//if (!el) el = this.notify(message, id);\n\t\tvar $el = $(el);\n\t\t$el.appendTo(this.$element);//.removeAttr('id');\n\t\t$el.html($el.html()+message);\n\t\tsetTimeout( () => $el.addClass('beaglert-console-faded'), 500);\n\t\tif (!persist){\n\t\t\t$el.on('transitionend', () => {\n\t\t\t\tif ($el.hasClass('beaglert-console-collapsed')){\n\t\t\t\t\t$el.remove();\n\t\t\t\t} else {\n\t\t\t\t\t$el.addClass('beaglert-console-collapsed');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\treject(message, id, persist){\n\t\tvar el = document.getElementById(id);\n\t\t//if (!el) el = this.notify(message, id);\n\t\tvar $el = $(el);\n\t\t$el.appendTo(this.$element);//.removeAttr('id');\n\t\t$el.html($el.html()+message);\n\t\t$el.addClass('beaglert-console-rejectnotification');\n\t\tsetTimeout( () => $el.removeClass('beaglert-console-rejectnotification').addClass('beaglert-console-faded'), 500);\n\t\t$el.on('click', () => $el.addClass('beaglert-console-collapsed').on('transitionend', () => $el.remove() ));\n\t}\n\t\n\t// clear the console\n\tclear(number){\n\t\tif (!consoleDelete) return;\n\t\tif (number){\n\t\t\t$(\"#beaglert-consoleWrapper > div:lt(\"+parseInt(number)+\")\").remove();\n\t\t\tnumElements -= parseInt(number);\n\t\t} else {\n\t\t\t$('#beaglert-consoleWrapper > div').remove();\n\t\t\tnumElements = 0;\n\t\t}\n\t}\n\t\n\t// force the console to scroll to the bottom\n\tscroll(){\n\t\tsetTimeout((() => this.parent.scrollTop = this.parent.scrollHeight), 0);\n\t}\n\t\n\tsetConsoleDelete(to){\n\t\tconsoleDelete = to;\n\t}\n\t\n};\n\nmodule.exports = new Console();\n\n// gracefully remove a console element after an event ((this) must be bound to the element)\n/*function dismiss(){\n\tif (IDE.getSetting('consoleAnimations')) $(this).addClass('beaglert-console-collapsed');\n\tsetTimeout(() => {\n\t\tif ($.contains(parent, this)){\n\t\t\t$(this).remove();\n\t\t\tnumElements -= 1;\n\t\t}\n\t}, 500);\n}*/","//var $ = require('jquery-browserify');\nvar IDE;\n\n$(() => {\n\tIDE = require('./IDE-browser');\n});\n\n","var overlay\t= $('#overlay');\nvar parent\t= $('#popup');\nvar content\t= $('#popup-content');\nvar titleEl\t= parent.find('h1');\nvar subEl\t= parent.find('p');\nvar formEl\t= parent.find('form');\n\nvar popup = {\n\t\n\tshow(){\n\t\toverlay.addClass('active');\n\t\tparent.addClass('active');\n\t\tcontent.find('input[type=text]').first().trigger('focus');\n\t},\n\t\n\thide(){\n\t\toverlay.removeClass('active');\n\t\tparent.removeClass('active');\n\t\ttitleEl.empty();\n\t\tsubEl.empty();\n\t\tformEl.empty();\n\t},\n\t\n\tfind: selector => content.find(selector),\n\t\n\ttitle: text => titleEl.text(text),\n\tsubtitle: text => subEl.text(text),\n\tformEl: html => formEl.html(html),\n\t\n\tappend: child => content.append(child),\n\t\n\tform: formEl,\n\t\n\texampleChanged: example\n\t\n};\n\nmodule.exports = popup;\n\nfunction example(cb, arg, delay, cancelCb){\n\n\t// build the popup content\n\tpopup.title('Save your changes?');\n\tpopup.subtitle('You have made changes to an example project. If you continue, your changes will be lost. To keep your changes, click cancel and then Save As in the project manager tab');\n\t\n\tvar form = [];\n\tform.push('<button type=\"submit\" class=\"button popup-continue\">Continue</button>');\n\tform.push('<button type=\"button\" class=\"button popup-cancel\">Cancel</button>');\n\t\n\tpopup.form.append(form.join('')).off('submit').on('submit', e => {\n\t\te.preventDefault();\n\t\tsetTimeout(function(){\n\t\t\tcb(arg);\n\t\t}, delay);\n\t\tpopup.hide();\n\t});\n\t\t\n\tpopup.find('.popup-cancel').on('click', () => {\n\t\tpopup.hide();\n\t\tif (cancelCb) cancelCb();\n\t});\n\t\n\tpopup.show();\n\t\n\tpopup.find('.popup-continue').trigger('focus');\n\t\n}"]}