#N canvas 0 22 1280 770 10;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-table1 65238 float 2;
#X coords 0 1 65238 -1 200 140 1 0 0;
#X restore 323 511 graph;
#X obj 144 480 dac~;
#X obj 20 319 lop~ 1;
#X text 20 28 Load sample into table and scrub using analog input;
#X text 20 38 ===================================================;
#X text 226 97 <<< loading a file:;
#X text 226 117 point soundfiler to the samples folder;
#X obj 20 380 *~;
#X obj 303 377 *~;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-table2 441000 float 2;
#X coords 0 1 441000 -1 200 140 1 0 0;
#X restore 530 511 graph;
#X obj 19 146 soundfiler;
#X obj 19 64 loadbang;
#X text 225 162 <<< If you include your own samples in the project
;
#X text 92 223 Connect two potentiometers to analog in 0 and 1;
#X text 974 16 ............................;
#X text 974 26 . ____ ._____ _ .......___ .;
#X text 974 36 .| __ )| ____| |....../ _ |.;
#X text 974 56 .| |_) | |___| |___ / ___ |.;
#X text 974 66 .|____/|_____|_____/_/..._|.io;
#X text 974 76 ............................;
#X text 974 46 .| __ || __|.| |...../ _| |.;
#X text 226 137 name_of_file.wav;
#X obj 303 275 adc~ 7;
#X obj 303 316 lop~ 2;
#X obj 21 249 adc~ 6;
#X msg 19 118 read -resize rt.wav \$1-table1;
#X text 226 60 \$0-table1 contains a sample from file;
#X text 596 57 We can record into \$0-table2 from the audio input;
#X text 595 71 \$0-table2 can store up to 10 seconds of audio at 44100kHz.
;
#X obj 658 159 s bela_setDigital;
#X obj 659 116 loadbang;
#X text 596 89 Initialize Bela digital: use digital 0 as an input;
#X text 225 182 just change the path to the file name;
#X obj 711 230 r bela_digitalIn11;
#X obj 711 257 delay 3;
#X obj 710 279 f;
#X obj 710 300 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 710 319 select 1 0;
#X msg 697 366 stop;
#X text 599 416 Record the input to the table;
#X obj 573 274 adc~ 1;
#X text 1043 262 Simple sampler: press and play;
#X text 701 209 Receive the button value as it changes;
#X text 775 256 debounce for 3ms;
#X text 850 226 0: non-pressed;
#X text 850 242 1: pressed;
#X obj 637 396 tabwrite~ \$0-table2;
#X text 899 413 timer returns the duration of the recorded sample;
#X obj 19 89 \$0;
#X obj 20 431 tabread4~ \$0-table1;
#X obj 303 428 tabread4~ \$0-table2;
#X obj 792 418 timer 1 sample;
#X text 898 425 (interval between start and stop) in samples;
#X obj 792 444 s \$0-sampleLength2;
#X obj 318 351 r \$0-sampleLength2;
#X obj 35 354 r \$0-sampleLength1;
#X obj 19 170 s \$0-sampleLength1;
#X text 535 251 to scope channel 1;
#X text 535 240 Monitor left audio input;
#X text 890 291 Connect a button to bela digital 0 (P8_07). Hold press
;
#X text 80 376 <<< multiply by sample length >>>;
#X text 78 389 to play the whole sample;
#X text 82 320 <<< avoid zipper noise >>>;
#X text 64 277 <<< analog input 0 (range 0-1) >>>;
#X obj 540 397 print recording;
#X msg 658 137 in 11 message \, in 12 message;
#X obj 573 306 dac~ 27;
#X text 890 305 the button to record. Use a pull-down resistor to ground
for;
#X text 890 319 the pin and wire it so that when the button is not
pressed;
#X text 890 333 P8_07 is low and it goes high when you press it. Connect
;
#X text 890 347 your sound source to the left audio input.;
#X text 890 375 --pga-gain-left=xx where xx is the input gain in dB.
;
#X text 890 361 You can adjust the input gain by starting $ \$0 \$1
the patch with;
#X connect 2 0 7 0;
#X connect 7 0 49 0;
#X connect 8 0 50 0;
#X connect 10 0 56 0;
#X connect 11 0 48 0;
#X connect 22 0 23 0;
#X connect 23 0 8 0;
#X connect 24 0 2 0;
#X connect 25 0 10 0;
#X connect 30 0 65 0;
#X connect 33 0 35 1;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 36 0 64 0;
#X connect 37 0 46 0;
#X connect 37 0 51 0;
#X connect 37 1 38 0;
#X connect 37 1 51 1;
#X connect 38 0 46 0;
#X connect 40 0 46 0;
#X connect 40 0 66 0;
#X connect 48 0 25 0;
#X connect 49 0 1 0;
#X connect 49 0 1 1;
#X connect 50 0 1 0;
#X connect 50 0 1 1;
#X connect 51 0 53 0;
#X connect 54 0 8 1;
#X connect 55 0 7 1;
#X connect 65 0 29 0;
